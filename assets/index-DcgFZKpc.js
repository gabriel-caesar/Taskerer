(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function c1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dd={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function h1(){if(p_)return vl;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return vl.Fragment=t,vl.jsx=n,vl.jsxs=n,vl}var y_;function f1(){return y_||(y_=1,Dd.exports=h1()),Dd.exports}var z=f1(),Od={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function d1(){if(__)return Rt;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,W={};function K(D,Z,ht){this.props=D,this.context=Z,this.refs=W,this.updater=ht||j}K.prototype.isReactComponent={},K.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},K.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=K.prototype;function it(D,Z,ht){this.props=D,this.context=Z,this.refs=W,this.updater=ht||j}var J=it.prototype=new et;J.constructor=it,G(J,K.prototype),J.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function x(D,Z,ht,rt,st,It){return ht=It.ref,{$$typeof:r,type:D,key:Z,ref:ht!==void 0?ht:null,props:It}}function R(D,Z){return x(D.type,Z,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function C(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ht){return Z[ht]})}var M=/\/+/g;function V(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):Z.toString(36)}function I(){}function Jt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function te(D,Z,ht,rt,st){var It=typeof D;(It==="undefined"||It==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(It){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case t:At=!0;break;case T:return At=D._init,te(At(D._payload),Z,ht,rt,st)}}if(At)return st=st(D),At=rt===""?"."+V(D,0):rt,ut(st)?(ht="",At!=null&&(ht=At.replace(M,"$&/")+"/"),te(st,Z,ht,"",function(se){return se})):st!=null&&(w(st)&&(st=R(st,ht+(st.key==null||D&&D.key===st.key?"":(""+st.key).replace(M,"$&/")+"/")+At)),Z.push(st)),1;At=0;var me=rt===""?".":rt+":";if(ut(D))for(var zt=0;zt<D.length;zt++)rt=D[zt],It=me+V(rt,zt),At+=te(rt,Z,ht,It,st);else if(zt=O(D),typeof zt=="function")for(D=zt.call(D),zt=0;!(rt=D.next()).done;)rt=rt.value,It=me+V(rt,zt++),At+=te(rt,Z,ht,It,st);else if(It==="object"){if(typeof D.then=="function")return te(Jt(D),Z,ht,rt,st);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return At}function nt(D,Z,ht){if(D==null)return D;var rt=[],st=0;return te(D,rt,"","",function(It){return Z.call(ht,It,st++)}),rt}function mt(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(ht){(D._status===0||D._status===-1)&&(D._status=1,D._result=ht)},function(ht){(D._status===0||D._status===-1)&&(D._status=2,D._result=ht)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var gt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ht(){}return Rt.Children={map:nt,forEach:function(D,Z,ht){nt(D,function(){Z.apply(this,arguments)},ht)},count:function(D){var Z=0;return nt(D,function(){Z++}),Z},toArray:function(D){return nt(D,function(Z){return Z})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=K,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,Z,ht){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=G({},D.props),st=D.key,It=void 0;if(Z!=null)for(At in Z.ref!==void 0&&(It=void 0),Z.key!==void 0&&(st=""+Z.key),Z)!ft.call(Z,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Z.ref===void 0||(rt[At]=Z[At]);var At=arguments.length-2;if(At===1)rt.children=ht;else if(1<At){for(var me=Array(At),zt=0;zt<At;zt++)me[zt]=arguments[zt+2];rt.children=me}return x(D.type,st,void 0,void 0,It,rt)},Rt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Rt.createElement=function(D,Z,ht){var rt,st={},It=null;if(Z!=null)for(rt in Z.key!==void 0&&(It=""+Z.key),Z)ft.call(Z,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(st[rt]=Z[rt]);var At=arguments.length-2;if(At===1)st.children=ht;else if(1<At){for(var me=Array(At),zt=0;zt<At;zt++)me[zt]=arguments[zt+2];st.children=me}if(D&&D.defaultProps)for(rt in At=D.defaultProps,At)st[rt]===void 0&&(st[rt]=At[rt]);return x(D,It,void 0,void 0,null,st)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:m,render:D}},Rt.isValidElement=w,Rt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:mt}},Rt.memo=function(D,Z){return{$$typeof:y,type:D,compare:Z===void 0?null:Z}},Rt.startTransition=function(D){var Z=lt.T,ht={};lt.T=ht;try{var rt=D(),st=lt.S;st!==null&&st(ht,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ht,gt)}catch(It){gt(It)}finally{lt.T=Z}},Rt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Rt.use=function(D){return lt.H.use(D)},Rt.useActionState=function(D,Z,ht){return lt.H.useActionState(D,Z,ht)},Rt.useCallback=function(D,Z){return lt.H.useCallback(D,Z)},Rt.useContext=function(D){return lt.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,Z){return lt.H.useDeferredValue(D,Z)},Rt.useEffect=function(D,Z){return lt.H.useEffect(D,Z)},Rt.useId=function(){return lt.H.useId()},Rt.useImperativeHandle=function(D,Z,ht){return lt.H.useImperativeHandle(D,Z,ht)},Rt.useInsertionEffect=function(D,Z){return lt.H.useInsertionEffect(D,Z)},Rt.useLayoutEffect=function(D,Z){return lt.H.useLayoutEffect(D,Z)},Rt.useMemo=function(D,Z){return lt.H.useMemo(D,Z)},Rt.useOptimistic=function(D,Z){return lt.H.useOptimistic(D,Z)},Rt.useReducer=function(D,Z,ht){return lt.H.useReducer(D,Z,ht)},Rt.useRef=function(D){return lt.H.useRef(D)},Rt.useState=function(D){return lt.H.useState(D)},Rt.useSyncExternalStore=function(D,Z,ht){return lt.H.useSyncExternalStore(D,Z,ht)},Rt.useTransition=function(){return lt.H.useTransition()},Rt.version="19.0.0",Rt}var v_;function bm(){return v_||(v_=1,Od.exports=d1()),Od.exports}var St=bm();const Bs=c1(St);var Nd={exports:{}},El={},Md={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function m1(){return E_||(E_=1,function(r){function t(nt,mt){var gt=nt.length;nt.push(mt);t:for(;0<gt;){var Ht=gt-1>>>1,D=nt[Ht];if(0<o(D,mt))nt[Ht]=mt,nt[gt]=D,gt=Ht;else break t}}function n(nt){return nt.length===0?null:nt[0]}function s(nt){if(nt.length===0)return null;var mt=nt[0],gt=nt.pop();if(gt!==mt){nt[0]=gt;t:for(var Ht=0,D=nt.length,Z=D>>>1;Ht<Z;){var ht=2*(Ht+1)-1,rt=nt[ht],st=ht+1,It=nt[st];if(0>o(rt,gt))st<D&&0>o(It,rt)?(nt[Ht]=It,nt[st]=gt,Ht=st):(nt[Ht]=rt,nt[ht]=gt,Ht=ht);else if(st<D&&0>o(It,gt))nt[Ht]=It,nt[st]=gt,Ht=st;else break t}}return mt}function o(nt,mt){var gt=nt.sortIndex-mt.sortIndex;return gt!==0?gt:nt.id-mt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,A=null,O=3,j=!1,G=!1,W=!1,K=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function J(nt){for(var mt=n(y);mt!==null;){if(mt.callback===null)s(y);else if(mt.startTime<=nt)s(y),mt.sortIndex=mt.expirationTime,t(p,mt);else break;mt=n(y)}}function ut(nt){if(W=!1,J(nt),!G)if(n(p)!==null)G=!0,Jt();else{var mt=n(y);mt!==null&&te(ut,mt.startTime-nt)}}var lt=!1,ft=-1,x=5,R=-1;function w(){return!(r.unstable_now()-R<x)}function C(){if(lt){var nt=r.unstable_now();R=nt;var mt=!0;try{t:{G=!1,W&&(W=!1,et(ft),ft=-1),j=!0;var gt=O;try{e:{for(J(nt),A=n(p);A!==null&&!(A.expirationTime>nt&&w());){var Ht=A.callback;if(typeof Ht=="function"){A.callback=null,O=A.priorityLevel;var D=Ht(A.expirationTime<=nt);if(nt=r.unstable_now(),typeof D=="function"){A.callback=D,J(nt),mt=!0;break e}A===n(p)&&s(p),J(nt)}else s(p);A=n(p)}if(A!==null)mt=!0;else{var Z=n(y);Z!==null&&te(ut,Z.startTime-nt),mt=!1}}break t}finally{A=null,O=gt,j=!1}mt=void 0}}finally{mt?M():lt=!1}}}var M;if(typeof it=="function")M=function(){it(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=C,M=function(){I.postMessage(null)}}else M=function(){K(C,0)};function Jt(){lt||(lt=!0,M())}function te(nt,mt){ft=K(function(){nt(r.unstable_now())},mt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(nt){nt.callback=null},r.unstable_continueExecution=function(){G||j||(G=!0,Jt())},r.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<nt?Math.floor(1e3/nt):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(nt){switch(O){case 1:case 2:case 3:var mt=3;break;default:mt=O}var gt=O;O=mt;try{return nt()}finally{O=gt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(nt,mt){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var gt=O;O=nt;try{return mt()}finally{O=gt}},r.unstable_scheduleCallback=function(nt,mt,gt){var Ht=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ht+gt:Ht):gt=Ht,nt){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=gt+D,nt={id:T++,callback:mt,priorityLevel:nt,startTime:gt,expirationTime:D,sortIndex:-1},gt>Ht?(nt.sortIndex=gt,t(y,nt),n(p)===null&&nt===n(y)&&(W?(et(ft),ft=-1):W=!0,te(ut,gt-Ht))):(nt.sortIndex=D,t(p,nt),G||j||(G=!0,Jt())),nt},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(nt){var mt=O;return function(){var gt=O;O=mt;try{return nt.apply(this,arguments)}finally{O=gt}}}}(xd)),xd}var T_;function g1(){return T_||(T_=1,Md.exports=m1()),Md.exports}var kd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function p1(){if(b_)return Ge;b_=1;var r=bm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},Ge.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:j}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:O,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var w_;function y1(){if(w_)return kd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=p1(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function _1(){if(S_)return El;S_=1;var r=g1(),t=bm(),n=y1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ut=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case G:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case et:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case it:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,M,V;function I(e){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+V}var Jt=!1;function te(e,i){if(!e||Jt)return"";Jt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var S=v.split(`
`),k=E.split(`
`);for(h=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===S.length||h===k.length)for(l=S.length-1,h=k.length-1;1<=l&&0<=h&&S[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(S[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||S[l]!==k[h]){var F=`
`+S[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Jt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function nt(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function mt(e){try{var i="";do i+=nt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(gt(e)!==e)throw Error(s(188))}function Z(e){var i=e.alternate;if(!i){if(i=gt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return D(h),e;if(d===l)return D(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var rt=Array.isArray,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},At=[],me=-1;function zt(e){return{current:e}}function se(e){0>me||(e.current=At[me],At[me]=null,me--)}function Yt(e,i){me++,At[me]=e.current,e.current=i}var We=zt(null),gi=zt(null),vn=zt(null),Zi=zt(null);function Ji(e,i){switch(Yt(vn,i),Yt(gi,e),Yt(We,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Gy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Gy(e),i=Yy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(We),Yt(We,i)}function pi(){se(We),se(gi),se(vn)}function mo(e){e.memoizedState!==null&&Yt(Zi,e);var i=We.current,a=Yy(i,e.type);i!==a&&(Yt(gi,e),Yt(We,a))}function Zs(e){gi.current===e&&(se(We),se(gi)),Zi.current===e&&(se(Zi),ml._currentValue=It)}var Js=Object.prototype.hasOwnProperty,as=r.unstable_scheduleCallback,ta=r.unstable_cancelCallback,Oh=r.unstable_shouldYield,go=r.unstable_requestPaint,rn=r.unstable_now,nu=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,iu=r.unstable_LowPriority,po=r.unstable_IdlePriority,Nh=r.log,os=r.unstable_setDisableYieldValue,tr=null,He=null;function yo(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(tr,e,void 0,(e.current.flags&128)===128)}catch{}}function Gn(e){if(typeof Nh=="function"&&os(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(tr,e)}catch{}}var $e=Math.clz32?Math.clz32:su,_o=Math.log,ru=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(_o(e)/ru|0)|0}var Yn=128,er=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=Un(a):(d&=E,d!==0?l=Un(d):e||(v=E&~v,v!==0&&(l=Un(v))))):(E=a&~h,E!==0?l=Un(E):d!==0?l=Un(d):e||(v=a&~v,v!==0&&(l=Un(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function nr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ea(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var e=Yn;return Yn<<=1,(Yn&4194176)===0&&(Yn=128),e}function ir(){var e=er;return er<<=1,(er&62914560)===0&&(er=4194304),e}function na(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function he(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function au(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,k=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-$e(a),X=1<<F;E[F]=0,S[F]=-1;var B=k[F];if(B!==null)for(k[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&rr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function rr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-$e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function sr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ou(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function ar(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Qn=Math.random().toString(36).slice(2),De="__reactFiber$"+Qn,Ee="__reactProps$"+Qn,_i="__reactContainer$"+Qn,ls="__reactEvents$"+Qn,ia="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,Eo="__reactResources$"+Qn,or="__reactMarker$"+Qn;function us(e){delete e[De],delete e[Ee],delete e[ls],delete e[ia],delete e[Kn]}function Ln(e){var i=e[De];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_i]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Xy(e);e!==null;){if(a=e[De])return a;e=Xy(e)}return i}e=a,a=e.parentNode}return null}function vi(e){if(e=e[De]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function lr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ur(e){var i=e[Eo];return i||(i=e[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ee(e){e[or]=!0}var To=new Set,ra={};function cn(e,i){sn(e,i),sn(e+"Capture",i)}function sn(e,i){for(ra[e]=i,e=0;e<i.length;e++)To.add(i[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function uu(e){return Js.call(wo,e)?!0:Js.call(bo,e)?!1:Mh.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function cr(e,i,a){if(uu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function hr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xh(e){var i=cu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function cs(e){e._valueTracker||(e._valueTracker=xh(e))}function So(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function ae(e){return e.replace(Ei,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fr(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?aa(e,v,Ze(i)):a!=null?aa(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function hs(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function aa(e,i,a){i==="number"&&sa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function fs(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function dr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function bn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||kh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function hu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ao(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ao(e,d,i[d])}function Ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(e){return Ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wn=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,bi=null;function wi(e){var i=vi(e);if(i&&(e=i.stateNode)){var a=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(fr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ee]||null;if(!h)throw Error(s(90));fr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&So(l)}break t;case"textarea":fs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&jt(e,!!a.multiple,i,!1)}}}var Io=!1;function fu(e,i,a){if(Io)return e(i,a);Io=!0;try{var l=e(i);return l}finally{if(Io=!1,(Ti!==null||bi!==null)&&(ic(),Ti&&(i=Ti,e=bi,bi=Ti=null,wi(i),e)))for(i=0;i<e.length;i++)wi(e[i])}}function ds(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Sn=!1;if(hn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Sn=!1}var Wn=null,mr=null,Si=null;function Co(){if(Si)return Si;var e,i=mr,a=i.length,l,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function Do(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Do,this.isPropagationStopped=Do,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Oe(Ft),gs=C({},Ft,{view:0,detail:0}),du=Oe(gs),ua,ca,Jn,ps=C({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(ua=e.screenX-Jn.screenX,ca=e.screenY-Jn.screenY):ca=ua=0,Jn=e),ua)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),An=Oe(ps),mu=C({},ps,{dataTransfer:0}),Uh=Oe(mu),ys=C({},gs,{relatedTarget:0}),ha=Oe(ys),Oo=C({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=Oe(Oo),gu=C({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),da=Oe(gu),Lh=C({},Ft,{data:0}),No=Oe(Lh),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yu[e])?!!i[e]:!1}function vs(){return Mo}var _u=C({},gs,{key:function(e){if(e.key){var i=_s[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ma=Oe(_u),vu=C({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Oe(vu),Ai=C({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Eu=Oe(Ai),Tu=C({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Oe(Tu),wu=C({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Oe(wu),Je=C({},Ft,{newState:0,oldState:0}),Su=Oe(Je),Au=[9,13,27,32],ti=hn&&"CompositionEvent"in window,c=null;hn&&"documentMode"in document&&(c=document.documentMode);var g=hn&&"TextEvent"in window&&!c,_=hn&&(!ti||c&&8<c&&11>=c),b=" ",U=!1;function q(e,i){switch(e){case"keyup":return Au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Te(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return e=i.data,e===b&&U?null:e;default:return null}}function Pt(e,i){if(Vt)return e==="compositionend"||!ti&&q(e,i)?(e=Co(),Si=mr=Wn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ri(e,i,a,l){Ti?bi?bi.push(l):bi=[l]:Ti=l,i=lc(i,"onChange"),0<i.length&&(a=new la("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Pe=null,ei=null;function ko(e){jy(e,0)}function Ru(e){var i=lr(e);if(So(i))return e}function gg(e,i){if(e==="change")return i}var pg=!1;if(hn){var zh;if(hn){var jh="oninput"in document;if(!jh){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),jh=typeof yg.oninput=="function"}zh=jh}else zh=!1;pg=zh&&(!document.documentMode||9<document.documentMode)}function _g(){Pe&&(Pe.detachEvent("onpropertychange",vg),ei=Pe=null)}function vg(e){if(e.propertyName==="value"&&Ru(ei)){var i=[];Ri(i,ei,e,oa(e)),fu(ko,i)}}function jT(e,i,a){e==="focusin"?(_g(),Pe=i,ei=a,Pe.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ei)}function qT(e,i){if(e==="click")return Ru(i)}function HT(e,i){if(e==="input"||e==="change")return Ru(i)}function FT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var fn=typeof Object.is=="function"?Object.is:FT;function Vo(e,i){if(fn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Js.call(i,h)||!fn(e[h],i[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,i){var a=Eg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Eg(a)}}function bg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=sa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=sa(e.document)}return i}function Bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function GT(e,i){var a=wg(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&bg(i.ownerDocument.documentElement,i)){if(l!==null&&Bh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Tg(i,d);var v=Tg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var YT=hn&&"documentMode"in document&&11>=document.documentMode,pa=null,qh=null,Po=null,Hh=!1;function Sg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||pa==null||pa!==sa(l)||(l=pa,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Po&&Vo(Po,l)||(Po=l,l=lc(qh,"onSelect"),0<l.length&&(i=new la("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=pa)))}function Es(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Fh={},Ag={};hn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ts(e){if(Fh[e])return Fh[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ag)return Fh[e]=i[a];return e}var Rg=Ts("animationend"),Ig=Ts("animationiteration"),Cg=Ts("animationstart"),QT=Ts("transitionrun"),KT=Ts("transitionstart"),XT=Ts("transitioncancel"),Dg=Ts("transitionend"),Og=new Map,Ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(e,i){Og.set(e,i),cn(i,[e])}var Rn=[],_a=0,Gh=0;function Iu(){for(var e=_a,i=Gh=_a=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function Cu(e,i,a,l){Rn[_a++]=e,Rn[_a++]=i,Rn[_a++]=a,Rn[_a++]=l,Gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yh(e,i,a,l){return Cu(e,i,a,l),Du(e)}function gr(e,i){return Cu(e,null,null,i),Du(e)}function Mg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Du(e){if(50<ol)throw ol=0,Jf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={},xg=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=xg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:mt(i)},xg.set(e,i),i)}return{value:e,source:i,stack:mt(i)}}var Ea=[],Ta=0,Ou=null,Nu=0,Cn=[],Dn=0,bs=null,Ii=1,Ci="";function ws(e,i){Ea[Ta++]=Nu,Ea[Ta++]=Ou,Ou=e,Nu=i}function kg(e,i,a){Cn[Dn++]=Ii,Cn[Dn++]=Ci,Cn[Dn++]=bs,bs=e;var l=Ii;e=Ci;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-$e(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function Qh(e){e.return!==null&&(ws(e,1),kg(e,1,0))}function Kh(e){for(;e===Ou;)Ou=Ea[--Ta],Ea[Ta]=null,Nu=Ea[--Ta],Ea[Ta]=null;for(;e===bs;)bs=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null,Ii=Cn[--Dn],Cn[Dn]=null}var tn=null,Ue=null,Bt=!1,jn=null,ni=!1,Xh=Error(s(519));function Ss(e){var i=Error(s(418,""));throw zo(In(i,e)),Xh}function Vg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[De]=e,i[Ee]=l,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<ul.length;a++)kt(ul[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),hs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),cs(i);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),dr(i,l.value,l.defaultValue,l.children),cs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Fy(i.textContent,a)?(l.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),l.onScroll!=null&&kt("scroll",i),l.onScrollEnd!=null&&kt("scrollend",i),l.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||Ss(e)}function Pg(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:ni=!0;return;case 5:case 13:ni=!1;return;default:tn=tn.return}}function Uo(e){if(e!==tn)return!1;if(!Bt)return Pg(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ue&&Ss(e),Pg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ue=qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ue=null}}else Ue=tn?qn(e.stateNode.nextSibling):null;return!0}function Lo(){Ue=tn=null,Bt=!1}function zo(e){jn===null?jn=[e]:jn.push(e)}var jo=Error(s(460)),Ug=Error(s(474)),Wh={then:function(){}};function Lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(){}function zg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Mu,Mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===jo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===jo?Error(s(483)):e}throw Bo=i,jo}}var Bo=null;function jg(){if(Bo===null)throw Error(s(459));var e=Bo;return Bo=null,e}var ba=null,qo=0;function xu(e){var i=qo;return qo+=1,ba===null&&(ba=[]),zg(ba,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ku(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Bg(e){var i=e._init;return i(e._payload)}function qg(e){function i(P,N){if(e){var L=P.deletions;L===null?(P.deletions=[N],P.flags|=16):L.push(N)}}function a(P,N){if(!e)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Ir(P,N),P.index=0,P.sibling=null,P}function d(P,N,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<N?(P.flags|=33554434,N):L):(P.flags|=33554434,N)):(P.flags|=1048576,N)}function v(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function E(P,N,L,Y){return N===null||N.tag!==6?(N=Gf(L,P.mode,Y),N.return=P,N):(N=h(N,L),N.return=P,N)}function S(P,N,L,Y){var ot=L.type;return ot===p?F(P,N,L.props.children,Y,L.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===it&&Bg(ot)===N.type)?(N=h(N,L.props),Ho(N,L),N.return=P,N):(N=Zu(L.type,L.key,L.props,null,P.mode,Y),Ho(N,L),N.return=P,N)}function k(P,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Yf(L,P.mode,Y),N.return=P,N):(N=h(N,L.children||[]),N.return=P,N)}function F(P,N,L,Y,ot){return N===null||N.tag!==7?(N=ks(L,P.mode,Y,ot),N.return=P,N):(N=h(N,L),N.return=P,N)}function X(P,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Gf(""+N,P.mode,L),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return L=Zu(N.type,N.key,N.props,null,P.mode,L),Ho(L,N),L.return=P,L;case m:return N=Yf(N,P.mode,L),N.return=P,N;case it:var Y=N._init;return N=Y(N._payload),X(P,N,L)}if(rt(N)||ft(N))return N=ks(N,P.mode,L,null),N.return=P,N;if(typeof N.then=="function")return X(P,xu(N),L);if(N.$$typeof===j)return X(P,Xu(P,N),L);ku(P,N)}return null}function B(P,N,L,Y){var ot=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(P,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return L.key===ot?S(P,N,L,Y):null;case m:return L.key===ot?k(P,N,L,Y):null;case it:return ot=L._init,L=ot(L._payload),B(P,N,L,Y)}if(rt(L)||ft(L))return ot!==null?null:F(P,N,L,Y,null);if(typeof L.then=="function")return B(P,N,xu(L),Y);if(L.$$typeof===j)return B(P,N,Xu(P,L),Y);ku(P,L)}return null}function H(P,N,L,Y,ot){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,E(N,P,""+Y,ot);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:return P=P.get(Y.key===null?L:Y.key)||null,S(N,P,Y,ot);case m:return P=P.get(Y.key===null?L:Y.key)||null,k(N,P,Y,ot);case it:var Ot=Y._init;return Y=Ot(Y._payload),H(P,N,L,Y,ot)}if(rt(Y)||ft(Y))return P=P.get(L)||null,F(N,P,Y,ot,null);if(typeof Y.then=="function")return H(P,N,L,xu(Y),ot);if(Y.$$typeof===j)return H(P,N,L,Xu(N,Y),ot);ku(N,Y)}return null}function ct(P,N,L,Y){for(var ot=null,Ot=null,dt=N,_t=N=0,ke=null;dt!==null&&_t<L.length;_t++){dt.index>_t?(ke=dt,dt=null):ke=dt.sibling;var qt=B(P,dt,L[_t],Y);if(qt===null){dt===null&&(dt=ke);break}e&&dt&&qt.alternate===null&&i(P,dt),N=d(qt,N,_t),Ot===null?ot=qt:Ot.sibling=qt,Ot=qt,dt=ke}if(_t===L.length)return a(P,dt),Bt&&ws(P,_t),ot;if(dt===null){for(;_t<L.length;_t++)dt=X(P,L[_t],Y),dt!==null&&(N=d(dt,N,_t),Ot===null?ot=dt:Ot.sibling=dt,Ot=dt);return Bt&&ws(P,_t),ot}for(dt=l(dt);_t<L.length;_t++)ke=H(dt,P,_t,L[_t],Y),ke!==null&&(e&&ke.alternate!==null&&dt.delete(ke.key===null?_t:ke.key),N=d(ke,N,_t),Ot===null?ot=ke:Ot.sibling=ke,Ot=ke);return e&&dt.forEach(function(kr){return i(P,kr)}),Bt&&ws(P,_t),ot}function bt(P,N,L,Y){if(L==null)throw Error(s(151));for(var ot=null,Ot=null,dt=N,_t=N=0,ke=null,qt=L.next();dt!==null&&!qt.done;_t++,qt=L.next()){dt.index>_t?(ke=dt,dt=null):ke=dt.sibling;var kr=B(P,dt,qt.value,Y);if(kr===null){dt===null&&(dt=ke);break}e&&dt&&kr.alternate===null&&i(P,dt),N=d(kr,N,_t),Ot===null?ot=kr:Ot.sibling=kr,Ot=kr,dt=ke}if(qt.done)return a(P,dt),Bt&&ws(P,_t),ot;if(dt===null){for(;!qt.done;_t++,qt=L.next())qt=X(P,qt.value,Y),qt!==null&&(N=d(qt,N,_t),Ot===null?ot=qt:Ot.sibling=qt,Ot=qt);return Bt&&ws(P,_t),ot}for(dt=l(dt);!qt.done;_t++,qt=L.next())qt=H(dt,P,_t,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?_t:qt.key),N=d(qt,N,_t),Ot===null?ot=qt:Ot.sibling=qt,Ot=qt);return e&&dt.forEach(function(u1){return i(P,u1)}),Bt&&ws(P,_t),ot}function ue(P,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case f:t:{for(var ot=L.key;N!==null;){if(N.key===ot){if(ot=L.type,ot===p){if(N.tag===7){a(P,N.sibling),Y=h(N,L.props.children),Y.return=P,P=Y;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===it&&Bg(ot)===N.type){a(P,N.sibling),Y=h(N,L.props),Ho(Y,L),Y.return=P,P=Y;break t}a(P,N);break}else i(P,N);N=N.sibling}L.type===p?(Y=ks(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Zu(L.type,L.key,L.props,null,P.mode,Y),Ho(Y,L),Y.return=P,P=Y)}return v(P);case m:t:{for(ot=L.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(P,N.sibling),Y=h(N,L.children||[]),Y.return=P,P=Y;break t}else{a(P,N);break}else i(P,N);N=N.sibling}Y=Yf(L,P.mode,Y),Y.return=P,P=Y}return v(P);case it:return ot=L._init,L=ot(L._payload),ue(P,N,L,Y)}if(rt(L))return ct(P,N,L,Y);if(ft(L)){if(ot=ft(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),bt(P,N,L,Y)}if(typeof L.then=="function")return ue(P,N,xu(L),Y);if(L.$$typeof===j)return ue(P,N,Xu(P,L),Y);ku(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(P,N.sibling),Y=h(N,L),Y.return=P,P=Y):(a(P,N),Y=Gf(L,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,N)}return function(P,N,L,Y){try{qo=0;var ot=ue(P,N,L,Y);return ba=null,ot}catch(dt){if(dt===jo)throw dt;var Ot=xn(29,dt,null,P.mode);return Ot.lanes=Y,Ot.return=P,Ot}finally{}}}var As=qg(!0),Hg=qg(!1),wa=zt(null),Vu=zt(0);function Fg(e,i){e=zi,Yt(Vu,e),Yt(wa,i),zi=e|i.baseLanes}function $h(){Yt(Vu,zi),Yt(wa,wa.current)}function Zh(){zi=Vu.current,se(wa),se(Vu)}var On=zt(null),ii=null;function pr(e){var i=e.alternate;Yt(we,we.current&1),Yt(On,e),ii===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(ii=e)}function Gg(e){if(e.tag===22){if(Yt(we,we.current),Yt(On,e),ii===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ii=e)}}else yr()}function yr(){Yt(we,we.current),Yt(On,On.current)}function Di(e){se(On),ii===e&&(ii=null),se(we)}var we=zt(0);function Pu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},$T=r.unstable_scheduleCallback,ZT=r.unstable_NormalPriority,Se={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new WT,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&$T(ZT,function(){e.controller.abort()})}var Go=null,tf=0,Sa=0,Aa=null;function JT(e,i){if(Go===null){var a=Go=[];tf=0,Sa=od(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return tf++,i.then(Yg,Yg),i}function Yg(){if(--tf===0&&Go!==null){Aa!==null&&(Aa.status="fulfilled");var e=Go;Go=null,Sa=0,Aa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function tb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qg=w.S;w.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JT(e,i),Qg!==null&&Qg(e,i)};var Rs=zt(null);function ef(){var e=Rs.current;return e!==null?e:$t.pooledCache}function Uu(e,i){i===null?Yt(Rs,Rs.current):Yt(Rs,i.pool)}function Kg(){var e=ef();return e===null?null:{parent:Se._currentValue,pool:e}}var _r=0,Ct=null,Kt=null,ge=null,Lu=!1,Ra=!1,Is=!1,zu=0,Yo=0,Ia=null,eb=0;function fe(){throw Error(s(321))}function nf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!fn(e[a],i[a]))return!1;return!0}function rf(e,i,a,l,h,d){return _r=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=e===null||e.memoizedState===null?Cs:vr,Is=!1,d=a(l,h),Is=!1,Ra&&(d=Wg(i,a,l,h)),Xg(e),d}function Xg(e){w.H=ri;var i=Kt!==null&&Kt.next!==null;if(_r=0,ge=Kt=Ct=null,Lu=!1,Yo=0,Ia=null,i)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Ku(e)&&(Me=!0))}function Wg(e,i,a,l){Ct=e;var h=0;do{if(Ra&&(Ia=null),Yo=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,ge=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Ds,d=i(a,l)}while(Ra);return d}function nb(){var e=w.H,i=e.useState()[0];return i=typeof i.then=="function"?Qo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function sf(){var e=zu!==0;return zu=0,e}function af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function of(e){if(Lu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Lu=!1}_r=0,ge=Kt=Ct=null,Ra=!1,Yo=zu=0,Ia=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Ct.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=ge===null?Ct.memoizedState:ge.next;if(i!==null)ge=i,Kt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?Ct.memoizedState=ge=e:ge=ge.next=e}return ge}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qo(e){var i=Yo;return Yo+=1,Ia===null&&(Ia=[]),e=zg(Ia,e,i),i=Ct,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Cs:vr),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===j)return Fe(e)}throw Error(s(438,String(e)))}function lf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ju(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=ut;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function qu(e){var i=pe();return uf(i,Kt,e)}function uf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,S=null,k=i,F=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(Ut&X)===X:(_r&X)===X){var B=k.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===Sa&&(F=!0);else if((_r&B)===B){k=k.next,B===Sa&&(F=!0);continue}else X={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(E=S=X,v=d):S=S.next=X,Ct.lanes|=B,Cr|=B;X=k.action,Is&&a(d,X),d=k.hasEagerState?k.eagerState:a(d,X)}else B={lane:X,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(E=S=B,v=d):S=S.next=B,Ct.lanes|=X,Cr|=X;k=k.next}while(k!==null&&k!==i);if(S===null?v=d:S.next=E,!fn(d,e.memoizedState)&&(Me=!0,F&&(a=Aa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=S,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function $g(e,i,a){var l=Ct,h=pe(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Kt||h).memoizedState,a);if(v&&(h.memoizedState=a,Me=!0),h=h.queue,df(tp.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ca(9,Jg.bind(null,l,h,a,i),{destroy:void 0},null),$t===null)throw Error(s(349));d||(_r&60)!==0||Zg(l,i,a)}return a}function Zg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=ju(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Jg(e,i,a,l){i.value=a,i.getSnapshot=l,ep(i)&&np(e)}function tp(e,i,a){return a(function(){ep(i)&&np(e)})}function ep(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!fn(e,a)}catch{return!0}}function np(e){var i=gr(e,2);i!==null&&en(i,e,2)}function hf(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),Is){Gn(!0);try{a()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function ip(e,i,a,l){return e.baseState=a,uf(e,Kt,typeof l=="function"?l:Oi)}function ib(e,i,a,l,h){if(Gu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,rp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function rp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var E=a(h,l),S=w.S;S!==null&&S(v,E),sp(e,i,E)}catch(k){ff(e,i,k)}finally{w.T=d}}else try{d=a(h,l),sp(e,i,d)}catch(k){ff(e,i,k)}}function sp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ap(e,i,l)},function(l){return ff(e,i,l)}):ap(e,i,a)}function ap(e,i,a){i.status="fulfilled",i.value=a,op(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,rp(e,a)))}function ff(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,op(i),i=i.next;while(i!==l)}e.action=null}function op(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function lp(e,i){return i}function up(e,i){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Ue){e:{for(var h=Ue,d=ni;h.nodeType!==8;){if(!d){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ue=qn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:i},a.queue=l,a=Ip.bind(null,Ct,l),l.dispatch=a,l=hf(!1),d=_f.bind(null,Ct,!1,l.queue),l=an(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ib.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function cp(e){var i=pe();return hp(i,Kt,e)}function hp(e,i,a){i=uf(e,i,lp)[0],e=qu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Qo(i):i;var l=pe(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,Ca(9,rb.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function rb(e,i){e.action=i}function fp(e){var i=pe(),a=Kt;if(a!==null)return hp(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ca(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Ct.updateQueue,i===null&&(i=ju(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function dp(){return pe().memoizedState}function Hu(e,i,a,l){var h=an();Ct.flags|=e,h.memoizedState=Ca(1|i,a,{destroy:void 0},l===void 0?null:l)}function Fu(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&nf(l,Kt.memoizedState.deps)?h.memoizedState=Ca(i,a,d,l):(Ct.flags|=e,h.memoizedState=Ca(1|i,a,d,l))}function mp(e,i){Hu(8390656,8,e,i)}function df(e,i){Fu(2048,8,e,i)}function gp(e,i){return Fu(4,2,e,i)}function pp(e,i){return Fu(4,4,e,i)}function yp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function _p(e,i,a){a=a!=null?a.concat([e]):null,Fu(4,4,yp.bind(null,i,e),a)}function mf(){}function vp(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ep(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nf(i,l[1]))return l[0];if(l=e(),Is){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,i],l}function gf(e,i,a){return a===void 0||(_r&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=by(),Ct.lanes|=e,Cr|=e,a)}function Tp(e,i,a,l){return fn(a,i)?a:wa.current!==null?(e=gf(e,a,l),fn(e,i)||(Me=!0),e):(_r&42)===0?(Me=!0,e.memoizedState=a):(e=by(),Ct.lanes|=e,Cr|=e,i)}function bp(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=w.T,E={};w.T=E,_f(e,!1,i,a);try{var S=h(),k=w.S;if(k!==null&&k(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=tb(S,l);Ko(e,i,F,pn(e))}else Ko(e,i,l,pn(e))}catch(X){Ko(e,i,{then:function(){},status:"rejected",reason:X},pn())}finally{st.p=d,w.T=v}}function sb(){}function pf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=wp(e).queue;bp(e,h,i,It,a===null?sb:function(){return Sp(e),a(l)})}function wp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:It},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Sp(e){var i=wp(e).next.queue;Ko(e,i,{},pn())}function yf(){return Fe(ml)}function Ap(){return pe().memoizedState}function Rp(){return pe().memoizedState}function ab(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=br(a);var l=wr(i,e,a);l!==null&&(en(l,i,a),$o(l,i,a)),i={cache:Jh()},e.payload=i;return}i=i.return}}function ob(e,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Cp(i,a):(a=Yh(e,i,a,l),a!==null&&(en(a,e,l),Dp(a,i,l)))}function Ip(e,i,a){var l=pn();Ko(e,i,a,l)}function Ko(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Cp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,fn(E,v))return Cu(e,i,h,0),$t===null&&Iu(),!1}catch{}finally{}if(a=Yh(e,i,h,l),a!==null)return en(a,e,l),Dp(a,i,l),!0}return!1}function _f(e,i,a,l){if(l={lane:2,revertLane:od(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(i)throw Error(s(479))}else i=Yh(e,a,l,2),i!==null&&en(i,e,2)}function Gu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function Cp(e,i){Ra=Lu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Dp(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,sr(e,a)}}var ri={readContext:Fe,use:Bu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};ri.useCacheRefresh=fe,ri.useMemoCache=fe,ri.useHostTransitionStatus=fe,ri.useFormState=fe,ri.useActionState=fe,ri.useOptimistic=fe;var Cs={readContext:Fe,use:Bu,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:mp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,yp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Hu(4194308,4,e,i)},useInsertionEffect:function(e,i){Hu(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var l=e();if(Is){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=an();if(a!==void 0){var h=a(i);if(Is){Gn(!0);try{a(i)}finally{Gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=ob.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=hf(e);var i=e.queue,a=Ip.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:mf,useDeferredValue:function(e,i){var a=an();return gf(a,e,i)},useTransition:function(){var e=hf(!1);return e=bp.bind(null,Ct,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=an();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$t===null)throw Error(s(349));(Ut&60)!==0||Zg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,mp(tp.bind(null,l,d,e),[e]),l.flags|=2048,Ca(9,Jg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=an(),i=$t.identifierPrefix;if(Bt){var a=Ci,l=Ii;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=zu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=eb++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return an().memoizedState=ab.bind(null,Ct)}};Cs.useMemoCache=lf,Cs.useHostTransitionStatus=yf,Cs.useFormState=up,Cs.useActionState=up,Cs.useOptimistic=function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_f.bind(null,Ct,!0,a),a.dispatch=i,[e,i]};var vr={readContext:Fe,use:Bu,useCallback:vp,useContext:Fe,useEffect:df,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:qu,useRef:dp,useState:function(){return qu(Oi)},useDebugValue:mf,useDeferredValue:function(e,i){var a=pe();return Tp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=qu(Oi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Qo(e),i]},useSyncExternalStore:$g,useId:Ap};vr.useCacheRefresh=Rp,vr.useMemoCache=lf,vr.useHostTransitionStatus=yf,vr.useFormState=cp,vr.useActionState=cp,vr.useOptimistic=function(e,i){var a=pe();return ip(a,Kt,e,i)};var Ds={readContext:Fe,use:Bu,useCallback:vp,useContext:Fe,useEffect:df,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:cf,useRef:dp,useState:function(){return cf(Oi)},useDebugValue:mf,useDeferredValue:function(e,i){var a=pe();return Kt===null?gf(a,e,i):Tp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=cf(Oi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Qo(e),i]},useSyncExternalStore:$g,useId:Ap};Ds.useCacheRefresh=Rp,Ds.useMemoCache=lf,Ds.useHostTransitionStatus=yf,Ds.useFormState=fp,Ds.useActionState=fp,Ds.useOptimistic=function(e,i){var a=pe();return Kt!==null?ip(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function vf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ef={isMounted:function(e){return(e=e._reactInternals)?gt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=pn(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(en(i,e,l),$o(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=pn(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(e,h,l),i!==null&&(en(i,e,l),$o(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=wr(e,l,a),i!==null&&(en(i,e,a),$o(i,e,a))}};function Op(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Vo(a,l)||!Vo(h,d):!0}function Np(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Ef.enqueueReplaceState(i,i.state,null)}function Os(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Mp(e){Yu(e)}function xp(e){console.error(e)}function kp(e){Yu(e)}function Qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,i)},a}function Pp(e){return e=br(e),e.tag=3,e}function Up(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Vp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Vp(i,a,l),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function lb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Wo(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ii===null?nd():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rd(e,l,h)),!1;case 22:return a.flags|=65536,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rd(e,l,h)),!1}throw Error(s(435,a.tag))}return rd(e,l,h),nd(),!1}if(Bt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Xh&&(e=Error(s(422),{cause:l}),zo(In(e,a)))):(l!==Xh&&(i=Error(s(423),{cause:l}),zo(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,a),h=Tf(e.stateNode,l,h),Pf(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),sl===null?sl=[d]:sl.push(d),le!==4&&(le=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Tf(a.stateNode,l,e),Pf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Pp(h),Up(h,e,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var Lp=Error(s(461)),Me=!1;function Le(e,i,a,l){i.child=e===null?Hg(i,null,a,l):As(i,e.child,a,l)}function zp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ms(i),l=rf(e,i,a,v,d,h),E=sf(),e!==null&&!Me?(af(e,i,h),Ni(e,i,h)):(Bt&&E&&Qh(i),i.flags|=1,Le(e,i,l,h),i.child)}function jp(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Bp(e,i,d,l,h)):(e=Zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Of(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(v,l)&&e.ref===i.ref)return Ni(e,i,h)}return i.flags|=1,e=Ir(d,l),e.ref=i.ref,e.return=i,i.child=e}function Bp(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Vo(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,Of(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,Ni(e,i,h)}return bf(e,i,a,l,h)}function qp(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Xo(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Hp(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(i,v!==null?v.cachePool:null),v!==null?Fg(i,v):$h(),Gg(i);else return i.lanes=i.childLanes=536870912,Hp(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Uu(i,v.cachePool),Fg(i,v),yr(),i.memoizedState=null):(e!==null&&Uu(i,null),$h(),yr());return Le(e,i,h,a),i.child}function Hp(e,i,a,l){var h=ef();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Uu(i,null),$h(),Gg(i),e!==null&&Wo(e,i,l,!0),null}function Xo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function bf(e,i,a,l,h){return Ms(i),a=rf(e,i,a,l,void 0,h),l=sf(),e!==null&&!Me?(af(e,i,h),Ni(e,i,h)):(Bt&&l&&Qh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Fp(e,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=Wg(i,l,a,h),Xg(e),l=sf(),e!==null&&!Me?(af(e,i,d),Ni(e,i,d)):(Bt&&l&&Qh(i),i.flags|=1,Le(e,i,a,d),i.child)}function Gp(e,i,a,l,h){if(Ms(i),i.stateNode===null){var d=va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ef,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ef.enqueueReplaceState(d,d.state,null),Jo(i,l,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,S=Os(a,E);d.props=S;var k=d.context,F=a.contextType;v=va,typeof F=="object"&&F!==null&&(v=Fe(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||k!==v)&&Np(i,d,l,v),Tr=!1;var B=i.memoizedState;d.state=B,Jo(i,l,d,h),Zo(),k=i.memoizedState,E||B!==k||Tr?(typeof X=="function"&&(vf(i,a,X,l),k=i.memoizedState),(S=Tr||Op(i,a,S,l,B,k,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Vf(e,i),v=i.memoizedProps,F=Os(a,v),d.props=F,X=i.pendingProps,B=d.context,k=a.contextType,S=va,typeof k=="object"&&k!==null&&(S=Fe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==S)&&Np(i,d,l,S),Tr=!1,B=i.memoizedState,d.state=B,Jo(i,l,d,h),Zo();var H=i.memoizedState;v!==X||B!==H||Tr||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof E=="function"&&(vf(i,a,E,l),H=i.memoizedState),(F=Tr||Op(i,a,F,l,B,H,S)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=S,l=F):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Xo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=As(i,e.child,null,h),i.child=As(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ni(e,i,h),e}function Yp(e,i,a,l){return Lo(),i.flags|=256,Le(e,i,a,l),i.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Sf(e){return{baseLanes:e,cachePool:Kg()}}function Af(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function Qp(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?pr(i):yr(),Bt){var E=Ue,S;if(S=E){t:{for(S=E,E=ni;S.nodeType!==8;){if(!E){E=null;break t}if(S=qn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(i.memoizedState={dehydrated:E,treeContext:bs!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912},S=xn(18,null,null,0),S.stateNode=E,S.return=i,i.child=S,tn=i,Ue=null,S=!0):S=!1}S||Ss(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return E=l.children,l=l.fallback,h?(yr(),h=i.mode,E=If({mode:"hidden",children:E},h),l=ks(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Sf(a),h.childLanes=Af(e,v,a),i.memoizedState=wf,l):(pr(i),Rf(i,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=Cf(e,i,a)):i.memoizedState!==null?(yr(),i.child=e.child,i.flags|=128,i=null):(yr(),h=l.fallback,E=i.mode,l=If({mode:"visible",children:l.children},E),h=ks(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,As(i,e.child,null,a),l=i.child,l.memoizedState=Sf(a),l.childLanes=Af(e,v,a),i.memoizedState=wf,i=h);else if(pr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,zo({value:l,source:null,stack:null}),i=Cf(e,i,a)}else if(Me||Wo(e,i,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=$t,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,gr(e,l),en(v,e,l),Lp}E.data==="$?"||nd(),i=Cf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=wb.bind(null,e),E._reactRetry=i,i=null):(e=S.treeContext,Ue=qn(E.nextSibling),tn=i,Bt=!0,jn=null,ni=!1,e!==null&&(Cn[Dn++]=Ii,Cn[Dn++]=Ci,Cn[Dn++]=bs,Ii=e.id,Ci=e.overflow,bs=i),i=Rf(i,l.children),i.flags|=4096);return i}return h?(yr(),h=l.fallback,E=i.mode,S=e.child,k=S.sibling,l=Ir(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,k!==null?h=Ir(k,h):(h=ks(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Sf(a):(S=E.cachePool,S!==null?(k=Se._currentValue,S=S.parent!==k?{parent:k,pool:k}:S):S=Kg(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=Af(e,v,a),i.memoizedState=wf,l):(pr(i),a=e.child,e=a.sibling,a=Ir(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Rf(e,i){return i=If({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function If(e,i){return vy(e,i,0,null)}function Cf(e,i,a){return As(i,e.child,null,a),e=Rf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Kp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Mf(e.return,i,a)}function Df(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Xp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,a,i);else if(e.tag===19)Kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Yt(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Df(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Df(i,!0,a,null,d);break;case"together":Df(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Wo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ir(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ir(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Of(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function ub(e,i,a){switch(i.tag){case 3:Ji(i,i.stateNode.containerInfo),Er(i,Se,e.memoizedState.cache),Lo();break;case 27:case 5:mo(i);break;case 4:Ji(i,i.stateNode.containerInfo);break;case 10:Er(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qp(e,i,a):(pr(i),e=Ni(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Wo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Yt(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,qp(e,i,a);case 24:Er(i,Se,e.memoizedState.cache)}return Ni(e,i,a)}function Wp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!Of(e,a)&&(i.flags&128)===0)return Me=!1,ub(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,Bt&&(i.flags&1048576)!==0&&kg(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ff(l)?(e=Os(l,e),i.tag=1,i=Gp(null,i,l,e,a)):(i.tag=0,i=bf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===G){i.tag=11,i=zp(null,i,l,e,a);break t}else if(h===et){i.tag=14,i=jp(null,i,l,e,a);break t}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return bf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Os(l,i.pendingProps),Gp(e,i,l,h,a);case 3:t:{if(Ji(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Vf(e,i),Jo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Er(i,Se,d),d!==h.cache&&xf(i,[Se],a,!0),Zo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Yp(e,i,d,a);break t}else if(d!==l){l=In(Error(s(424)),i),zo(l),i=Yp(e,i,d,a);break t}else for(Ue=qn(i.stateNode.containerInfo.firstChild),tn=i,Bt=!0,jn=null,ni=!0,a=Hg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Lo(),d===l){i=Ni(e,i,a);break t}Le(e,i,d,a)}i=i.child}return i;case 26:return Xo(e,i),e===null?(a=Jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=cc(vn.current).createElement(a),l[De]=i,l[Ee]=e,ze(l,a,e),ee(l),i.stateNode=l):i.memoizedState=Jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return mo(i),e===null&&Bt&&(l=i.stateNode=Wy(i.type,i.pendingProps,vn.current),tn=i,ni=!0,Ue=qn(l.firstChild)),l=i.pendingProps.children,e!==null||Bt?Le(e,i,l,a):i.child=As(i,null,l,a),Xo(e,i),i.child;case 5:return e===null&&Bt&&((h=l=Ue)&&(l=zb(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,tn=i,Ue=qn(l.firstChild),ni=!1,h=!0):h=!1),h||Ss(i)),mo(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,pd(h,d)?l=null:v!==null&&pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=rf(e,i,nb,null,null,a),ml._currentValue=h),Xo(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=Ue)&&(a=jb(a,i.pendingProps,ni),a!==null?(i.stateNode=a,tn=i,Ue=null,e=!0):e=!1),e||Ss(i)),null;case 13:return Qp(e,i,a);case 4:return Ji(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=As(i,null,l,a):Le(e,i,l,a),i.child;case 11:return zp(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Er(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Fe(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return jp(e,i,i.type,i.pendingProps,a);case 15:return Bp(e,i,i.type,i.pendingProps,a);case 19:return Xp(e,i,a);case 22:return qp(e,i,a);case 24:return Ms(i),l=Fe(Se),e===null?(h=ef(),h===null&&(h=$t,d=Jh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},kf(i),Er(i,Se,h)):((e.lanes&a)!==0&&(Vf(e,i),Jo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Er(i,Se,l)):(l=d.cache,Er(i,Se,l),l!==h.cache&&xf(i,[Se],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Nf=zt(null),Ns=null,Mi=null;function Er(e,i,a){Yt(Nf,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=Nf.current,se(Nf)}function Mf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function xf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var S=0;S<i.length;S++)if(E.context===i[S]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Mf(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Mf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Wo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;fn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Zi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&xf(i,e,a,l),i.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Ns=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return $p(Ns,e)}function Xu(e,i){return Ns===null&&Ms(e),$p(e,i)}function $p(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return a}var Tr=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Du(e),Mg(e,null,a),i}return Cu(e,l,i,a),Du(e)}function $o(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,sr(e,a)}}function Pf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Uf=!1;function Zo(){if(Uf){var e=Aa;if(e!==null)throw e}}function Jo(e,i,a,l){Uf=!1;var h=e.updateQueue;Tr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,k=S.next;S.next=null,v===null?d=k:v.next=k,v=S;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=k:E.next=k,F.lastBaseUpdate=S))}if(d!==null){var X=h.baseState;v=0,F=k=S=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ut&B)===B:(l&B)===B){B!==0&&B===Sa&&(Uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,bt=E;B=i;var ue=a;switch(bt.tag){case 1:if(ct=bt.payload,typeof ct=="function"){X=ct.call(ue,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=bt.payload,B=typeof ct=="function"?ct.call(ue,X,B):ct,B==null)break t;X=C({},X,B);break t;case 2:Tr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(k=F=H,S=X):F=F.next=H,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(S=X),h.baseState=S,h.firstBaseUpdate=k,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Cr|=v,e.lanes=v,e.memoizedState=X}}function Zp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Jp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zp(a[e],i)}function tl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Wt(i,i.return,E)}}function Sr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var S=a;try{E()}catch(k){Wt(h,S,k)}}}l=l.next}while(l!==d)}}catch(k){Wt(i,i.return,k)}}function ty(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Jp(i,a)}catch(l){Wt(e,e.return,l)}}}function ey(e,i,a){a.props=Os(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function xs(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Wt(e,i,d)}}function dn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function ny(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function iy(e,i,a){try{var l=e.stateNode;kb(l,e.type,a,i),l[Ee]=i}catch(h){Wt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(zf(e,i,a),e=e.sibling;e!==null;)zf(e,i,a),e=e.sibling}function Wu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wu(e,i,a),e=e.sibling;e!==null;)Wu(e,i,a),e=e.sibling}var ki=!1,oe=!1,jf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,xe=null,ay=!1;function cb(e,i){if(e=e.containerInfo,md=pc,e=wg(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,S=-1,k=0,F=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(S=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++k===h&&(E=v),B===d&&++F===l&&(S=v),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},pc=!1,xe=i;xe!==null;)if(i=xe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,xe=e;else for(;xe!==null;){switch(i=xe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Os(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Wt(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,xe=e;break}xe=i.return}return ct=ay,ay=!1,ct}function oy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(e,a),l&4&&tl(5,a);break;case 1:if(Pi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Wt(a,a.return,E)}else{var h=Os(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Wt(a,a.return,E)}}l&64&&ty(a),l&512&&xs(a,a.return);break;case 3:if(Pi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Jp(l,e)}catch(E){Wt(a,a.return,E)}}break;case 26:Pi(e,a),l&512&&xs(a,a.return);break;case 27:case 5:Pi(e,a),i===null&&l&4&&ny(a),l&512&&xs(a,a.return);break;case 12:Pi(e,a);break;case 13:Pi(e,a),l&4&&cy(e,a);break;case 22:if(h=a.memoizedState!==null||ki,!h){i=i!==null&&i.memoizedState!==null||oe;var d=ki,v=oe;ki=h,(oe=i)&&!v?Ar(e,a,(a.subtreeFlags&8772)!==0):Pi(e,a),ki=d,oe=v}l&512&&(a.memoizedProps.mode==="manual"?xs(a,a.return):dn(a,a.return));break;default:Pi(e,a)}}function ly(e){var i=e.alternate;i!==null&&(e.alternate=null,ly(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&us(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,mn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)uy(e,i,a),a=a.sibling}function uy(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(tr,a)}catch{}switch(a.tag){case 26:oe||dn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||dn(a,i);var l=ye,h=mn;for(ye=a.stateNode,Vi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);us(a),ye=l,mn=h;break;case 5:oe||dn(a,i);case 6:h=ye;var d=mn;if(ye=null,Vi(e,i,a),ye=h,mn=d,ye!==null)if(mn)try{e=ye,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Wt(a,i,v)}else try{ye.removeChild(a.stateNode)}catch(v){Wt(a,i,v)}break;case 18:ye!==null&&(mn?(i=ye,a=a.stateNode,i.nodeType===8?_d(i.parentNode,a):i.nodeType===1&&_d(i,a),_l(i)):_d(ye,a.stateNode));break;case 4:l=ye,h=mn,ye=a.stateNode.containerInfo,mn=!0,Vi(e,i,a),ye=l,mn=h;break;case 0:case 11:case 14:case 15:oe||Sr(2,a,i),oe||Sr(4,a,i),Vi(e,i,a);break;case 1:oe||(dn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ey(a,i,l)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:oe||dn(a,i),oe=(l=oe)||a.memoizedState!==null,Vi(e,i,a),oe=l;break;default:Vi(e,i,a)}}function cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_l(e)}catch(a){Wt(i,i.return,a)}}function hb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new sy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new sy),i;default:throw Error(s(435,e.tag))}}function Bf(e,i){var a=hb(e);i.forEach(function(l){var h=Sb.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ye=E.stateNode,mn=!1;break t;case 3:ye=E.stateNode.containerInfo,mn=!0;break t;case 4:ye=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(ye===null)throw Error(s(160));uy(d,v,h),ye=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hy(i,e),i=i.sibling}var Bn=null;function hy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),Mn(e),l&4&&(Sr(3,e,e.return),tl(3,e),Sr(5,e,e.return));break;case 1:Nn(i,e),Mn(e),l&512&&(oe||a===null||dn(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(Nn(i,e),Mn(e),l&512&&(oe||a===null||dn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[or]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[De]=e,ee(d),l=d;break t;case"link":var v=n_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=n_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,ee(d),l=d}e.stateNode=l}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?i_(h,e.type,e.stateNode):e_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&iy(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var S=h.firstChild;S;){var k=S.nextSibling,F=S.nodeName;S[or]||F==="HEAD"||F==="BODY"||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=k}for(var X=e.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);ze(h,X,d),h[De]=e,h[Ee]=d}catch(ct){Wt(e,e.return,ct)}}case 5:if(Nn(i,e),Mn(e),l&512&&(oe||a===null||dn(a,a.return)),e.flags&32){h=e.stateNode;try{bn(h,"")}catch(ct){Wt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,iy(e,h,a!==null?a.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(Nn(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Wt(e,e.return,ct)}}break;case 3:if(dc=null,h=Bn,Bn=hc(i.containerInfo),Nn(i,e),Bn=h,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(ct){Wt(e,e.return,ct)}jf&&(jf=!1,fy(e));break;case 4:l=Bn,Bn=hc(e.stateNode.containerInfo),Nn(i,e),Mn(e),Bn=l;break;case 12:Nn(i,e),Mn(e);break;case 13:Nn(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wf=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bf(e,l)));break;case 22:if(l&512&&(oe||a===null||dn(a,a.return)),S=e.memoizedState!==null,k=a!==null&&a.memoizedState!==null,F=ki,X=oe,ki=F||S,oe=X||k,Nn(i,e),oe=X,ki=F,Mn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=S?i._visibility&-2:i._visibility|1,S&&(i=ki||oe,a===null||k||i||Da(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,S)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,E=k.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ct){Wt(k,k.return,ct)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=S?"":k.memoizedProps}catch(ct){Wt(k,k.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(e,a))));break;case 19:Nn(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bf(e,l)));break;case 21:break;default:Nn(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(ry(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Lf(e);Wu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(bn(v,""),l.flags&=-33);var E=Lf(e);Wu(e,E,v);break;case 3:case 4:var S=l.stateNode.containerInfo,k=Lf(e);zf(e,k,S);break;default:throw Error(s(161))}}}catch(F){Wt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)oy(e,i.alternate,i),i=i.sibling}function Da(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Sr(4,i,i.return),Da(i);break;case 1:dn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ey(i,i.return,a),Da(i);break;case 26:case 27:case 5:dn(i,i.return),Da(i);break;case 22:dn(i,i.return),i.memoizedState===null&&Da(i);break;default:Da(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),tl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Wt(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)Zp(S[h],E)}catch(k){Wt(l,l.return,k)}}a&&v&64&&ty(d),xs(d,d.return);break;case 26:case 27:case 5:Ar(h,d,a),a&&l===null&&v&4&&ny(d),xs(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&cy(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),xs(d,d.return);break;default:Ar(h,d,a)}i=i.sibling}}function qf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function Hf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fo(e))}function Rr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dy(e,i,a,l),i=i.sibling}function dy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Rr(e,i,a,l),h&2048&&tl(9,i);break;case 3:Rr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){Rr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Wt(i,i.return,S)}}else Rr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Rr(e,i,a,l):el(e,i):d._visibility&4?Rr(e,i,a,l):(d._visibility|=4,Oa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&qf(i.alternate,i);break;case 24:Rr(e,i,a,l),h&2048&&Hf(i.alternate,i);break;default:Rr(e,i,a,l)}}function Oa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,S=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,E,S,h),tl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&4?Oa(d,v,E,S,h):el(d,v):(F._visibility|=4,Oa(d,v,E,S,h)),h&&k&2048&&qf(v.alternate,v);break;case 24:Oa(d,v,E,S,h),h&&k&2048&&Hf(v.alternate,v);break;default:Oa(d,v,E,S,h)}i=i.sibling}}function el(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:el(a,l),h&2048&&qf(l.alternate,l);break;case 24:el(a,l),h&2048&&Hf(l.alternate,l);break;default:el(a,l)}i=i.sibling}}var nl=8192;function Na(e){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 26:Na(e),e.flags&nl&&e.memoizedState!==null&&Jb(Bn,e.memoizedState,e.memoizedProps);break;case 5:Na(e);break;case 3:case 4:var i=Bn;Bn=hc(e.stateNode.containerInfo),Na(e),Bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=nl,nl=16777216,Na(e),nl=i):Na(e));break;default:Na(e)}}function gy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xe=l,yy(l,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,$u(e)):il(e);break;default:il(e)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xe=l,yy(l,e)}gy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Sr(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,$u(i));break;default:$u(i)}e=e.sibling}}function yy(e,i){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:Sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var h=l.sibling,d=l.return;if(ly(l),l===a){xe=null;break t}if(h!==null){h.return=d,xe=h;break t}xe=d}}}function fb(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,i,a,l){return new fb(e,i,a,l)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ir(e,i){var a=e.alternate;return a===null?(a=xn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _y(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Zu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Ff(e)&&(v=1);else if(typeof e=="string")v=$b(e,a,We.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return ks(a.children,h,d,i);case y:v=8,h|=24;break;case T:return e=xn(12,a,i,h|2),e.elementType=T,e.lanes=d,e;case W:return e=xn(13,a,i,h),e.elementType=W,e.lanes=d,e;case K:return e=xn(19,a,i,h),e.elementType=K,e.lanes=d,e;case J:return vy(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case j:v=10;break t;case O:v=9;break t;case G:v=11;break t;case et:v=14;break t;case it:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=xn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ks(e,i,a,l){return e=xn(7,e,l,i),e.lanes=a,e}function vy(e,i,a,l){e=xn(22,e,l,i),e.elementType=J,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=gr(d,2);v!==null&&(h._pendingVisibility|=2,en(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=gr(d,2);v!==null&&(h._pendingVisibility&=-3,en(v,d,2))}}};return e.stateNode=h,e}function Gf(e,i,a){return e=xn(6,e,null,i),e.lanes=a,e}function Yf(e,i,a){return i=xn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ui(e){e.flags|=4}function Ey(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(i)){if(i=On.current,i!==null&&((Ut&4194176)===Ut?ii!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ii))throw Bo=Wh,Ug;e.flags|=8192}}function Ju(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ir():536870912,e.lanes|=i,xa|=i)}function rl(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function db(e,i,a){var l=i.pendingProps;switch(Kh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(Se),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Uo(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jn!==null&&(td(jn),jn=null))),ne(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(ne(i),Ey(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),ne(i),Ey(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),ne(i),i.flags&=-16777217),null;case 27:Zs(i),a=vn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=We.current,Uo(i)?Vg(i):(e=Wy(h,l,a),i.stateNode=e,Ui(i))}return ne(i),null;case 5:if(Zs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=We.current,Uo(i))Vg(i);else{switch(h=cc(vn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=i,e[Ee]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vn.current,Uo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fy(e.nodeValue,a)),e||Ss(i)}else e=cc(e).createTextNode(l),e[De]=i,i.stateNode=e}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Uo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=i}else Lo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else jn!==null&&(td(jn),jn=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ju(i,i.updateQueue),ne(i),null;case 4:return pi(),e===null&&hd(i.stateNode.containerInfo),ne(i),null;case 10:return xi(i.type),ne(i),null;case 19:if(se(we),h=i.memoizedState,h===null)return ne(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)rl(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Pu(e),d!==null){for(i.flags|=128,rl(h,!1),e=d.updateQueue,i.updateQueue=e,Ju(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)_y(a,e),a=a.sibling;return Yt(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&rn()>tc&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Pu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ju(i,e),rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ne(i),null}else 2*rn()-h.renderingStartTime>tc&&a!==536870912&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,e=we.current,Yt(we,l?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Di(i),Zh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Ju(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&se(Rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(Se),ne(i),null;case 25:return null}throw Error(s(156,i.tag))}function mb(e,i){switch(Kh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(Se),pi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Zs(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Lo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return se(we),null;case 4:return pi(),null;case 10:return xi(i.type),null;case 22:case 23:return Di(i),Zh(),e!==null&&se(Rs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(Se),null;case 25:return null;default:return null}}function Ty(e,i){switch(Kh(i),i.tag){case 3:xi(Se),pi();break;case 26:case 27:case 5:Zs(i);break;case 4:pi();break;case 13:Di(i);break;case 19:se(we);break;case 10:xi(i.type);break;case 22:case 23:Di(i),Zh(),e!==null&&se(Rs);break;case 24:xi(Se)}}var gb={getCacheForType:function(e){var i=Fe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},pb=typeof WeakMap=="function"?WeakMap:Map,ie=0,$t=null,Nt=null,Ut=0,Zt=0,gn=null,Li=!1,Ma=!1,Qf=!1,zi=0,le=0,Cr=0,Vs=0,Kf=0,kn=0,xa=0,sl=null,si=null,Xf=!1,Wf=0,tc=1/0,ec=null,Dr=null,nc=!1,Ps=null,al=0,$f=0,Zf=null,ol=0,Jf=null;function pn(){if((ie&2)!==0&&Ut!==0)return Ut&-Ut;if(w.T!==null){var e=Sa;return e!==0?e:od()}return lu()}function by(){kn===0&&(kn=(Ut&536870912)===0||Bt?vo():536870912);var e=On.current;return e!==null&&(e.flags|=32),kn}function en(e,i,a){(e===$t&&Zt===2||e.cancelPendingCommit!==null)&&(ka(e,0),ji(e,Ut,kn,!1)),he(e,a),((ie&2)===0||e!==$t)&&(e===$t&&((ie&2)===0&&(Vs|=a),le===4&&ji(e,Ut,kn,!1)),ai(e))}function wy(e,i,a){if((ie&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||nr(e,i),h=l?vb(e,i):id(e,i,!0),d=l;do{if(h===0){Ma&&!l&&ji(e,i,0,!1);break}else if(h===6)ji(e,i,0,!Li);else{if(a=e.current.alternate,d&&!yb(a)){h=id(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=sl;var S=E.current.memoizedState.isDehydrated;if(S&&(ka(E,v).flags|=256),v=id(E,v,!1),v!==2){if(Qf&&!S){E.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break t}d=si,si=h,d!==null&&td(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){ka(e,0),ji(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ji(l,i,kn,!Li);break t}break;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Wf+300-rn(),10<d)){if(ji(l,i,kn,!Li),En(l,0)!==0)break t;l.timeoutHandle=Qy(Sy.bind(null,l,a,si,ec,Xf,i,kn,Vs,xa,Li,2,-0,0),d);break t}Sy(l,a,si,ec,Xf,i,kn,Vs,xa,Li,0,-0,0)}}break}while(!0);ai(e)}function td(e){si===null?si=e:si.push.apply(si,e)}function Sy(e,i,a,l,h,d,v,E,S,k,F,X,B){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(dl={stylesheets:null,count:0,unsuspend:Zb},my(i),i=t1(),i!==null)){e.cancelPendingCommit=i(Ny.bind(null,e,a,l,h,v,E,S,1,X,B)),ji(e,d,v,!k);return}Ny(e,a,l,h,v,E,S,F,X,B)}function yb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(e,i,a,l){i&=~Kf,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&rr(e,a,i)}function ic(){return(ie&6)===0?(ll(0),!1):!0}function ed(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Mi=Ns=null,of(e),ba=null,qo=0,e=Nt;for(;e!==null;)Ty(e.alternate,e),e=e.return;Nt=null}}function ka(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ed(),$t=e,Nt=a=Ir(e.current,null),Ut=i,Zt=0,gn=null,Li=!1,Ma=nr(e,i),Qf=!1,xa=kn=Kf=Vs=Cr=le=0,si=sl=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-$e(l),d=1<<h;i|=e[h],l&=~d}return zi=i,Iu(),a}function Ay(e,i){Ct=null,w.H=ri,i===jo?(i=jg(),Zt=3):i===Ug?(i=jg(),Zt=4):Zt=i===Lp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Nt===null&&(le=1,Qu(e,In(i,e.current)))}function Ry(){var e=w.H;return w.H=ri,e===null?ri:e}function Iy(){var e=w.A;return w.A=gb,e}function nd(){le=4,Li||(Ut&4194176)!==Ut&&On.current!==null||(Ma=!0),(Cr&134217727)===0&&(Vs&134217727)===0||$t===null||ji($t,Ut,kn,!1)}function id(e,i,a){var l=ie;ie|=2;var h=Ry(),d=Iy();($t!==e||Ut!==i)&&(ec=null,ka(e,i)),i=!1;var v=le;t:do try{if(Zt!==0&&Nt!==null){var E=Nt,S=gn;switch(Zt){case 8:ed(),v=6;break t;case 3:case 2:case 6:On.current===null&&(i=!0);var k=Zt;if(Zt=0,gn=null,Va(e,E,S,k),a&&Ma){v=0;break t}break;default:k=Zt,Zt=0,gn=null,Va(e,E,S,k)}}_b(),v=le;break}catch(F){Ay(e,F)}while(!0);return i&&e.shellSuspendCounter++,Mi=Ns=null,ie=l,w.H=h,w.A=d,Nt===null&&($t=null,Ut=0,Iu()),v}function _b(){for(;Nt!==null;)Cy(Nt)}function vb(e,i){var a=ie;ie|=2;var l=Ry(),h=Iy();$t!==e||Ut!==i?(ec=null,tc=rn()+500,ka(e,i)):Ma=nr(e,i);t:do try{if(Zt!==0&&Nt!==null){i=Nt;var d=gn;e:switch(Zt){case 1:Zt=0,gn=null,Va(e,i,d,1);break;case 2:if(Lg(d)){Zt=0,gn=null,Dy(i);break}i=function(){Zt===2&&$t===e&&(Zt=7),ai(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Lg(d)?(Zt=0,gn=null,Dy(i)):(Zt=0,gn=null,Va(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||r_(v)){Zt=0,gn=null;var S=E.sibling;if(S!==null)Nt=S;else{var k=E.return;k!==null?(Nt=k,rc(k)):Nt=null}break e}}Zt=0,gn=null,Va(e,i,d,5);break;case 6:Zt=0,gn=null,Va(e,i,d,6);break;case 8:ed(),le=6;break t;default:throw Error(s(462))}}Eb();break}catch(F){Ay(e,F)}while(!0);return Mi=Ns=null,w.H=l,w.A=h,ie=a,Nt!==null?0:($t=null,Ut=0,Iu(),le)}function Eb(){for(;Nt!==null&&!Oh();)Cy(Nt)}function Cy(e){var i=Wp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,i===null?rc(e):Nt=i}function Dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Fp(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Fp(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:of(i);default:Ty(a,i),i=Nt=_y(i,zi),i=Wp(a,i,zi)}e.memoizedProps=e.pendingProps,i===null?rc(e):Nt=i}function Va(e,i,a,l){Mi=Ns=null,of(i),ba=null,qo=0;var h=i.return;try{if(lb(e,h,i,a,Ut)){le=1,Qu(e,In(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;le=1,Qu(e,In(a,e.current)),Nt=null;return}i.flags&32768?(Bt||l===1?e=!0:Ma||(Ut&536870912)!==0?e=!1:(Li=e=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(i,e)):rc(i)}function rc(e){var i=e;do{if((i.flags&32768)!==0){Oy(i,Li);return}e=i.return;var a=db(i.alternate,i,zi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);le===0&&(le=5)}function Oy(e,i){do{var a=mb(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);le=6,Nt=null}function Ny(e,i,a,l,h,d,v,E,S,k){var F=w.T,X=st.p;try{st.p=2,w.T=null,Tb(e,i,a,l,X,h,d,v,E,S,k)}finally{w.T=F,st.p=X}}function Tb(e,i,a,l,h,d,v,E){do Pa();while(Ps!==null);if((ie&6)!==0)throw Error(s(327));var S=e.finishedWork;if(l=e.finishedLanes,S===null)return null;if(e.finishedWork=null,e.finishedLanes=0,S===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var k=S.lanes|S.childLanes;if(k|=Gh,au(e,l,k,d,v,E),e===$t&&(Nt=$t=null,Ut=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||nc||(nc=!0,$f=k,Zf=a,Ab(yi,function(){return Pa(),null})),a=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=st.p,st.p=2,v=ie,ie|=4,cb(e,S),hy(S,e),GT(gd,e.containerInfo),pc=!!md,gd=md=null,e.current=S,oy(e,S.alternate,S),go(),ie=v,st.p=d,w.T=a):e.current=S,nc?(nc=!1,Ps=e,al=l):My(e,k),k=e.pendingLanes,k===0&&(Dr=null),yo(S.stateNode),ai(e),i!==null)for(h=e.onRecoverableError,S=0;S<i.length;S++)k=i[S],h(k.value,{componentStack:k.stack});return(al&3)!==0&&Pa(),k=e.pendingLanes,(l&4194218)!==0&&(k&42)!==0?e===Jf?ol++:(ol=0,Jf=e):ol=0,ll(0),null}function My(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Fo(i)))}function Pa(){if(Ps!==null){var e=Ps,i=$f;$f=0;var a=ou(al),l=w.T,h=st.p;try{if(st.p=32>a?32:a,w.T=null,Ps===null)var d=!1;else{a=Zf,Zf=null;var v=Ps,E=al;if(Ps=null,al=0,(ie&6)!==0)throw Error(s(331));var S=ie;if(ie|=4,py(v.current),dy(v,v.current,E,a),ie=S,ll(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(tr,v)}catch{}d=!0}return d}finally{st.p=h,w.T=l,My(e,i)}}return!1}function xy(e,i,a){i=In(a,i),i=Tf(e.stateNode,i,2),e=wr(e,i,2),e!==null&&(he(e,2),ai(e))}function Wt(e,i,a){if(e.tag===3)xy(e,e,a);else for(;i!==null;){if(i.tag===3){xy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){e=In(a,e),a=Pp(2),l=wr(i,a,2),l!==null&&(Up(a,l,i,e),he(l,2),ai(l));break}}i=i.return}}function rd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new pb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Qf=!0,h.add(a),e=bb.bind(null,e,i,a),i.then(e,e))}function bb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(le===4||le===3&&(Ut&62914560)===Ut&&300>rn()-Wf?(ie&2)===0&&ka(e,0):Kf|=a,xa===Ut&&(xa=0)),ai(e)}function ky(e,i){i===0&&(i=ir()),e=gr(e,i),e!==null&&(he(e,i),ai(e))}function wb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),ky(e,a)}function Sb(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ky(e,a)}function Ab(e,i){return as(e,i)}var sc=null,Ua=null,sd=!1,ac=!1,ad=!1,Us=0;function ai(e){e!==Ua&&e.next===null&&(Ua===null?sc=Ua=e:Ua=Ua.next=e),ac=!0,sd||(sd=!0,Ib(Rb))}function ll(e,i){if(!ad&&ac){ad=!0;do for(var a=!1,l=sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Uy(l,d))}else d=Ut,d=En(l,l===$t?d:0),(d&3)===0||nr(l,d)||(a=!0,Uy(l,d));l=l.next}while(a);ad=!1}}function Rb(){ac=sd=!1;var e=0;Us!==0&&(Vb()&&(e=Us),Us=0);for(var i=rn(),a=null,l=sc;l!==null;){var h=l.next,d=Vy(l,i);d===0?(l.next=null,a===null?sc=h:a.next=h,h===null&&(Ua=a)):(a=l,(e!==0||(d&3)!==0)&&(ac=!0)),l=h}ll(e)}function Vy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&l)!==0)&&(h[v]=ea(E,i)):S<=i&&(e.expiredLanes|=E),d&=~E}if(i=$t,a=Ut,a=En(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ta(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||nr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ta(l),ou(a)){case 2:case 8:a=Ce;break;case 32:a=yi;break;case 268435456:a=po;break;default:a=yi}return l=Py.bind(null,e),a=as(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ta(l),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,i){var a=e.callbackNode;if(Pa()&&e.callbackNode!==a)return null;var l=Ut;return l=En(e,e===$t?l:0),l===0?null:(wy(e,l,i),Vy(e,rn()),e.callbackNode!=null&&e.callbackNode===a?Py.bind(null,e):null)}function Uy(e,i){if(Pa())return null;wy(e,i,!0)}function Ib(e){Ub(function(){(ie&6)!==0?as(ve,e):e()})}function od(){return Us===0&&(Us=vo()),Us}function Ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xn(""+e)}function zy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Cb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ly((h[Ee]||null).action),v=l.submitter;v&&(i=(i=v[Ee]||null)?Ly(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new la("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var S=v?zy(h,v):new FormData(h);pf(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(E.preventDefault(),S=v?zy(h,v):new FormData(h),pf(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var ld=0;ld<Ng.length;ld++){var ud=Ng[ld],Db=ud.toLowerCase(),Ob=ud[0].toUpperCase()+ud.slice(1);zn(Db,"on"+Ob)}zn(Rg,"onAnimationEnd"),zn(Ig,"onAnimationIteration"),zn(Cg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(QT,"onTransitionRun"),zn(KT,"onTransitionStart"),zn(XT,"onTransitionCancel"),zn(Dg,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function jy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],S=E.instance,k=E.currentTarget;if(E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=k;try{d(h)}catch(F){Yu(F)}h.currentTarget=null,d=S}else for(v=0;v<l.length;v++){if(E=l[v],S=E.instance,k=E.currentTarget,E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=k;try{d(h)}catch(F){Yu(F)}h.currentTarget=null,d=S}}}}function kt(e,i){var a=i[ls];a===void 0&&(a=i[ls]=new Set);var l=e+"__bubble";a.has(l)||(By(i,e,2,!1),a.add(l))}function cd(e,i,a){var l=0;i&&(l|=4),By(a,e,l,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[oc]){e[oc]=!0,To.forEach(function(a){a!=="selectionchange"&&(Nb.has(a)||cd(a,!1,e),cd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oc]||(i[oc]=!0,cd("selectionchange",!1,i))}}function By(e,i,a,l){switch(c_(i)){case 2:var h=i1;break;case 8:h=r1;break;default:h=Sd}a=h.bind(null,i,a,e),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function fd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===h||S.nodeType===8&&S.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Ln(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=d=v;continue t}E=E.parentNode}}l=l.return}fu(function(){var k=d,F=oa(a),X=[];t:{var B=Og.get(e);if(B!==void 0){var H=la,ct=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":H=ma;break;case"focusin":ct="focus",H=ha;break;case"focusout":ct="blur",H=ha;break;case"beforeblur":case"afterblur":H=ha;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Eu;break;case Rg:case Ig:case Cg:H=fa;break;case Dg:H=bu;break;case"scroll":case"scrollend":H=du;break;case"wheel":H=ga;break;case"copy":case"cut":case"paste":H=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xo;break;case"toggle":case"beforetoggle":H=Su}var bt=(i&4)!==0,ue=!bt&&(e==="scroll"||e==="scrollend"),P=bt?B!==null?B+"Capture":null:B;bt=[];for(var N=k,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=ds(N,P),Y!=null&&bt.push(cl(N,Y,L))),ue)break;N=N.return}0<bt.length&&(B=new H(B,ct,null,a,F),X.push({event:B,listeners:bt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==wn&&(ct=a.relatedTarget||a.fromElement)&&(Ln(ct)||ct[_i]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=k,ct=ct?Ln(ct):null,ct!==null&&(ue=gt(ct),bt=ct.tag,ct!==ue||bt!==5&&bt!==27&&bt!==6)&&(ct=null)):(H=null,ct=k),H!==ct)){if(bt=An,Y="onMouseLeave",P="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(bt=xo,Y="onPointerLeave",P="onPointerEnter",N="pointer"),ue=H==null?B:lr(H),L=ct==null?B:lr(ct),B=new bt(Y,N+"leave",H,a,F),B.target=ue,B.relatedTarget=L,Y=null,Ln(F)===k&&(bt=new bt(P,N+"enter",ct,a,F),bt.target=L,bt.relatedTarget=ue,Y=bt),ue=Y,H&&ct)e:{for(bt=H,P=ct,N=0,L=bt;L;L=La(L))N++;for(L=0,Y=P;Y;Y=La(Y))L++;for(;0<N-L;)bt=La(bt),N--;for(;0<L-N;)P=La(P),L--;for(;N--;){if(bt===P||P!==null&&bt===P.alternate)break e;bt=La(bt),P=La(P)}bt=null}else bt=null;H!==null&&qy(X,B,H,bt,!1),ct!==null&&ue!==null&&qy(X,ue,ct,bt,!0)}}t:{if(B=k?lr(k):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ot=gg;else if(be(B))if(pg)ot=HT;else{ot=BT;var Ot=jT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Ro(k.elementType)&&(ot=gg):ot=qT;if(ot&&(ot=ot(e,k))){Ri(X,ot,a,F);break t}Ot&&Ot(e,B,k),e==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&aa(B,"number",B.value)}switch(Ot=k?lr(k):window,e){case"focusin":(be(Ot)||Ot.contentEditable==="true")&&(pa=Ot,qh=k,Po=null);break;case"focusout":Po=qh=pa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Sg(X,a,F);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Sg(X,a,F)}var dt;if(ti)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Vt?q(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Vt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Vt&&(dt=Co()):(Wn=F,mr="value"in Wn?Wn.value:Wn.textContent,Vt=!0)),Ot=lc(k,_t),0<Ot.length&&(_t=new No(_t,e,null,a,F),X.push({event:_t,listeners:Ot}),dt?_t.data=dt:(dt=tt(a),dt!==null&&(_t.data=dt)))),(dt=g?Te(e,a):Pt(e,a))&&(_t=lc(k,"onBeforeInput"),0<_t.length&&(Ot=new No("onBeforeInput","beforeinput",null,a,F),X.push({event:Ot,listeners:_t}),Ot.data=dt)),Cb(X,e,k,a,F)}jy(X,i)})}function cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function lc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ds(e,a),h!=null&&l.unshift(cl(e,h,d)),h=ds(e,i),h!=null&&l.push(cl(e,h,d))),e=e.return}return l}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,S=E.alternate,k=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||k===null||(S=k,h?(k=ds(a,d),k!=null&&v.unshift(cl(a,k,S))):h||(k=ds(a,d),k!=null&&v.push(cl(a,k,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var Mb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(xb,"")}function Fy(e,i){return i=Hy(i),Hy(e)===i}function uc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,a,l);break;case"style":hu(e,l,d);break;case"data":if(i!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=uc);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":kt("beforetoggle",e),kt("toggle",e),cr(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,cr(e,a,l))}}function dd(e,i,a,l,h,d){switch(a){case"style":hu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ee]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):cr(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":kt("invalid",e);var E=d=v=h=null,S=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":S=F;break;case"defaultChecked":k=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Xt(e,i,l,F,a,null)}}hs(e,d,E,S,k,v,h,!1),cs(e);return;case"select":kt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Xt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?jt(e,!!l,i,!1):a!=null&&jt(e,!!l,a,!0);return;case"textarea":kt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,i,v,E,a,null)}dr(e,l,h,d),cs(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,S,l,a,null)}return;case"dialog":kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(l=0;l<ul.length;l++)kt(ul[l],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,k,l,a,null)}return;default:if(Ro(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&dd(e,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(e,i,E,l,a,null))}function kb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,S=null,k=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":S=X;default:l.hasOwnProperty(H)||Xt(e,i,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":k=H;break;case"defaultChecked":F=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Xt(e,i,B,H,l,X)}}fr(e,v,E,S,k,F,d,h);return;case"select":H=v=E=B=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":H=S;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,S)}for(h in l)if(d=l[h],S=a[h],l.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==S&&Xt(e,i,h,d,l,S)}i=E,a=v,l=H,B!=null?jt(e,!!a,B,!1):!!l!=!!a&&(i!=null?jt(e,!!a,i,!0):jt(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}fs(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Xt(e,i,ct,null,l,B)}for(S in l)if(B=l[S],H=a[S],l.hasOwnProperty(S)&&B!==H&&(B!=null||H!=null))switch(S){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(e,i,S,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)B=a[bt],a.hasOwnProperty(bt)&&B!=null&&!l.hasOwnProperty(bt)&&Xt(e,i,bt,null,l,B);for(k in l)if(B=l[k],H=a[k],l.hasOwnProperty(k)&&B!==H&&(B!=null||H!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Xt(e,i,k,B,l,H)}return;default:if(Ro(i)){for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!==void 0&&!l.hasOwnProperty(ue)&&dd(e,i,ue,void 0,l,B);for(F in l)B=l[F],H=a[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||dd(e,i,F,B,l,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&Xt(e,i,P,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Xt(e,i,X,B,l,H)}var md=null,gd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yd=null;function Vb(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(Lb)}:Qy;function Lb(e){setTimeout(function(){throw e})}function _d(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),_l(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);_l(i)}function vd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),us(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[or])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function jb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Xy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Wy(e,i,a){switch(i=cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Vn=new Map,$y=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Bi=st.d;st.d={f:Bb,r:qb,D:Hb,C:Fb,L:Gb,m:Yb,X:Kb,S:Qb,M:Xb};function Bb(){var e=Bi.f(),i=ic();return e||i}function qb(e){var i=vi(e);i!==null&&i.tag===5&&i.type==="form"?Sp(i):Bi.r(e)}var za=typeof document>"u"?null:document;function Zy(e,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=ae(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),ee(i),l.head.appendChild(i)))}}function Hb(e){Bi.D(e),Zy("dns-prefetch",e,null)}function Fb(e,i){Bi.C(e,i),Zy("preconnect",e,i)}function Gb(e,i,a){Bi.L(e,i,a);var l=za;if(l&&e&&i){var h='link[rel="preload"][as="'+ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ae(a.imageSizes)+'"]')):h+='[href="'+ae(e)+'"]';var d=h;switch(i){case"style":d=ja(e);break;case"script":d=Ba(e)}Vn.has(d)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(hl(d))||i==="script"&&l.querySelector(fl(d))||(i=l.createElement("link"),ze(i,"link",e),ee(i),l.head.appendChild(i)))}}function Yb(e,i){Bi.m(e,i);var a=za;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ae(l)+'"][href="'+ae(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(e)}if(!Vn.has(d)&&(e=C({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(d)))return}l=a.createElement("link"),ze(l,"link",e),ee(l),a.head.appendChild(l)}}}function Qb(e,i,a){Bi.S(e,i,a);var l=za;if(l&&e){var h=ur(l).hoistableStyles,d=ja(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(hl(d)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&Ed(e,a);var S=v=l.createElement("link");ee(S),ze(S,"link",e),S._p=new Promise(function(k,F){S.onload=k,S.onerror=F}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function Kb(e,i){Bi.X(e,i);var a=za;if(a&&e){var l=ur(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(fl(h)),d||(e=C({src:e,async:!0},i),(i=Vn.get(h))&&Td(e,i),d=a.createElement("script"),ee(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xb(e,i){Bi.M(e,i);var a=za;if(a&&e){var l=ur(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(fl(h)),d||(e=C({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Td(e,i),d=a.createElement("script"),ee(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Jy(e,i,a,l){var h=(h=vn.current)?hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=ur(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var d=ur(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(hl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||Wb(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=ur(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+ae(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),ee(i),e.head.appendChild(i))}function Ba(e){return'[src="'+ae(e)+'"]'}function fl(e){return"script[async]"+e}function e_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ae(a.href)+'"]');if(l)return i.instance=l,ee(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ee(l),ze(l,"style",h),fc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ja(a.href);var d=e.querySelector(hl(h));if(d)return i.state.loading|=4,i.instance=d,ee(d),d;l=t_(a),(h=Vn.get(h))&&Ed(l,h),d=(e.ownerDocument||e).createElement("link"),ee(d);var v=d;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),ze(d,"link",l),i.state.loading|=4,fc(d,a.precedence,e),i.instance=d;case"script":return d=Ba(a.src),(h=e.querySelector(fl(d)))?(i.instance=h,ee(h),h):(l=a,(h=Vn.get(d))&&(l=C({},a),Td(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ee(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fc(l,a.precedence,e));return i.instance}function fc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dc=null;function n_(e,i,a){if(dc===null){var l=new Map,h=dc=new Map;h.set(a,l)}else h=dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[or]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function i_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function $b(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var dl=null;function Zb(){}function Jb(e,i,a){if(dl===null)throw Error(s(475));var l=dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ja(a.href),d=e.querySelector(hl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=mc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ee(d);return}d=e.ownerDocument||e,a=t_(a),(h=Vn.get(h))&&Ed(a,h),d=d.createElement("link"),ee(d);var v=d;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=mc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function t1(){if(dl===null)throw Error(s(475));var e=dl;return e.stylesheets&&e.count===0&&bd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&bd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function bd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,i.forEach(e1,e),gc=null,mc.call(e))}function e1(e,i){if(!(i.state.loading&4)){var a=gc.get(e);if(a)var l=a.get(null);else{a=new Map,gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ml={$$typeof:j,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function n1(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.hiddenUpdates=na(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function s_(e,i,a,l,h,d,v,E,S,k,F,X){return e=new n1(e,i,a,v,E,S,k,X),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),e.current=d,d.stateNode=e,i=Jh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},kf(d),e}function a_(e){return e?(e=va,e):va}function o_(e,i,a,l,h,d){h=a_(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(e,l,i),a!==null&&(en(a,e,i),$o(a,e,i))}function l_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function wd(e,i){l_(e,i),(e=e.alternate)&&l_(e,i)}function u_(e){if(e.tag===13){var i=gr(e,67108864);i!==null&&en(i,e,67108864),wd(e,67108864)}}var pc=!0;function i1(e,i,a,l){var h=w.T;w.T=null;var d=st.p;try{st.p=2,Sd(e,i,a,l)}finally{st.p=d,w.T=h}}function r1(e,i,a,l){var h=w.T;w.T=null;var d=st.p;try{st.p=8,Sd(e,i,a,l)}finally{st.p=d,w.T=h}}function Sd(e,i,a,l){if(pc){var h=Ad(l);if(h===null)fd(e,i,l,yc,a),h_(e,l);else if(a1(h,e,i,a,l))l.stopPropagation();else if(h_(e,l),i&4&&-1<s1.indexOf(e)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-$e(v);E.entanglements[1]|=S,v&=~S}ai(d),(ie&6)===0&&(tc=rn()+500,ll(0))}}break;case 13:E=gr(d,2),E!==null&&en(E,d,2),ic(),wd(d,2)}if(d=Ad(l),d===null&&fd(e,i,l,yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else fd(e,i,l,null,a)}}function Ad(e){return e=oa(e),Rd(e)}var yc=null;function Rd(e){if(yc=null,e=Ln(e),e!==null){var i=gt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return yc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case ve:return 2;case Ce:return 8;case yi:case iu:return 32;case po:return 268435456;default:return 32}default:return 32}}var Id=!1,Or=null,Nr=null,Mr=null,gl=new Map,pl=new Map,xr=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,i){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(i.pointerId)}}function yl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&u_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function a1(e,i,a,l,h){switch(i){case"focusin":return Or=yl(Or,e,i,a,l,h),!0;case"dragenter":return Nr=yl(Nr,e,i,a,l,h),!0;case"mouseover":return Mr=yl(Mr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return gl.set(d,yl(gl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,pl.set(d,yl(pl.get(d)||null,e,i,a,l,h)),!0}return!1}function f_(e){var i=Ln(e.target);if(i!==null){var a=gt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,ar(e.priority,function(){if(a.tag===13){var l=pn(),h=gr(a,l);h!==null&&en(h,a,l),wd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ad(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return i=vi(a),i!==null&&u_(i),e.blockedOn=a,!1;i.shift()}return!0}function d_(e,i,a){_c(e)&&a.delete(i)}function o1(){Id=!1,Or!==null&&_c(Or)&&(Or=null),Nr!==null&&_c(Nr)&&(Nr=null),Mr!==null&&_c(Mr)&&(Mr=null),gl.forEach(d_),pl.forEach(d_)}function vc(e,i){e.blockedOn===i&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,o1)))}var Ec=null;function m_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Rd(l||a)===null)continue;break}var d=vi(a);d!==null&&(e.splice(i,3),i-=3,pf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _l(e){function i(S){return vc(S,e)}Or!==null&&vc(Or,e),Nr!==null&&vc(Nr,e),Mr!==null&&vc(Mr,e),gl.forEach(i),pl.forEach(i);for(var a=0;a<xr.length;a++){var l=xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ee]||null;if(typeof d=="function")v||m_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ee]||null)E=v.formAction;else if(Rd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),m_(a)}}}function Cd(e){this._internalRoot=e}Tc.prototype.render=Cd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();o_(a,l,e,i,null,null)},Tc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Pa(),o_(e.current,2,null,e,null,null),ic(),i[_i]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var i=lu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,e),a===0&&f_(e)}};var g_=t.version;if(g_!=="19.0.0")throw Error(s(527,g_,"19.0.0"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Z(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var l1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{tr=bc.inject(l1),He=bc}catch{}}return El.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Mp,d=xp,v=kp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=s_(e,1,!1,null,null,a,l,h,d,v,E,null),e[_i]=i.current,hd(e.nodeType===8?e.parentNode:e),new Cd(i)},El.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Mp,v=xp,E=kp,S=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=s_(e,1,!0,i,a??null,l,h,d,v,E,S,k),i.context=a_(null),a=i.current,l=pn(),h=br(l),h.callback=null,wr(a,h,l),i.current.lanes=l,he(i,l),ai(i),e[_i]=i.current,hd(e),new Tc(i)},El.version="19.0.0",El}var A_;function v1(){if(A_)return Nd.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=_1(),Nd.exports}var E1=v1(),av={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R_=Bs.createContext&&Bs.createContext(av),T1=["attr","size","title"];function b1(r,t){if(r==null)return{};var n=w1(r,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function w1(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function zc(){return zc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},zc.apply(this,arguments)}function I_(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function jc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(n),!0).forEach(function(s){S1(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function S1(r,t,n){return t=A1(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function A1(r){var t=R1(r,"string");return typeof t=="symbol"?t:t+""}function R1(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function ov(r){return r&&r.map((t,n)=>Bs.createElement(t.tag,jc({key:n},t.attr),ov(t.child)))}function Fn(r){return t=>Bs.createElement(I1,zc({attr:jc({},r.attr)},t),ov(r.child))}function I1(r){var t=n=>{var{attr:s,size:o,title:u}=r,f=b1(r,T1),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Bs.createElement("svg",zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:jc(jc({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Bs.createElement("title",null,u),r.children)};return R_!==void 0?Bs.createElement(R_.Consumer,null,n=>t(n)):t(av)}function lv(r){return Fn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(r)}function C1(r){return Fn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.87 0a2.5 2.5 0 0 0-.697.1q-.187.058-.351.147-.163.09-.297.213l-.008.006q-.133.124-.235.27a1.7 1.7 0 0 0-.27.643 1.8 1.8 0 0 0 .105 1.023q.072.164.176.308.105.14.24.26l.007.004q.137.12.299.205.159.084.348.14.32.093.682.092h2.8l-4.256 5.09-.618.733.01.008q-.046.06-.088.124l-.07.116L.59 9.6q-.03.06-.05.12l-.006.016a1.8 1.8 0 0 0-.122.66q0 .219.042.423.039.204.12.4.084.2.21.372a2 2 0 0 0 1.067.746h.002q.397.117.87.117H9.65q.169 0 .338-.02.163-.02.312-.06l.044-.013q.185-.056.344-.144a1.6 1.6 0 0 0 .297-.21l.012-.01a1.65 1.65 0 0 0 .414-.592q.063-.157.095-.33a2 2 0 0 0 .004-.672 1.6 1.6 0 0 0-.084-.304l-.02-.055a1.5 1.5 0 0 0-.436-.58l-.006-.005a1.65 1.65 0 0 0-.635-.325 2.7 2.7 0 0 0-.675-.087H5.918l4.157-4.95.243-.304a6 6 0 0 0 .353-.486 2.1 2.1 0 0 0 .262-.64q.075-.315.074-.674 0-.46-.142-.83a1.7 1.7 0 0 0-.437-.648 1.8 1.8 0 0 0-.66-.39A2.6 2.6 0 0 0 8.938 0Zm12.36 6.062q-.179 0-.347.024a2 2 0 0 0-.325.073q-.18.054-.338.142a1.6 1.6 0 0 0-.29.21l-.003.003a1.6 1.6 0 0 0-.394.56q-.065.15-.097.317-.03.165-.032.337a1.7 1.7 0 0 0 .135.655q.07.162.171.3.098.131.225.242l.01.012q.133.114.29.197.155.082.335.134a2.4 2.4 0 0 0 .658.09h2.673L13.82 14.24l-.594.703.01.008-.088.123a1 1 0 0 0-.066.113l-.057.112c-.015.036-.046.097-.055.133a1.8 1.8 0 0 0-.118.64 2.1 2.1 0 0 0 .158.796 1.87 1.87 0 0 0 .83.912q.19.102.406.166h.001q.192.057.404.085.214.03.437.03h6.678q.168 0 .325-.02.154-.02.304-.06l.042-.012a1.7 1.7 0 0 0 .33-.14q.155-.083.288-.203l.01-.01q.134-.124.233-.265.103-.146.168-.308.06-.152.093-.318.03-.166.03-.34a1.8 1.8 0 0 0-.112-.605l-.02-.05a1.5 1.5 0 0 0-.417-.56l-.004-.004a1.6 1.6 0 0 0-.29-.19 2 2 0 0 0-.332-.128 2.4 2.4 0 0 0-.65-.083h-3.575l3.727-4.435q.154-.182.262-.314l.234-.291a6 6 0 0 0 .34-.47q.085-.137.15-.293a2.4 2.4 0 0 0 .102-.324 2.8 2.8 0 0 0 .07-.65q0-.445-.14-.8a1.7 1.7 0 0 0-.423-.628 1.8 1.8 0 0 0-.639-.377 2.5 2.5 0 0 0-.804-.12Zm-11.39 9.23q-.127 0-.256.016a1.5 1.5 0 0 0-.498.162q-.12.068-.22.158l-.001.004a1.2 1.2 0 0 0-.37.665 1.2 1.2 0 0 0 .002.506 1.15 1.15 0 0 0 .374.65l.01.01a1.2 1.2 0 0 0 .47.25q.23.067.49.067h1.776l-2.833 3.39-.468.553.01.007-.078.124-.042.084c-.014.03-.027.068-.042.097a1.3 1.3 0 0 0-.09.48q0 .156.03.305.029.147.088.289.063.146.152.27a1.4 1.4 0 0 0 .47.413q.142.076.304.125.142.042.299.063.159.02.32.02h4.776q.118 0 .24-.014.118-.015.224-.044l.034-.01q.135-.041.249-.104.12-.066.219-.154l.007-.008a1.2 1.2 0 0 0 .303-.432q.048-.113.07-.24a1.4 1.4 0 0 0 .002-.486 1.2 1.2 0 0 0-.06-.222l-.016-.042a1.14 1.14 0 0 0-.322-.426 1.2 1.2 0 0 0-.467-.24 1.8 1.8 0 0 0-.483-.06h-2.42l2.768-3.294.167-.21.139-.183a2 2 0 0 0 .106-.158q.066-.104.112-.22a1.8 1.8 0 0 0 .115-.472q.014-.126.013-.247 0-.33-.103-.596a1.26 1.26 0 0 0-.32-.47 1.3 1.3 0 0 0-.478-.284 1.8 1.8 0 0 0-.596-.092z"},child:[]}]})(r)}function uv(r){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(r)}function cv(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function D1(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(r)}function hv(r){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}const O1=()=>{};var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},N1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let O=(m&15)<<2|y>>6,j=y&63;p||(j=64,f||(O=64)),s.push(n[T],n[A],n[O],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(fv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):N1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new M1;const O=u<<2|m>>4;if(s.push(O),y!==64){const j=m<<4&240|y>>2;if(s.push(j),A!==64){const G=y<<6&192|A;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class M1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x1=function(r){const t=fv(r);return dv.encodeByteArray(t,!0)},Bc=function(r){return x1(r).replace(/\./g,"")},mv=function(r){try{return dv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=()=>k1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof C_>"u")return;const r=C_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},U1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&mv(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return O1()||V1()||P1()||U1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gv=r=>{var t,n;return(n=(t=oh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},L1=r=>{const t=gv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},pv=()=>{var r;return(r=oh())===null||r===void 0?void 0:r.config},yv=r=>{var t;return(t=oh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function q1(){var r;const t=(r=oh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function G1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y1(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Q1(){return!q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K1(){try{return typeof indexedDB=="object"}catch{return!1}}function X1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="FirebaseError";class $i extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=W1,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?$1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new $i(o,m,s)}}function $1(r,t){return r.replace(Z1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Z1=/\{\$([^}]+)}/g;function J1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(D_(u)&&D_(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function D_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Sl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Al(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function tw(r,t){const n=new ew(r,t);return n.subscribe.bind(n)}class ew{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Vd),o.error===void 0&&(o.error=Vd),o.complete===void 0&&(o.complete=Vd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new z1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sw(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rw(r){return r===Ls?void 0:r}function sw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const ow={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},lw=Mt.INFO,uw={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},cw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=uw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=lw,this._logHandler=cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ow[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const hw=(r,t)=>t.some(n=>r instanceof n);let O_,N_;function fw(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dw(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,Kd=new WeakMap,vv=new WeakMap,Pd=new WeakMap,Sm=new WeakMap;function mw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&_v.set(n,r)}).catch(()=>{}),Sm.set(t,r),t}function gw(r){if(Kd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Kd.set(r,t)}let Xd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||vv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function pw(r){Xd=r(Xd)}function yw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ud(this),t,...n);return vv.set(s,t.sort?t.sort():[t]),qr(s)}:dw().includes(r)?function(...t){return r.apply(Ud(this),t),qr(_v.get(this))}:function(...t){return qr(r.apply(Ud(this),t))}}function _w(r){return typeof r=="function"?yw(r):(r instanceof IDBTransaction&&gw(r),hw(r,fw())?new Proxy(r,Xd):r)}function qr(r){if(r instanceof IDBRequest)return mw(r);if(Pd.has(r))return Pd.get(r);const t=_w(r);return t!==r&&(Pd.set(r,t),Sm.set(t,r)),t}const Ud=r=>Sm.get(r);function vw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Ew=["get","getKey","getAll","getAllKeys","count"],Tw=["put","add","delete","clear"],Ld=new Map;function M_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Tw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ew.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Ld.set(t,u),u}pw(r=>({...r,get:(t,n,s)=>M_(t,n)||r.get(t,n,s),has:(t,n)=>!!M_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ww(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ww(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wd="@firebase/app",x_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new wm("@firebase/app"),Sw="@firebase/app-compat",Aw="@firebase/analytics-compat",Rw="@firebase/analytics",Iw="@firebase/app-check-compat",Cw="@firebase/app-check",Dw="@firebase/auth",Ow="@firebase/auth-compat",Nw="@firebase/database",Mw="@firebase/data-connect",xw="@firebase/database-compat",kw="@firebase/functions",Vw="@firebase/functions-compat",Pw="@firebase/installations",Uw="@firebase/installations-compat",Lw="@firebase/messaging",zw="@firebase/messaging-compat",jw="@firebase/performance",Bw="@firebase/performance-compat",qw="@firebase/remote-config",Hw="@firebase/remote-config-compat",Fw="@firebase/storage",Gw="@firebase/storage-compat",Yw="@firebase/firestore",Qw="@firebase/vertexai",Kw="@firebase/firestore-compat",Xw="firebase",Ww="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",$w={[Wd]:"fire-core",[Sw]:"fire-core-compat",[Rw]:"fire-analytics",[Aw]:"fire-analytics-compat",[Cw]:"fire-app-check",[Iw]:"fire-app-check-compat",[Dw]:"fire-auth",[Ow]:"fire-auth-compat",[Nw]:"fire-rtdb",[Mw]:"fire-data-connect",[xw]:"fire-rtdb-compat",[kw]:"fire-fn",[Vw]:"fire-fn-compat",[Pw]:"fire-iid",[Uw]:"fire-iid-compat",[Lw]:"fire-fcm",[zw]:"fire-fcm-compat",[jw]:"fire-perf",[Bw]:"fire-perf-compat",[qw]:"fire-rc",[Hw]:"fire-rc-compat",[Fw]:"fire-gcs",[Gw]:"fire-gcs-compat",[Yw]:"fire-fst",[Kw]:"fire-fst-compat",[Qw]:"fire-vertex","fire-js":"fire-js",[Xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,Zw=new Map,Zd=new Map;function k_(r,t){try{r.container.addComponent(t)}catch(n){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Za(r){const t=r.name;if(Zd.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const n of qc.values())k_(n,r);for(const n of Zw.values())k_(n,r);return!0}function Am(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Yl("app","Firebase",Jw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=Ww;function Ev(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:$d,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=pv()),!n)throw Hr.create("no-options");const u=qc.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const f=new aw(o);for(const p of Zd.values())f.addComponent(p);const m=new tS(n,s,f);return qc.set(o,m),m}function Tv(r=$d){const t=qc.get(r);if(!t&&r===$d&&pv())return Ev();if(!t)throw Hr.create("no-app",{appName:r});return t}function Fr(r,t,n){var s;let o=(s=$w[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(m.join(" "));return}Za(new Hs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebase-heartbeat-database",nS=1,kl="firebase-heartbeat-store";let zd=null;function bv(){return zd||(zd=vw(eS,nS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function iS(r){try{const n=(await bv()).transaction(kl),s=await n.objectStore(kl).get(wv(r));return await n.done,s}catch(t){if(t instanceof $i)Yi.warn(t.message);else{const n=Hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yi.warn(n.message)}}}async function V_(r,t){try{const s=(await bv()).transaction(kl,"readwrite");await s.objectStore(kl).put(t,wv(r)),await s.done}catch(n){if(n instanceof $i)Yi.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(s.message)}}}function wv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=1024,sS=30;class aS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=P_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sS){const f=uS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:s,unsentEntries:o}=oS(this._heartbeatsCache.heartbeats),u=Bc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yi.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function oS(r,t=rS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),U_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),U_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K1()?X1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function U_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function uS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r){Za(new Hs("platform-logger",t=>new bw(t),"PRIVATE")),Za(new Hs("heartbeat",t=>new aS(t),"PRIVATE")),Fr(Wd,x_,r),Fr(Wd,x_,"esm2017"),Fr("fire-js","")}cS("");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,Sv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,R){function w(){}w.prototype=R.prototype,x.D=R.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(C,M,V){for(var I=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)I[Jt-2]=arguments[Jt];return R.prototype[M].apply(C,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,w){w||(w=0);var C=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)C[M]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(M=0;16>M;++M)C[M]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=x.g[0],w=x.g[1],M=x.g[2];var V=x.g[3],I=R+(V^w&(M^V))+C[0]+3614090360&4294967295;R=w+(I<<7&4294967295|I>>>25),I=V+(M^R&(w^M))+C[1]+3905402710&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(w^V&(R^w))+C[2]+606105819&4294967295,M=V+(I<<17&4294967295|I>>>15),I=w+(R^M&(V^R))+C[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(V^w&(M^V))+C[4]+4118548399&4294967295,R=w+(I<<7&4294967295|I>>>25),I=V+(M^R&(w^M))+C[5]+1200080426&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(w^V&(R^w))+C[6]+2821735955&4294967295,M=V+(I<<17&4294967295|I>>>15),I=w+(R^M&(V^R))+C[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(V^w&(M^V))+C[8]+1770035416&4294967295,R=w+(I<<7&4294967295|I>>>25),I=V+(M^R&(w^M))+C[9]+2336552879&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(w^V&(R^w))+C[10]+4294925233&4294967295,M=V+(I<<17&4294967295|I>>>15),I=w+(R^M&(V^R))+C[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(V^w&(M^V))+C[12]+1804603682&4294967295,R=w+(I<<7&4294967295|I>>>25),I=V+(M^R&(w^M))+C[13]+4254626195&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(w^V&(R^w))+C[14]+2792965006&4294967295,M=V+(I<<17&4294967295|I>>>15),I=w+(R^M&(V^R))+C[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(M^V&(w^M))+C[1]+4129170786&4294967295,R=w+(I<<5&4294967295|I>>>27),I=V+(w^M&(R^w))+C[6]+3225465664&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(V^R))+C[11]+643717713&4294967295,M=V+(I<<14&4294967295|I>>>18),I=w+(V^R&(M^V))+C[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^V&(w^M))+C[5]+3593408605&4294967295,R=w+(I<<5&4294967295|I>>>27),I=V+(w^M&(R^w))+C[10]+38016083&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(V^R))+C[15]+3634488961&4294967295,M=V+(I<<14&4294967295|I>>>18),I=w+(V^R&(M^V))+C[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^V&(w^M))+C[9]+568446438&4294967295,R=w+(I<<5&4294967295|I>>>27),I=V+(w^M&(R^w))+C[14]+3275163606&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(V^R))+C[3]+4107603335&4294967295,M=V+(I<<14&4294967295|I>>>18),I=w+(V^R&(M^V))+C[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^V&(w^M))+C[13]+2850285829&4294967295,R=w+(I<<5&4294967295|I>>>27),I=V+(w^M&(R^w))+C[2]+4243563512&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(V^R))+C[7]+1735328473&4294967295,M=V+(I<<14&4294967295|I>>>18),I=w+(V^R&(M^V))+C[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(w^M^V)+C[5]+4294588738&4294967295,R=w+(I<<4&4294967295|I>>>28),I=V+(R^w^M)+C[8]+2272392833&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^w)+C[11]+1839030562&4294967295,M=V+(I<<16&4294967295|I>>>16),I=w+(M^V^R)+C[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^V)+C[1]+2763975236&4294967295,R=w+(I<<4&4294967295|I>>>28),I=V+(R^w^M)+C[4]+1272893353&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^w)+C[7]+4139469664&4294967295,M=V+(I<<16&4294967295|I>>>16),I=w+(M^V^R)+C[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^V)+C[13]+681279174&4294967295,R=w+(I<<4&4294967295|I>>>28),I=V+(R^w^M)+C[0]+3936430074&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^w)+C[3]+3572445317&4294967295,M=V+(I<<16&4294967295|I>>>16),I=w+(M^V^R)+C[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^V)+C[9]+3654602809&4294967295,R=w+(I<<4&4294967295|I>>>28),I=V+(R^w^M)+C[12]+3873151461&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^w)+C[15]+530742520&4294967295,M=V+(I<<16&4294967295|I>>>16),I=w+(M^V^R)+C[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(M^(w|~V))+C[0]+4096336452&4294967295,R=w+(I<<6&4294967295|I>>>26),I=V+(w^(R|~M))+C[7]+1126891415&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~w))+C[14]+2878612391&4294967295,M=V+(I<<15&4294967295|I>>>17),I=w+(V^(M|~R))+C[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~V))+C[12]+1700485571&4294967295,R=w+(I<<6&4294967295|I>>>26),I=V+(w^(R|~M))+C[3]+2399980690&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~w))+C[10]+4293915773&4294967295,M=V+(I<<15&4294967295|I>>>17),I=w+(V^(M|~R))+C[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~V))+C[8]+1873313359&4294967295,R=w+(I<<6&4294967295|I>>>26),I=V+(w^(R|~M))+C[15]+4264355552&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~w))+C[6]+2734768916&4294967295,M=V+(I<<15&4294967295|I>>>17),I=w+(V^(M|~R))+C[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~V))+C[4]+4149444226&4294967295,R=w+(I<<6&4294967295|I>>>26),I=V+(w^(R|~M))+C[11]+3174756917&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~w))+C[2]+718787259&4294967295,M=V+(I<<15&4294967295|I>>>17),I=w+(V^(M|~R))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+V&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var w=R-this.blockSize,C=this.B,M=this.h,V=0;V<R;){if(M==0)for(;V<=w;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<R;)if(C[M++]=x.charCodeAt(V++),M==this.blockSize){o(this,C),M=0;break}}else for(;V<R;)if(C[M++]=x[V++],M==this.blockSize){o(this,C),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var w=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=w&255,w/=256;for(this.u(x),x=Array(16),R=w=0;4>R;++R)for(var C=0;32>C;C+=8)x[w++]=this.g[R]>>>C&255;return x};function u(x,R){var w=m;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=R(x)}function f(x,R){this.h=R;for(var w=[],C=!0,M=x.length-1;0<=M;M--){var V=x[M]|0;C&&V==R||(w[M]=V,C=!1)}this.g=w}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return K(y(-x));for(var R=[],w=1,C=0;x>=w;C++)R[C]=x/w|0,w*=4294967296;return new f(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return K(T(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),C=A,M=0;M<x.length;M+=8){var V=Math.min(8,x.length-M),I=parseInt(x.substring(M,M+V),R);8>V?(V=y(Math.pow(R,V)),C=C.j(V).add(y(I))):(C=C.j(w),C=C.add(y(I)))}return C}var A=p(0),O=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-K(this).m();for(var x=0,R=1,w=0;w<this.g.length;w++){var C=this.i(w);x+=(0<=C?C:4294967296+C)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(W(this))return"-"+K(this).toString(x);for(var R=y(Math.pow(x,6)),w=this,C="";;){var M=ut(w,R).g;w=et(w,M.j(R));var V=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=M,G(w))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=et(this,x),W(x)?-1:G(x)?0:1};function K(x){for(var R=x.g.length,w=[],C=0;C<R;C++)w[C]=~x.g[C];return new f(w,~x.h).add(O)}r.abs=function(){return W(this)?K(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],C=0,M=0;M<=R;M++){var V=C+(this.i(M)&65535)+(x.i(M)&65535),I=(V>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);C=I>>>16,V&=65535,I&=65535,w[M]=I<<16|V}return new f(w,w[w.length-1]&-2147483648?-1:0)};function et(x,R){return x.add(K(R))}r.j=function(x){if(G(this)||G(x))return A;if(W(this))return W(x)?K(this).j(K(x)):K(K(this).j(x));if(W(x))return K(this.j(K(x)));if(0>this.l(j)&&0>x.l(j))return y(this.m()*x.m());for(var R=this.g.length+x.g.length,w=[],C=0;C<2*R;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var M=0;M<x.g.length;M++){var V=this.i(C)>>>16,I=this.i(C)&65535,Jt=x.i(M)>>>16,te=x.i(M)&65535;w[2*C+2*M]+=I*te,it(w,2*C+2*M),w[2*C+2*M+1]+=V*te,it(w,2*C+2*M+1),w[2*C+2*M+1]+=I*Jt,it(w,2*C+2*M+1),w[2*C+2*M+2]+=V*Jt,it(w,2*C+2*M+2)}for(C=0;C<R;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=R;C<2*R;C++)w[C]=0;return new f(w,0)};function it(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function J(x,R){this.g=x,this.h=R}function ut(x,R){if(G(R))throw Error("division by zero");if(G(x))return new J(A,A);if(W(x))return R=ut(K(x),R),new J(K(R.g),K(R.h));if(W(R))return R=ut(x,K(R)),new J(K(R.g),R.h);if(30<x.g.length){if(W(x)||W(R))throw Error("slowDivide_ only works with positive integers.");for(var w=O,C=R;0>=C.l(x);)w=lt(w),C=lt(C);var M=ft(w,1),V=ft(C,1);for(C=ft(C,2),w=ft(w,2);!G(C);){var I=V.add(C);0>=I.l(x)&&(M=M.add(w),V=I),C=ft(C,1),w=ft(w,1)}return R=et(x,M.j(R)),new J(M,R)}for(M=A;0<=x.l(R);){for(w=Math.max(1,Math.floor(x.m()/R.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=y(w),I=V.j(R);W(I)||0<I.l(x);)w-=C,V=y(w),I=V.j(R);G(V)&&(V=O),M=M.add(V),x=et(x,I)}return new J(M,x)}r.A=function(x){return ut(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],C=0;C<R;C++)w[C]=this.i(C)&x.i(C);return new f(w,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],C=0;C<R;C++)w[C]=this.i(C)|x.i(C);return new f(w,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),w=[],C=0;C<R;C++)w[C]=this.i(C)^x.i(C);return new f(w,this.h^x.h)};function lt(x){for(var R=x.g.length+1,w=[],C=0;C<R;C++)w[C]=x.i(C)<<1|x.i(C-1)>>>31;return new f(w,x.h)}function ft(x,R){var w=R>>5;R%=32;for(var C=x.g.length-w,M=[],V=0;V<C;V++)M[V]=0<R?x.i(V+w)>>>R|x.i(V+w+1)<<32-R:x.i(V+w);return new f(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sv=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Gr=f}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Av,Rl,Rv,Oc,Jd,Iv,Cv,Dv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break t;_=_[U]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var q=_++;return{value:g(q,c[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function O(c,g,_){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,O.apply(null,arguments)}function j(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function G(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,q){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return g.prototype[U].apply(b,tt)}}function W(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function K(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=c.length||0,q=b.length||0;c.length=U+q;for(let tt=0;tt<q;tt++)c[U+tt]=b[tt]}else c.push(b)}}class et{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function it(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var lt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ft(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,g){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Ht;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Jt{constructor(){this.h=this.g=null}add(g,_){const b=te.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new et(()=>new nt,c=>c.reset());class nt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,gt=!1,Ht=new Jt,D=()=>{const c=m.Promise.resolve(void 0);mt=()=>{c.then(Z)}};var Z=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){V(_)}var g=te;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}gt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function It(c,g){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(lt){t:{try{ut(g.nodeName);var U=!0;break t}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}G(It,rt);var At={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),zt=0;function se(c,g,_,b,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=U,this.key=++zt,this.da=this.fa=!1}function Yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function We(c){this.src=c,this.g={},this.h=0}We.prototype.add=function(c,g,_,b,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var tt=vn(c,g,b,U);return-1<tt?(g=c[tt],_||(g.fa=!1)):(g=new se(g,this.src,q,!!b,U),g.fa=_,c.push(g)),g};function gi(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,g,void 0),q;(q=0<=U)&&Array.prototype.splice.call(b,U,1),q&&(Yt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vn(c,g,_,b){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==b)return U}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Ji={};function pi(c,g,_,b,U){if(Array.isArray(g)){for(var q=0;q<g.length;q++)pi(c,g[q],_,b,U);return null}return _=nu(_),c&&c[me]?c.K(g,_,y(b)?!!b.capture:!1,U):mo(c,g,_,!1,b,U)}function mo(c,g,_,b,U,q){if(!g)throw Error("Invalid event type");var tt=y(U)?!!U.capture:!!U,Vt=go(c);if(Vt||(c[Zi]=Vt=new We(c)),_=Vt.add(g,_,b,tt,q),_.proxy)return _;if(b=Zs(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)st||(U=tt),U===void 0&&(U=!1),c.addEventListener(g.toString(),b,U);else if(c.attachEvent)c.attachEvent(ta(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zs(){function c(_){return g.call(c.src,c.listener,_)}const g=Oh;return c}function Js(c,g,_,b,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)Js(c,g[q],_,b,U);else b=y(b)?!!b.capture:!!b,_=nu(_),c&&c[me]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],_=vn(q,_,b,U),-1<_&&(Yt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=go(c))&&(g=c.g[g.toString()],c=-1,g&&(c=vn(g,_,b,U)),(_=-1<c?g[c]:null)&&as(_))}function as(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])gi(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(ta(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=go(g))?(gi(_,c),_.h==0&&(_.src=null,g[Zi]=null)):Yt(c)}}}function ta(c){return c in Ji?Ji[c]:Ji[c]="on"+c}function Oh(c,g){if(c.da)c=!0;else{g=new It(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&as(c),c=_.call(b,g)}return c}function go(c){return c=c[Zi],c instanceof We?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(g){return c.handleEvent(g)}),c[rn])}function ve(){ht.call(this),this.i=new We(this),this.M=this,this.F=null}G(ve,ht),ve.prototype[me]=!0,ve.prototype.removeEventListener=function(c,g,_,b){Js(this,c,g,_,b)};function Ce(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new rt(g,c);else if(g instanceof rt)g.target=g.target||c;else{var U=g;g=new rt(b,c),C(g,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var tt=g.g=_[q];U=yi(tt,b,!0,g)&&U}if(tt=g.g=c,U=yi(tt,b,!0,g)&&U,U=yi(tt,b,!1,g)&&U,_)for(q=0;q<_.length;q++)tt=g.g=_[q],U=yi(tt,b,!1,g)&&U}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)Yt(_[b]);delete c.g[g],c.h--}}this.F=null},ve.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ve.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function yi(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,q=0;q<g.length;++q){var tt=g[q];if(tt&&!tt.da&&tt.capture==_){var Vt=tt.listener,Te=tt.ha||tt.src;tt.fa&&gi(c.i,tt),U=Vt.call(Te,b)!==!1&&U}}return U&&!b.defaultPrevented}function iu(c,g,_){if(typeof c=="function")_&&(c=O(c,_));else if(c&&typeof c.handleEvent=="function")c=O(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function po(c){c.g=iu(()=>{c.g=null,c.i&&(c.i=!1,po(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Nh extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:po(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){ht.call(this),this.h=c,this.g={}}G(os,ht);var tr=[];function He(c){ft(c.g,function(g,_){this.g.hasOwnProperty(_)&&as(g)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),He(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yo=m.JSON.stringify,Gn=m.JSON.parse,$e=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function ru(c){return c.h||(c.h=c.i())}function su(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){rt.call(this,"d")}G(er,rt);function Un(){rt.call(this,"c")}G(Un,rt);var En={},nr=null;function ea(){return nr=nr||new ve}En.La="serverreachability";function vo(c){rt.call(this,En.La,c)}G(vo,rt);function ir(c){const g=ea();Ce(g,new vo(g))}En.STAT_EVENT="statevent";function na(c,g){rt.call(this,En.STAT_EVENT,c),this.stat=g}G(na,rt);function he(c){const g=ea();Ce(g,new na(g,c))}En.Ma="timingevent";function au(c,g){rt.call(this,En.Ma,c),this.size=g}G(au,rt);function rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function sr(){this.g=!0}sr.prototype.xa=function(){this.g=!1};function ou(c,g,_,b,U,q){c.info(function(){if(c.g)if(q)for(var tt="",Vt=q.split("&"),Te=0;Te<Vt.length;Te++){var Pt=Vt[Te].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var be=Ne.split("_");tt=2<=be.length&&be[1]=="type"?tt+(Ne+"="+Pt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+_+`
`+tt})}function lu(c,g,_,b,U,q,tt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+_+`
`+q+" "+tt})}function ar(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(c,_)+(b?" "+b:"")})}function Qn(c,g){c.info(function(){return"TIMEOUT: "+g})}sr.prototype.info=function(){};function De(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return yo(_)}catch{return g}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ls;function ia(){}G(ia,_o),ia.prototype.g=function(){return new XMLHttpRequest},ia.prototype.i=function(){return{}},ls=new ia;function Kn(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eo}function Eo(){this.i=null,this.g="",this.h=!1}var or={},us={};function Ln(c,g,_){c.L=1,c.v=fs(ae(g)),c.m=_,c.P=!0,vi(c,null)}function vi(c,g){c.F=Date.now(),ee(c),c.A=ae(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),bi(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Eo,c.g=bu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Nh(O(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(tr[0]=U.toString()),U=tr);for(var q=0;q<U.length;q++){var tt=pi(_,U[q],b||g.handleEvent,!1,g.h||g);if(!tt)break;g.g[tt.key]=tt}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ir(),ou(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)t:{const be=An(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||be!=4||g==7||(g==8||0>=Ri?ir(3):ir(2)),ra(this);var _=this.g.Z();this.X=_;e:if(lr(this)){var b=mu(this.g);c="";var U=b.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),cn(this);var tt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(q&&g==U-1)});b.length=0,this.h.g+=c,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=_==200,lu(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Te=this.g;if((Vt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Vt)){var Pt=Vt;break e}}Pt=null}if(_=Pt)ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hn(this,_);else{this.o=!1,this.s=3,he(12),sn(this),cn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<tt.length;)if(Pe=ur(this,tt),Pe==us){be==4&&(this.s=4,he(14),_=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==or){this.s=4,he(15),ar(this.i,this.l,tt,"[Invalid Chunk]"),_=!1;break}else ar(this.i,this.l,Pe,null),hn(this,Pe);if(lr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||tt.length!=0||this.h.h||(this.s=1,he(16),_=!1),this.o=this.o&&_,!_)ar(this.i,this.l,tt,"[Invalid Chunked Response]"),sn(this),cn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),vs(Ne),Ne.M=!0,he(11))}}else ar(this.i,this.l,tt,null),hn(this,tt);be==4&&sn(this),this.o&&!this.J&&(be==4?vu(this.j,this):(this.o=!1,ee(this)))}else Uh(this.g),_==400&&0<tt.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),sn(this),cn(this)}}}catch{}finally{}};function lr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ur(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?us:(_=Number(g.substring(_,b)),isNaN(_)?or:(b+=1,b+_>g.length?us:(g=g.slice(b,b+_),c.C=b+_,g)))}Kn.prototype.cancel=function(){this.J=!0,sn(this)};function ee(c){c.S=Date.now()+c.I,To(c,c.I)}function To(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rr(O(c.ba,c),g)}function ra(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(ir(),he(17)),sn(this),this.s=2,cn(this)):To(this,this.S-c)};function cn(c){c.j.G==0||c.J||vu(c.j,c)}function sn(c){ra(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,He(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||cr(_.h,c))){if(!c.K&&cr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ma(_),fa(_);else break t;Mo(_),he(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(O(_.Za,_),6e3));if(1>=uu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((c.K||_.g==c)&&ma(_),!it(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Pt=U[g];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const be=Pt[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(b=1.5*Ri,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Pe=c.g;if(Pe){const ei=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var q=b.h;q.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(hr(q,q.h),q.h=null))}if(b.D){const ko=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(b.ya=ko,jt(b.I,b.D,ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var tt=c;if(b.qa=Tu(b,b.J?b.ia:null,b.W),tt.K){Tn(b.h,tt);var Vt=tt,Te=b.L;Te&&(Vt.I=Te),Vt.B&&(ra(Vt),ee(Vt)),b.g=tt}else yu(b);0<_.i.length&&da(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Ai(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ai(_,7):Oo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}ir(4)}catch{}}var Mh=class{constructor(c,g){this.g=c,this.map=g}};function bo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function cr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function hr(c,g){c.g?c.g.add(g):c.h=g}function Tn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}bo.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ze(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return W(c.i)}function cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function xh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function cs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=xh(c),b=cu(c),U=b.length,q=0;q<U;q++)g.call(void 0,b[q],_&&_[q],c)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var q=c[_].substring(0,b);U=c[_].substring(b+1)}else q=c[_];g(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,fr(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.s),this.l=c.l;var g=c.i,_=new Xn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),aa(this,_),this.m=c.m}else c&&(g=String(c).match(So))?(this.h=!1,fr(this,g[1]||"",!0),this.o=dr(g[2]||""),this.g=dr(g[3]||"",!0),hs(this,g[4]),this.l=dr(g[5]||"",!0),aa(this,g[6]||"",!0),this.m=dr(g[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(bn(g,Ao,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(bn(g,Ao,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bn(_,_.charAt(0)=="/"?Ro:hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bn(_,Ph)),c.join("")};function ae(c){return new Ei(c)}function fr(c,g,_){c.j=_?dr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function aa(c,g,_){g instanceof Xn?(c.i=g,Io(c.i,c.h)):(_||(g=bn(g,Vh)),c.i=new Xn(g,c.h))}function jt(c,g,_){c.i.set(g,_)}function fs(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function dr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,kh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ao=/[#\/\?@]/g,hu=/[#\?:]/g,Ro=/[#\?]/g,Vh=/[#\?@]/g,Ph=/#/g;function Xn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&sa(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Xn.prototype,r.add=function(c,g){wn(this),this.i=null,c=wi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function oa(c,g){wn(c),g=wi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return wn(c),g=wi(c,g),c.g.has(g)}r.forEach=function(c,g){wn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(g,U,b,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const U=c[b];for(let q=0;q<U.length;q++)_.push(g[b])}return _},r.V=function(c){wn(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(wi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return wn(this),this.i=null,c=wi(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function bi(c,g,_){oa(c,g),0<_.length&&(c.i=null,c.g.set(wi(c,g),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const q=encodeURIComponent(String(b)),tt=this.V(b);for(b=0;b<tt.length;b++){var U=q;tt[b]!==""&&(U+="="+encodeURIComponent(String(tt[b]))),c.push(U)}}return this.i=c.join("&")};function wi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Io(c,g){g&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(oa(this,b),bi(this,U,_))},c)),c.j=g}function fu(c,g){const _=new sr;if(m.Image){const b=new Image;b.onload=j(Sn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=j(Sn,_,"TestLoadImage: error",!1,g,b),b.onabort=j(Sn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=j(Sn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function ds(c,g){const _=new sr,b=new AbortController,U=setTimeout(()=>{b.abort(),Sn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?Sn(_,"TestPingServer: ok",!0,g):Sn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,g)})}function Sn(c,g,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function ms(){this.g=new $e}function Wn(c,g,_){const b=_||"";try{cs(c,function(U,q){let tt=U;y(U)&&(tt=yo(U)),g.push(b+q+"="+encodeURIComponent(tt))})}catch(U){throw g.push(b+"type="+encodeURIComponent("_badmap")),U}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}G(mr,_o),mr.prototype.g=function(){return new Si(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Si(c,g){ve.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Si,ve),r=Si.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Co(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Co(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Zn(this),this.readyState==3&&Co(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Do(c){let g="";return ft(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Oe(c,g,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Do(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):jt(c,g,_))}function Ft(c){ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ft,ve);var la=/^https?$/i,gs=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ls.g(),this.v=this.o?ru(this.o):ru(ls),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){du(this,q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(gs,g,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of _)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){du(this,q)}};function du(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ua(c),Jn(c)}function ua(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ce(this,"complete"),Ce(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},r.bb=function(){ca(this)};function ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)iu(c.Ea,0,c);else if(Ce(c,"readystatechange"),An(c)==4){c.h=!1;try{const tt=c.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var b;if(b=tt===0){var U=String(c.D).match(So)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),b=!la.test(U?U.toLowerCase():"")}_=b}if(_)Ce(c,"complete"),Ce(c,"success");else{c.m=6;try{var q=2<An(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",ua(c)}}finally{Jn(c)}}}}function Jn(c,g){if(c.g){ps(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ce(c,"ready");try{_.onreadystatechange=b}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gn(g)}};function mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(it(c[b]))continue;var _=M(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[U]||[];g[U]=q,q.push(_)}x(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ha(c){this.Aa=0,this.i=[],this.j=new sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,c),this.cb=ys("retryDelaySeedMs",1e4,c),this.Wa=ys("forwardChannelMaxRetries",2,c),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(c&&c.concurrentRequestLimit),this.Da=new ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ha.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){he(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Tu(this,null,this.W),da(this)};function Oo(c){if(gu(c),c.G==3){var g=c.U++,_=ae(c.I);if(jt(_,"SID",c.K),jt(_,"RID",g),jt(_,"TYPE","terminate"),_s(c,_),g=new Kn(c,c.j,g),g.L=2,g.v=fs(ae(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=bu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ee(g)}Eu(c)}function fa(c){c.g&&(vs(c),c.g.cancel(),c.g=null)}function gu(c){fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!wo(c.h)&&!c.s){c.s=!0;var g=c.Ga;mt||D(),gt||(mt(),gt=!0),Ht.add(g,c),c.B=0}}function Lh(c,g){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rr(O(c.Ga,c,g),xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Kn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=R(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=pu(this,U,g),_=ae(this.I),jt(_,"RID",c),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),_s(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Do(q)))+"&"+g:this.m&&Oe(_,this.m,q)),hr(this.h,U),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",g),jt(_,"SID","null"),U.T=!0,Ln(U,_,null)):Ln(U,_,g),this.G=2}}else this.G==3&&(c?No(this,c):this.i.length==0||wo(this.h)||No(this))};function No(c,g){var _;g?_=g.l:_=c.U++;const b=ae(c.I);jt(b,"SID",c.K),jt(b,"RID",_),jt(b,"AID",c.T),_s(c,b),c.m&&c.o&&Oe(b,c.m,c.o),_=new Kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hr(c.h,_),Ln(_,b,g)}function _s(c,g){c.H&&ft(c.H,function(_,b){jt(g,b,_)}),c.l&&cs({},function(_,b){jt(g,b,_)})}function pu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?O(c.l.Na,c.l,c):null;t:{var U=c.i;let q=-1;for(;;){const tt=["count="+_];q==-1?0<_?(q=U[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Vt=!0;for(let Te=0;Te<_;Te++){let Pt=U[Te].g;const Ne=U[Te].map;if(Pt-=q,0>Pt)q=Math.max(0,U[Te].g-100),Vt=!1;else try{Wn(Ne,tt,"req"+Pt+"_")}catch{b&&b(Ne)}}if(Vt){b=tt.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,b}function yu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;mt||D(),gt||(mt(),gt=!0),Ht.add(g,c),c.v=0}}function Mo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rr(O(c.Fa,c),xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rr(O(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),fa(this),_u(this))};function vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ae(c.qa);jt(g,"RID","rpc"),jt(g,"SID",c.K),jt(g,"AID",c.T),jt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(g,"TO",c.ja),jt(g,"TYPE","xmlhttp"),_s(c,g),c.m&&c.o&&Oe(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=fs(ae(g)),_.m=null,_.P=!0,vi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,fa(this),Mo(this),he(19))};function ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function vu(c,g){var _=null;if(c.g==g){ma(c),vs(c),c.g=null;var b=2}else if(cr(c.h,g))_=g.D,Tn(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;b=ea(),Ce(b,new au(b,_)),da(c)}else yu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(b==1&&Lh(c,g)||b==2&&Mo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function xo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ai(c,g){if(c.j.info("Error code "+g),g==2){var _=O(c.fb,c),b=c.Xa;const U=!b;b=new Ei(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fr(b,"https"),fs(b),U?fu(b.toString(),_):ds(b.toString(),_)}else he(2);c.G=0,c.l&&c.l.sa(g),Eu(c),gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const g=Ze(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ka,g),K(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,_){var b=_ instanceof Ei?ae(_):new Ei(_);if(b.g!="")g&&(b.g=g+"."+b.g),hs(b,b.s);else{var U=m.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var q=new Ei(null);b&&fr(q,b),g&&(q.g=g),U&&hs(q,U),_&&(q.l=_),b=q}return _=c.D,g=c.ya,_&&g&&jt(b,_,g),jt(b,"VER",c.la),_s(c,b),b}function bu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ft(new mr({eb:_})):new Ft(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(c,g){return new Je(c,g)};function Je(c,g){ve.call(this),this.g=new ha(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!it(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!it(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ti(this)}G(Je,ve),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Oo(this.g)},Je.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=yo(c),c=_);g.i.push(new Mh(g.Ya++,c)),g.G==3&&da(g)},Je.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,Je.aa.N.call(this)};function Su(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}G(Su,er);function Au(){Un.call(this),this.status=1}G(Au,Un);function ti(c){this.g=c}G(ti,wu),ti.prototype.ua=function(){Ce(this.g,"a")},ti.prototype.ta=function(c){Ce(this.g,new Su(c))},ti.prototype.sa=function(c){Ce(this.g,new Au)},ti.prototype.ra=function(){Ce(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Dv=function(){return new ga},Cv=function(){return ea()},Iv=En,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Oc=Ee,_i.COMPLETE="complete",Rv=_i,su.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Rl=su,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Av=Ft}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",j_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new wm("@firebase/firestore");function Ha(){return Fs.logLevel}function at(r,...t){if(Fs.logLevel<=Mt.DEBUG){const n=t.map(Rm);Fs.debug(`Firestore (${lo}): ${r}`,...n)}}function Qi(r,...t){if(Fs.logLevel<=Mt.ERROR){const n=t.map(Rm);Fs.error(`Firestore (${lo}): ${r}`,...n)}}function Ja(r,...t){if(Fs.logLevel<=Mt.WARN){const n=t.map(Rm);Fs.warn(`Firestore (${lo}): ${r}`,...n)}}function Rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Gt(r,t){r||Et()}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends $i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class fS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dS{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Ov(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Qe(t)}}class mS{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gS{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new mS(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pS{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new B_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new B_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function tm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const u=Nv(),f=_S(u.encode(q_(r,n)),u.encode(q_(t,n)));return f!==0?f:Dt(s,o)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function q_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function _S(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function to(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,F_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*F_);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<H_)throw new pt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-H_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class oi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(),s===void 0?s=t.length-n:s>t.length-n&&Et(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=oi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=oi.isNumericId(t),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(t).compare(oi.extractNumericId(n)):tm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ce extends oi{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const vS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends oi{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return vS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new Be([G_])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new pt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ce.fromString(t))}static fromName(t){return new yt(ce.fromString(t).popFirst(5))}static empty(){return new yt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function ES(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new Qr(o,yt.empty(),t)}function TS(r){return new Qr(r.readTime,r.key,Vl)}class Qr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(Tt.min(),yt.empty(),Vl)}static max(){return new Qr(Tt.max(),yt.empty(),Vl)}}function bS(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==wS)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(o=>o?Q.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new Q((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function AS(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}lh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function uh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function RS(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="";function IS(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Y_(t)),t=CS(r.get(n),t);return Y_(t)}function CS(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case xv:n+="";break;default:n+=u}}return n}function Y_(r){return r+xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ns(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function kv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new je(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,n,s,o,u){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(t){return new K_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class K_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new yn([])}unionWith(t){let n=new Ie(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vv("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const DS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=DS.exec(r);if(Gt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="server_timestamp",Uv="__type__",Lv="__previous_value__",zv="__local_write_time__";function Cm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Uv])===null||n===void 0?void 0:n.stringValue)===Pv}function ch(r){const t=r.mapValue.fields[Lv];return Cm(t)?ch(t):t}function Pl(r){const t=Kr(r.mapValue.fields[zv].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n,s,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Fc="(default)";class Ul{constructor(t,n){this.projectId=t,this.database=n||Fc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__type__",NS="__max__",Ac={mapValue:{}},Bv="__vector__",Gc="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:xS(r)?9007199254740991:MS(r)?10:11:Et()}function di(r,t){if(r===t)return!0;const n=Wr(r);if(n!==Wr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?Hc(f)===Hc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Q_(f)!==Q_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(r,t);default:return Et()}}function Ll(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function eo(r,t){if(r===t)return 0;const n=Wr(r),s=Wr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),p=de(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return X_(r.timestampValue,t.timestampValue);case 4:return X_(Pl(r),Pl(t));case 5:return tm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Xr(u),p=Xr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Dt(m[y],p[y]);if(T!==0)return T}return Dt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Dt(de(u.latitude),de(f.latitude));return m!==0?m:Dt(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return W_(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,T;const A=u.fields||{},O=f.fields||{},j=(m=A[Gc])===null||m===void 0?void 0:m.arrayValue,G=(p=O[Gc])===null||p===void 0?void 0:p.arrayValue,W=Dt(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((T=G==null?void 0:G.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:W_(j,G)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const O=tm(p[A],T[A]);if(O!==0)return O;const j=eo(m[p[A]],y[T[A]]);if(j!==0)return j}return Dt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw Et()}}function X_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Kr(r),s=Kr(t),o=Dt(n.seconds,s.seconds);return o!==0?o:Dt(n.nanos,s.nanos)}function W_(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Dt(n.length,s.length)}function no(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=em(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${em(n.fields[f])}`;return o+"}"}(r.mapValue):Et()}function Nc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Nc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Nc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ns(s.fields,(u,f)=>{o+=u.length+Nc(f)}),o}(r.mapValue);default:throw Et()}}function nm(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function Z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function MS(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[jv])===null||n===void 0?void 0:n.stringValue)===Bv}function Dl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ns(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Dl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function xS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=Be.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Dl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ns(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new ln(Dl(this.value))}}function qv(r){const t=[];return ns(r.fields,(n,s)=>{const o=new Be([n]);if(Mc(s)){const u=qv(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,Tt.min(),Tt.min(),Tt.min(),ln.empty(),0)}static newFoundDocument(t,n,s,o){return new Ke(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Ke(t,2,n,Tt.min(),Tt.min(),ln.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,Tt.min(),Tt.min(),ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.position=t,this.inclusive=n}}function J_(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function t0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n="asc"){this.field=t,this.dir=n}}function kS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{}class Ae extends Hv{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new PS(t,n,s):n==="array-contains"?new zS(t,s):n==="in"?new jS(t,s):n==="not-in"?new BS(t,s):n==="array-contains-any"?new qS(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new US(t,s):new LS(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends Hv{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new mi(t,n)}matches(t){return Fv(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Fv(r){return r.op==="and"}function Gv(r){return VS(r)&&Fv(r)}function VS(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function im(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+no(r.value);if(Gv(r))return r.filters.map(t=>im(t)).join(",");{const t=r.filters.map(n=>im(n)).join(",");return`${r.op}(${t})`}}function Yv(r,t){return r instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Yv(f,o.filters[m]),!0):!1}(r,t):void Et()}function Qv(r){return r instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(Qv).join(" ,")+"}"}(r):"Filter"}class PS extends Ae{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class US extends Ae{constructor(t,n){super(t,"in",n),this.keys=Kv("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class LS extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=Kv("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Kv(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class zS extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Dm(n)&&Ll(n.arrayValue,this.value)}}class jS extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class BS extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class qS extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function e0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new HS(r,t,n,s,o,u,f)}function Om(r){const t=wt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>im(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>no(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>no(s)).join(",")),t.le=n}return t.le}function Nm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!kS(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Yv(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!t0(r.startAt,t.startAt)&&t0(r.endAt,t.endAt)}function rm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FS(r,t,n,s,o,u,f,m){return new hh(r,t,n,s,o,u,f,m)}function Mm(r){return new hh(r)}function n0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GS(r){return r.collectionGroup!==null}function Ol(r){const t=wt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ie(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Qc(u,s))}),n.has(Be.keyField().canonicalString())||t.he.push(new Qc(Be.keyField(),s))}return t.he}function li(r){const t=wt(r);return t.Pe||(t.Pe=YS(t,Ol(r))),t.Pe}function YS(r,t){if(r.limitType==="F")return e0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qc(o.field,u)});const n=r.endAt?new Yc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yc(r.startAt.position,r.startAt.inclusive):null;return e0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function sm(r,t,n){return new hh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function fh(r,t){return Nm(li(r),li(t))&&r.limitType===t.limitType}function Xv(r){return`${Om(li(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Qv(o)).join(", ")}]`),uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>no(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>no(o)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Ol(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=J_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ol(s),o)||s.endAt&&!function(f,m,p){const y=J_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ol(s),o))}(r,t)}function QS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Wv(r){return(t,n)=>{let s=!1;for(const o of Ol(r)){const u=KS(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KS(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?eo(p,y):Et()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ns(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return kv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new re(yt.comparator);function Ki(){return XS}const $v=new re(yt.comparator);function Il(...r){let t=$v;for(const n of r)t=t.insert(n.key,n);return t}function Zv(r){let t=$v;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function js(){return Nl()}function Jv(){return Nl()}function Nl(){return new Xs(r=>r.toString(),(r,t)=>r.isEqual(t))}const WS=new re(yt.comparator),$S=new Ie(yt.comparator);function xt(...r){let t=$S;for(const n of r)t=t.add(n);return t}const ZS=new Ie(Dt);function JS(){return ZS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function tE(r){return{integerValue:""+r}}function tA(r,t){return RS(t)?tE(t):xm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function eA(r,t,n){return r instanceof zl?function(o,u){const f={fields:{[Uv]:{stringValue:Pv},[zv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cm(u)&&(u=ch(u)),u&&(f.fields[Lv]=u),{mapValue:f}}(n,t):r instanceof jl?nE(r,t):r instanceof Bl?iE(r,t):function(o,u){const f=eE(o,u),m=i0(f)+i0(o.Ie);return nm(f)&&nm(o.Ie)?tE(m):xm(o.serializer,m)}(r,t)}function nA(r,t,n){return r instanceof jl?nE(r,t):r instanceof Bl?iE(r,t):n}function eE(r,t){return r instanceof Kc?function(s){return nm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class zl extends mh{}class jl extends mh{constructor(t){super(),this.elements=t}}function nE(r,t){const n=rE(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Bl extends mh{constructor(t){super(),this.elements=t}}function iE(r,t){let n=rE(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Kc extends mh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function i0(r){return de(r.integerValue||r.doubleValue)}function rE(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t,n){this.field=t,this.transform=n}}function rA(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof jl&&o instanceof jl||s instanceof Bl&&o instanceof Bl?to(s.elements,o.elements,di):s instanceof Kc&&o instanceof Kc?di(s.Ie,o.Ie):s instanceof zl&&o instanceof zl}(r.transform,t.transform)}class sA{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function sE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new oE(r.key,ui.none()):new Kl(r.key,r.data,ui.none());{const n=r.data,s=ln.empty();let o=new Ie(Be.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(r.key,s,new yn(o.toArray()),ui.none())}}function aA(r,t,n){r instanceof Kl?function(o,u,f){const m=o.value.clone(),p=s0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof is?function(o,u,f){if(!xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=s0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(aE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ml(r,t,n,s){return r instanceof Kl?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=u.value.clone(),T=a0(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof is?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=a0(u.fieldTransforms,p,f),T=f.data;return T.setAll(aE(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,m){return xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function oA(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=eE(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function r0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>rA(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends gh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends gh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function s0(r,t,n){const s=new Map;Gt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,nA(f,m,n[o]))}return s}function a0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,eA(u,f,t))}return s}class oE extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lA extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aA(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Jv();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=sE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,(n,s)=>r0(n,s))&&to(this.baseMutations,t.baseMutations,(n,s)=>r0(n,s))}}class km{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length);let o=function(){return WS}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new km(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function fA(r){switch(r){case $.OK:return Et();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et()}}function lE(r){if(r===void 0)return Qi("GRPC error has no .code"),$.UNKNOWN;switch(r){case _e.OK:return $.OK;case _e.CANCELLED:return $.CANCELLED;case _e.UNKNOWN:return $.UNKNOWN;case _e.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case _e.INTERNAL:return $.INTERNAL;case _e.UNAVAILABLE:return $.UNAVAILABLE;case _e.UNAUTHENTICATED:return $.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case _e.NOT_FOUND:return $.NOT_FOUND;case _e.ALREADY_EXISTS:return $.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return $.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case _e.ABORTED:return $.ABORTED;case _e.OUT_OF_RANGE:return $.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return $.UNIMPLEMENTED;case _e.DATA_LOSS:return $.DATA_LOSS;default:return Et()}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Gr([4294967295,4294967295],0);function o0(r){const t=Nv().encode(r),n=new Sv;return n.update(t),new Uint8Array(n.digest())}function l0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Gr([n,s],0),new Gr([o,u],0)]}class Vm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Gr.fromNumber(s)));return o.compare(dA)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=o0(t),[s,o]=l0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Vm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=o0(t),[s,o]=l0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ph(Tt.min(),o,new re(Dt),Ki(),xt())}}class Xl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Xl(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class uE{constructor(t,n){this.targetId=t,this.ge=n}}class cE{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class u0{constructor(){this.pe=0,this.ye=c0(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=xt(),n=xt(),s=xt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new Xl(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=c0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class mA{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new re(Dt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(rm(u))if(s===0){const f=new yt(u.path);this.ze(n,f,Ke.newNoDocument(f,Tt.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xr(s).toUint8Array()}catch(p){if(p instanceof Vv)return Ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vm(f,o,u)}catch(p){return Ja(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&rm(m.target)){const p=new yt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ke.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=xt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new ph(t,n,this.Ke,this.Qe,s);return this.Qe=Ki(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new re(Dt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new u0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ie(Dt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ie(Dt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new u0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Rc(){return new re(yt.comparator)}function c0(){return new re(yt.comparator)}const gA={asc:"ASCENDING",desc:"DESCENDING"},pA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yA={and:"AND",or:"OR"};class _A{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function am(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vA(r,t){return Xc(r,t.toTimestamp())}function ci(r){return Gt(!!r),Tt.fromTimestamp(function(n){const s=Kr(n);return new Re(s.seconds,s.nanos)}(r))}function Pm(r,t){return om(r,t).canonicalString()}function om(r,t){const n=function(o){return new ce(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function fE(r){const t=ce.fromString(r);return Gt(yE(t)),t}function lm(r,t){return Pm(r.databaseId,t.path)}function jd(r,t){const n=fE(t);if(n.get(1)!==r.databaseId.projectId)throw new pt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(mE(n))}function dE(r,t){return Pm(r.databaseId,t)}function EA(r){const t=fE(r);return t.length===4?ce.emptyPath():mE(t)}function um(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mE(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function h0(r,t,n){return{name:lm(r,t),fields:n.value.mapValue.fields}}function TA(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Gt(T===void 0||typeof T=="string"),qe.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?$.UNKNOWN:lE(y.code);return new pt(T,y.message||"")}(f);n=new cE(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=jd(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Tt.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new kc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=jd(r,s.document),u=s.readTime?ci(s.readTime):Tt.min(),f=Ke.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=jd(r,s.document),u=s.removedTargetIds||[];n=new kc([],u,o,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new hA(o,u),m=s.targetId;n=new uE(m,f)}}return n}function bA(r,t){let n;if(t instanceof Kl)n={update:h0(r,t.key,t.value)};else if(t instanceof oE)n={delete:lm(r,t.key)};else if(t instanceof is)n={update:h0(r,t.key,t.data),updateMask:NA(t.fieldMask)};else{if(!(t instanceof lA))return Et();n={verify:lm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(r,t.precondition)),n}function wA(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Tt.min())&&(f=ci(u)),new sA(f,o.transformResults||[])}(n,t))):[]}function SA(r,t){return{documents:[dE(r,t.path)]}}function AA(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dE(r,o);const u=function(y){if(y.length!==0)return pE(mi.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(O){return{field:Ga(O.field),direction:CA(O.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=am(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function RA(r){let t=EA(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(A){const O=gE(A);return O instanceof mi&&Gv(O)?O.getFilters():[O]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(O=>function(G){return new Qc(Ya(G.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(O))}(n.orderBy));let m=null;n.limit&&(m=function(A){let O;return O=typeof A=="object"?A.value:A,uh(O)?null:O}(n.limit));let p=null;n.startAt&&(p=function(A){const O=!!A.before,j=A.values||[];return new Yc(j,O)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const O=!A.before,j=A.values||[];return new Yc(j,O)}(n.endAt)),FS(t,o,f,u,m,"F",p,y)}function IA(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(n){return Ae.create(Ya(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>gE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(n.compositeFilter.op))}(r):Et()}function CA(r){return gA[r]}function DA(r){return pA[r]}function OA(r){return yA[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Be.fromServerFormat(r.fieldPath)}function pE(r){return r instanceof Ae?function(n){if(n.op==="=="){if(Z_(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z_(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:DA(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(o=>pE(o));return s.length===1?s[0]:{compositeFilter:{op:OA(n.op),filters:s}}}(r):Et()}function NA(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.Tt=t}}function xA(r){const t=RA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.Tn=new VA}addToCollectionParentIndex(t,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Qr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class VA{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ie(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ie(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(_E,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new io(0)}static Kn(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LruGarbageCollector",PA=1048576;function m0([r,t],[n,s]){const o=Dt(r,n);return o===0?Dt(t,s):o}class UA{constructor(t){this.Hn=t,this.buffer=new Ie(m0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();m0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LA{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){at(d0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?at(d0,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.er(3e5)})}}class zA{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(lh.ae);const s=new UA(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(f0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(y=Date.now(),Ha()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function jA(r,t){return new zA(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.changes=new Xs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Ml(s.mutation,o,yn.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const o=js();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Il();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=js();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Ki();const f=Nl(),m=function(){return Nl()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof is)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ml(T.mutation,y,T.mutation.getFieldMask(),Re.now())):f.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var A;return m.set(y,new qA(T,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Nl();let o=new re((f,m)=>f-m),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||yn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const A=(o.get(m.batchId)||xt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,A=Jv();T.forEach(O=>{if(!u.has(O)){const j=sE(n.get(O),s.get(O));j!==null&&A.set(O,j),u=u.add(O)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):GS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Q.resolve(js());let m=Vl,p=u;return f.next(y=>Q.forEach(y,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?Q.resolve():this.remoteDocumentCache.getEntry(t,T).next(O=>{p=p.insert(T,O)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,xt())).next(T=>({batchId:m,changes:Zv(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(t,u).next(m=>Q.forEach(m,p=>{const y=function(A,O){return new hh(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((A,O)=>{f=f.insert(A,O)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Ke.newInvalidDocument(T)))});let m=Il();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Ml(T.mutation,y,yn.empty(),Re.now()),dh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:xA(o.bundledQuery),readTime:ci(o.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.overlays=new re(yt.comparator),this.Rr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=js();return Q.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const o=js(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new re((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=js(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Q.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cA(n,s));let u=this.Rr.get(n);u===void 0&&(u=xt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Vr=new Ie(Ve.mr),this.gr=new Ie(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ve(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new yt(new ce([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new ce([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=xt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Dt(t.Cr,n.Cr)}static pr(t,n){return Dt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ie(Ve.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uA(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(t,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Im:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Dt);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new yt(u),0);let m=new Ie(Dt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Q.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Mr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t){this.kr=t,this.docs=function(){return new re(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ke.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ki();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||bS(TS(T),s)<=0||(o.has(T.key)||dh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et()}qr(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new XA(this)}getSize(t){return Q.resolve(this.size)}}class XA extends BA{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.persistence=t,this.Qr=new Xs(n=>Om(n),Nm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Um,this.targetCount=0,this.Kr=io.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Q.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new io(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.zn(n),Q.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Q.waitFor(u).next(()=>o)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Q.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new lh(0),this.zr=!1,this.zr=!0,this.jr=new YA,this.referenceDelegate=t(this),this.Hr=new WA(this),this.indexManager=new kA,this.remoteDocumentCache=function(o){return new KA(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new MA(n),this.Yr=new FA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new QA(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const o=new $A(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class $A extends SS{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.ti=new Um,this.ni=null}static ri(t){return new Lm(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Wc{constructor(t,n){this.persistence=t,this.oi=new Xs(s=>IS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=jA(this,n)}static ri(t,n){return new Wc(t,n)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return Q.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?Q.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Tt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Nc(t.data.value)),n}ar(t,n,s){return Q.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Q1()?8:AS(Xe())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ZA;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Ha()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Ha()<=Mt.DEBUG&&at("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ha()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):Q.resolve())}rs(t,n){if(n0(n))return Q.resolve(null);let s=li(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=sm(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=xt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(t,sm(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,o){return n0(n)||o.isEqual(Tt.min())?Q.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Q.resolve(null):(Ha()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.hs(t,f,n,ES(o,Vl)).next(m=>m))})}cs(t,n){let s=new Ie(Wv(t));return n.forEach((o,u)=>{dh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Ha()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ns.getDocumentsMatchingQuery(t,n,Qr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="LocalStore",t2=3e8;class e2{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new re(Dt),this.Is=new Xs(u=>Om(u),Nm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function n2(r,t,n,s){return new e2(r,t,n,s)}async function EE(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function i2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const A=y.batch,O=A.keys();let j=Q.resolve();return O.forEach(G=>{j=j.next(()=>T.getEntry(p,G)).next(W=>{const K=y.docVersions.get(G);Gt(K!==null),W.version.compareTo(K)<0&&(A.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function TE(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function r2(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((T,A)=>{const O=o.get(A);if(!O)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,A)));let j=O.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(A,j),function(W,K,et){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=t2?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(O,j,T)&&m.push(n.Hr.updateTargetData(u,j))});let p=Ki(),y=xt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(s2(u,f,t.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Tt.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Q.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function s2(r,t,n){let s=xt(),o=xt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Ki();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):at(jm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function a2(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Im),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function o2(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,Q.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Br(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function cm(r,t,n){const s=wt(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!co(f))throw f;at(jm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function g0(r,t,n){const s=wt(r);let o=Tt.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const A=wt(p),O=A.Is.get(T);return O!==void 0?Q.resolve(A.Ts.get(O)):A.Hr.getTargetData(y,T)}(s,f,li(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:xt())).next(m=>(l2(s,QS(t),m),{documents:m,gs:u})))}function l2(r,t,n){let s=r.Es.get(t)||Tt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class p0{constructor(){this.activeTargetIds=JS()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class u2{constructor(){this.ho=new p0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new p0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="ConnectivityMonitor";class _0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(y0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){at(y0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function hm(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=hm(),m=this.bo(t,n.toUriEncodedString());at(Bd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(y=>(at(Bd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ja(Bd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=h2[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class m2 extends f2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=hm();return new Promise((f,m)=>{const p=new Av;p.setWithCredentials(!0),p.listenOnce(Rv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Oc.NO_ERROR:const T=p.getResponseJson();at(Ye,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),f(T);break;case Oc.TIMEOUT:at(Ye,`RPC '${t}' ${u} timed out`),m(new pt($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const A=p.getStatus();if(at(Ye,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const G=function(K){const et=K.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(et)>=0?et:$.UNKNOWN}(j.status);m(new pt(G,j.message))}else m(new pt($.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pt($.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{at(Ye,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);at(Ye,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=hm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Dv(),m=Cv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");at(Ye,`Creating RPC '${t}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);let O=!1,j=!1;const G=new d2({Fo:K=>{j?at(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(O||(at(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),O=!0),at(Ye,`RPC '${t}' stream ${o} sending:`,K),A.send(K))},Mo:()=>A.close()}),W=(K,et,it)=>{K.listen(et,J=>{try{it(J)}catch(ut){setTimeout(()=>{throw ut},0)}})};return W(A,Rl.EventType.OPEN,()=>{j||(at(Ye,`RPC '${t}' stream ${o} transport opened.`),G.Qo())}),W(A,Rl.EventType.CLOSE,()=>{j||(j=!0,at(Ye,`RPC '${t}' stream ${o} transport closed`),G.Uo())}),W(A,Rl.EventType.ERROR,K=>{j||(j=!0,Ja(Ye,`RPC '${t}' stream ${o} transport errored:`,K),G.Uo(new pt($.UNAVAILABLE,"The operation could not be completed")))}),W(A,Rl.EventType.MESSAGE,K=>{var et;if(!j){const it=K.data[0];Gt(!!it);const J=it,ut=(J==null?void 0:J.error)||((et=J[0])===null||et===void 0?void 0:et.error);if(ut){at(Ye,`RPC '${t}' stream ${o} received error:`,ut);const lt=ut.status;let ft=function(w){const C=_e[w];if(C!==void 0)return lE(C)}(lt),x=ut.message;ft===void 0&&(ft=$.INTERNAL,x="Unknown error status: "+lt+" with message "+ut.message),j=!0,G.Uo(new pt(ft,x)),A.close()}else at(Ye,`RPC '${t}' stream ${o} received:`,it),G.Ko(it)}}),W(m,Iv.STAT_EVENT,K=>{K.stat===Jd.PROXY?at(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===Jd.NOPROXY&&at(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.$o()},0),G}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r){return new _A(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="PersistentStream";class wE{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bE(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new pt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return at(v0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(at(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g2 extends wE{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=TA(this.serializer,t),s=function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?ci(f.readTime):Tt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=rm(p)?{documents:SA(u,p)}:{query:AA(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=hE(u,f.resumeToken);const y=am(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Xc(u,f.snapshotVersion.toTimestamp());const y=am(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=IA(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=um(this.serializer),n.removeTarget=t,this.I_(n)}}class p2 extends wE{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=wA(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=um(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>bA(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{}class _2 extends y2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pt($.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,om(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt($.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,om(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pt($.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class v2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):at("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class E2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ws(this)&&(at(Gs,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.W_.add(4),await Wl(y),y.j_.set("Unknown"),y.W_.delete(4),await _h(y)}(this))})}),this.j_=new v2(s,o)}}async function _h(r){if(Ws(r))for(const t of r.G_)await t(!0)}async function Wl(r){for(const t of r.G_)await t(!1)}function SE(r,t){const n=wt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Fm(n)?Hm(n):ho(n).c_()&&qm(n,t))}function Bm(r,t){const n=wt(r),s=ho(n);n.K_.delete(t),s.c_()&&AE(n,t),n.K_.size===0&&(s.c_()?s.P_():Ws(n)&&n.j_.set("Unknown"))}function qm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(r).y_(t)}function AE(r,t){r.H_.Ne(t),ho(r).w_(t)}function Hm(r){r.H_=new mA({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.j_.B_()}function Fm(r){return Ws(r)&&!ho(r).u_()&&r.K_.size>0}function Ws(r){return wt(r).W_.size===0}function RE(r){r.H_=void 0}async function T2(r){r.j_.set("Online")}async function b2(r){r.K_.forEach((t,n)=>{qm(r,t)})}async function w2(r,t){RE(r),Fm(r)?(r.j_.q_(t),Hm(r)):r.j_.set("Unknown")}async function S2(r,t,n){if(r.j_.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){at(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await $c(r,s)}else if(t instanceof kc?r.H_.We(t):t instanceof uE?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Tt.min()))try{const s=await TE(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(y);T&&u.K_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),AE(u,p);const A=new Br(T.target,p,y,T.sequenceNumber);qm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){at(Gs,"Failed to raise snapshot:",s),await $c(r,s)}}async function $c(r,t,n){if(!co(t))throw t;r.W_.add(1),await Wl(r),r.j_.set("Offline"),n||(n=()=>TE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(Gs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await _h(r)})}function IE(r,t){return t().catch(n=>$c(r,n,t))}async function vh(r){const t=wt(r),n=$r(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Im;for(;A2(t);)try{const o=await a2(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,R2(t,o)}catch(o){await $c(t,o)}CE(t)&&DE(t)}function A2(r){return Ws(r)&&r.U_.length<10}function R2(r,t){r.U_.push(t);const n=$r(r);n.c_()&&n.S_&&n.b_(t.mutations)}function CE(r){return Ws(r)&&!$r(r).u_()&&r.U_.length>0}function DE(r){$r(r).start()}async function I2(r){$r(r).C_()}async function C2(r){const t=$r(r);for(const n of r.U_)t.b_(n.mutations)}async function D2(r,t,n){const s=r.U_.shift(),o=km.from(s,t,n);await IE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await vh(r)}async function O2(r,t){t&&$r(r).S_&&await async function(s,o){if(function(f){return fA(f)&&f!==$.ABORTED}(o.code)){const u=s.U_.shift();$r(s).h_(),await IE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await vh(s)}}(r,t),CE(r)&&DE(r)}async function E0(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),at(Gs,"RemoteStore received new credentials");const s=Ws(n);n.W_.add(3),await Wl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await _h(n)}async function N2(r,t){const n=wt(r);t?(n.W_.delete(2),await _h(n)):t||(n.W_.add(2),await Wl(n),n.j_.set("Unknown"))}function ho(r){return r.J_||(r.J_=function(n,s,o){const u=wt(n);return u.M_(),new g2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:T2.bind(null,r),No:b2.bind(null,r),Lo:w2.bind(null,r),p_:S2.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Fm(r)?Hm(r):r.j_.set("Unknown")):(await r.J_.stop(),RE(r))})),r.J_}function $r(r){return r.Y_||(r.Y_=function(n,s,o){const u=wt(n);return u.M_(),new p2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:I2.bind(null,r),Lo:O2.bind(null,r),D_:C2.bind(null,r),v_:D2.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await vh(r)):(await r.Y_.stop(),r.U_.length>0&&(at(Gs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Gm(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),co(r))return new pt($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.Z_=new re(yt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class ro{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ro(t,n,Ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class x2{constructor(){this.queries=b0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=b0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new pt($.ABORTED,"Firestore shutting down"))}}function b0(){return new Xs(r=>Xv(r),fh)}async function k2(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new M2,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ym(f,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Qm(n)}async function V2(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function P2(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Qm(n)}function U2(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Qm(r){r.ia.forEach(t=>{t.next()})}var fm,w0;(w0=fm||(fm={}))._a="default",w0.Cache="cache";class L2{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.key=t}}class NE{constructor(t){this.key=t}}class z2{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=Wv(t),this.wa=new Ka(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new T0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,A)=>{const O=o.get(T),j=dh(this.query,A)?A:null,G=!!O&&this.mutatedKeys.has(O.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let K=!1;O&&j?O.data.isEqual(j.data)?G!==W&&(s.track({type:3,doc:j}),K=!0):this.va(O,j)||(s.track({type:2,doc:j}),K=!0,(p&&this.ya(j,p)>0||y&&this.ya(j,y)<0)&&(m=!0)):!O&&j?(s.track({type:0,doc:j}),K=!0):O&&!j&&(s.track({type:1,doc:O}),K=!0,(p||y)&&(m=!0)),K&&(j?(f=f.add(j),u=W?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,A)=>function(j,G){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return W(j)-W(G)}(T.type,A.type)||this.ya(T.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new ro(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new T0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new NE(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new OE(s))}),n}Oa(t){this.fa=t.gs,this.pa=xt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Km="SyncEngine";class j2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class B2{constructor(t){this.key=t,this.Ba=!1}}class q2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Xs(m=>Xv(m),fh),this.qa=new Map,this.Qa=new Set,this.$a=new re(yt.comparator),this.Ua=new Map,this.Ka=new Um,this.Wa={},this.Ga=new Map,this.za=io.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function H2(r,t,n=!0){const s=UE(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await ME(s,t,n,!0),o}async function F2(r,t){const n=UE(r);await ME(n,t,!0,!1)}async function ME(r,t,n,s){const o=await o2(r.localStore,li(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await G2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&SE(r.remoteStore,o),m}async function G2(r,t,n,s,o){r.Ha=(A,O,j)=>async function(W,K,et,it){let J=K.view.ba(et);J.ls&&(J=await g0(W.localStore,K.query,!1).then(({documents:x})=>K.view.ba(x,J)));const ut=it&&it.targetChanges.get(K.targetId),lt=it&&it.targetMismatches.get(K.targetId)!=null,ft=K.view.applyChanges(J,W.isPrimaryClient,ut,lt);return A0(W,K.targetId,ft.Ma),ft.snapshot}(r,A,O,j);const u=await g0(r.localStore,t,!0),f=new z2(t,u.gs),m=f.ba(u.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);A0(r,n,y.Ma);const T=new j2(t,n,f);return r.ka.set(t,T),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function Y2(r,t,n){const s=wt(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!fh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bm(s.remoteStore,o.targetId),dm(s,o.targetId)}).catch(uo)):(dm(s,o.targetId),await cm(s.localStore,o.targetId,!0))}async function Q2(r,t){const n=wt(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bm(n.remoteStore,s.targetId))}async function K2(r,t,n){const s=eR(r);try{const o=await function(f,m){const p=wt(f),y=Re.now(),T=m.reduce((j,G)=>j.add(G.key),xt());let A,O;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let G=Ki(),W=xt();return p.ds.getEntries(j,T).next(K=>{G=K,G.forEach((et,it)=>{it.isValidDocument()||(W=W.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,G)).next(K=>{A=K;const et=[];for(const it of m){const J=oA(it,A.get(it.key).overlayedDocument);J!=null&&et.push(new is(it.key,J,qv(J.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,et,m)}).next(K=>{O=K;const et=K.applyToLocalDocumentSet(A,W);return p.documentOverlayCache.saveOverlays(j,K.batchId,et)})}).then(()=>({batchId:O.batchId,changes:Zv(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new re(Dt)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await $l(s,o.changes),await vh(s.remoteStore)}catch(o){const u=Ym(o,"Failed to persist write");n.reject(u)}}async function xE(r,t){const n=wt(r);try{const s=await r2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Gt(f.Ba):o.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await $l(n,s,t)}catch(s){await uo(s)}}function S0(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach((T,A)=>{for(const O of A.ta)O.sa(m)&&(y=!0)}),y&&Qm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function X2(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new re(yt.comparator);f=f.insert(u,Ke.newNoDocument(u,Tt.min()));const m=xt().add(u),p=new ph(Tt.min(),new Map,new re(Dt),f,m);await xE(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),Xm(s)}else await cm(s.localStore,t,!1).then(()=>dm(s,t,n)).catch(uo)}async function W2(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await i2(n.localStore,t);VE(n,s,null),kE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,o)}catch(o){await uo(o)}}async function $2(r,t,n){const s=wt(r);try{const o=await function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(Gt(A!==null),T=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);VE(s,t,n),kE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $l(s,o)}catch(o){await uo(o)}}function kE(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function VE(r,t,n){const s=wt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function dm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||PE(r,s)})}function PE(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Bm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Xm(r))}function A0(r,t,n){for(const s of n)s instanceof OE?(r.Ka.addReference(s.key,t),Z2(r,s)):s instanceof NE?(at(Km,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||PE(r,s.key)):Et()}function Z2(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(at(Km,"New document in limbo: "+n),r.Qa.add(s),Xm(r))}function Xm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new yt(ce.fromString(t)),s=r.za.next();r.Ua.set(s,new B2(n)),r.$a=r.$a.insert(n,s),SE(r.remoteStore,new Br(li(Mm(n.path)),s,"TargetPurposeLimboResolution",lh.ae))}}async function $l(r,t,n){const s=wt(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=zm.Yi(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=wt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Q.forEach(y,O=>Q.forEach(O.Hi,j=>T.persistence.referenceDelegate.addReference(A,O.targetId,j)).next(()=>Q.forEach(O.Ji,j=>T.persistence.referenceDelegate.removeReference(A,O.targetId,j)))))}catch(A){if(!co(A))throw A;at(jm,"Failed to update sequence numbers: "+A)}for(const A of y){const O=A.targetId;if(!A.fromCache){const j=T.Ts.get(O),G=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(G);T.Ts=T.Ts.insert(O,W)}}}(s.localStore,u))}async function J2(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){at(Km,"User change. New user:",t.toKey());const s=await EE(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new pt($.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(n,s.Rs)}}function tR(r,t){const n=wt(r),s=n.Ua.get(t);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function UE(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=X2.bind(null,t),t.La.p_=P2.bind(null,t.eventManager),t.La.Ja=U2.bind(null,t.eventManager),t}function eR(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return n2(this.persistence,new JA,t.initialUser,this.serializer)}Xa(t){return new vE(Lm.ri,this.serializer)}Za(t){return new u2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class nR extends Zc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof Wc);const s=this.persistence.referenceDelegate.garbageCollector;return new LA(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new vE(s=>Wc.ri(s,n),this.serializer)}}class mm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J2.bind(null,this.syncEngine),await N2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new x2}()}createDatastore(t){const n=yh(t.databaseInfo.databaseId),s=function(u){return new m2(u)}(t.databaseInfo);return function(u,f,m,p){return new _2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new E2(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>S0(this.syncEngine,n,0),function(){return _0.D()?new _0:new c2}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,T){const A=new q2(o,u,f,m,p,y);return T&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=wt(o);at(Gs,"RemoteStore shutting down."),u.W_.add(5),await Wl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class rR{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{at(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(at(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ym(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),at(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await EE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function R0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await sR(r);at(Zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>E0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>E0(t.remoteStore,o)),r._onlineComponents=t}async function sR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Zr,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await Hd(r,new Zc)}}else at(Zr,"Using default OfflineComponentProvider"),await Hd(r,new nR(void 0));return r._offlineComponents}async function LE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Zr,"Using user provided OnlineComponentProvider"),await R0(r,r._uninitializedComponentsProvider._online)):(at(Zr,"Using default OnlineComponentProvider"),await R0(r,new mm))),r._onlineComponents}function aR(r){return LE(r).then(t=>t.syncEngine)}async function oR(r){const t=await LE(r),n=t.eventManager;return n.onListen=H2.bind(null,t.syncEngine),n.onUnlisten=Y2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=F2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Q2.bind(null,t.syncEngine),n}function lR(r,t,n={}){const s=new Yr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new iR({next:O=>{T.su(),f.enqueueAndForget(()=>V2(u,A));const j=O.docs.has(m);!j&&O.fromCache?y.reject(new pt($.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&p&&p.source==="server"?y.reject(new pt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),A=new L2(Mm(m.path),T,{includeMetadataChanges:!0,Ta:!0});return k2(u,A)}(await oR(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r,t,n){if(!n)throw new pt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function cR(r,t,n,s){if(t===!0&&s===!0)throw new pt($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function C0(r){if(!yt.isDocumentKey(r))throw new pt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function Ys(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new pt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wm(r);throw new pt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firestore.googleapis.com",D0=!0;class O0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=D0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:D0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PA)throw new pt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pt($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pt($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pt($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $m{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new hS;switch(s.type){case"firstParty":return new gS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=I0.get(n);s&&(at("ComponentProvider","Removing Datastore"),I0.delete(n),s.terminate())}(this),Promise.resolve()}}function hR(r,t,n,s={}){var o;const u=(r=Ys(r,$m))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==jE&&u.host!==m&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!qs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Qe.MOCK_USER;else{y=j1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new pt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Qe(A)}r._authCredentials=new fS(new Ov(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Zm(this.firestore,t,this._query)}}class _n{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class ql extends Zm{constructor(t,n,s){super(t,n,Mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new yt(t))}withConverter(t){return new ql(this.firestore,t,this._path)}}function Jr(r,t,...n){if(r=un(r),arguments.length===1&&(t=Mv.newId()),uR("doc","path",t),r instanceof $m){const s=ce.fromString(t,...n);return C0(s),new _n(r,null,new yt(s))}{if(!(r instanceof _n||r instanceof ql))throw new pt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return C0(s),new _n(r.firestore,r instanceof ql?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="AsyncQueue";class M0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bE(this,"async_queue_retry"),this.Su=()=>{const s=qd();s&&at(N0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!co(t))throw t;at(N0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Gm.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Eh extends $m{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new M0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M0(t),this._firestoreClient=void 0,await t}}}function fR(r,t){const n=typeof r=="object"?r:Tv(),s=typeof r=="string"?r:Fc,o=Am(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=L1("firestore");u&&hR(o,...u)}return o}function BE(r){if(r._terminated)throw new pt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dR(r),r._firestoreClient}function dR(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new OS(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,zE(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rR(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this._byteString=t}static fromBase64String(t){try{return new so(qe.fromBase64String(t))}catch(n){throw new pt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new so(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=/^__.*__$/;class gR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new is(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)}}class qE{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new is(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function HE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class eg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new eg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Jc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(HE(this.Lu)&&mR.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class pR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||yh(t)}ju(t,n,s,o=!1){return new eg({Lu:t,methodName:n,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FE(r){const t=r._freezeSettings(),n=yh(r._databaseId);return new pR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function yR(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);ig("Data must be an object, but it was:",f,s);const m=GE(s,f);let p,y;if(u.merge)p=new yn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const O=gm(t,A,n);if(!f.contains(O))throw new pt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);QE(T,O)||T.push(O)}p=new yn(T),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new gR(new ln(m),p,y)}class wh extends bh{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}class ng extends bh{_toFieldTransform(t){return new iA(t.path,new zl)}isEqual(t){return t instanceof ng}}function _R(r,t,n,s){const o=r.ju(1,t,n);ig("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();ns(s,(p,y)=>{const T=rg(t,p,n);y=un(y);const A=o.Uu(T);if(y instanceof wh)u.push(T);else{const O=Sh(y,A);O!=null&&(u.push(T),f.set(T,O))}});const m=new yn(u);return new qE(f,m,o.fieldTransforms)}function vR(r,t,n,s,o,u){const f=r.ju(1,t,n),m=[gm(t,s,n)],p=[o];if(u.length%2!=0)throw new pt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<u.length;O+=2)m.push(gm(t,u[O])),p.push(u[O+1]);const y=[],T=ln.empty();for(let O=m.length-1;O>=0;--O)if(!QE(y,m[O])){const j=m[O];let G=p[O];G=un(G);const W=f.Uu(j);if(G instanceof wh)y.push(j);else{const K=Sh(G,W);K!=null&&(y.push(j),T.set(j,K))}}const A=new yn(y);return new qE(T,A,f.fieldTransforms)}function Sh(r,t){if(YE(r=un(r)))return ig("Unsupported field value:",t,r),GE(r,t);if(r instanceof bh)return function(s,o){if(!HE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Sh(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:Xc(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,u)}}if(s instanceof Jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof so)return{bytesValue:hE(o.serializer,s._byteString)};if(s instanceof _n){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tg)return function(f,m){return{mapValue:{fields:{[jv]:{stringValue:Bv},[Gc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return xm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Wm(s)}`)}(r,t)}function GE(r,t){const n={};return kv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(r,(s,o)=>{const u=Sh(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function YE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Jm||r instanceof so||r instanceof _n||r instanceof bh||r instanceof tg)}function ig(r,t,n){if(!YE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wm(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function gm(r,t,n){if((t=un(t))instanceof Th)return t._internalPath;if(typeof t=="string")return rg(r,t);throw Jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const ER=new RegExp("[~\\*/\\[\\]]");function rg(r,t,n){if(t.search(ER)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Th(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jc(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pt($.INVALID_ARGUMENT,m+r+p)}function QE(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(XE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TR extends KE{data(){return super.data()}}function XE(r,t){return typeof t=="string"?rg(r,t):t instanceof Th?t._internalPath:t._delegate._internalPath}class bR{convertValue(t,n="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ns(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new tg(u)}convertGeoPoint(t){return new Jm(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ch(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const n=Kr(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Gt(yE(s));const o=new Ul(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class WE extends KE{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new AR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(XE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class AR extends WE{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){r=Ys(r,_n);const t=Ys(r.firestore,Eh);return lR(BE(t),r._key).then(n=>DR(t,r,n))}class IR extends bR{constructor(t){super(),this.firestore=t}convertBytes(t){return new so(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function CR(r,t,n){r=Ys(r,_n);const s=Ys(r.firestore,Eh),o=wR(r.converter,t);return $E(s,[yR(FE(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ui.none())])}function ao(r,t,n,...s){r=Ys(r,_n);const o=Ys(r.firestore,Eh),u=FE(o);let f;return f=typeof(t=un(t))=="string"||t instanceof Th?vR(u,"updateDoc",r._key,t,n,s):_R(u,"updateDoc",r._key,t),$E(o,[f.toMutation(r._key,ui.exists(!0))])}function $E(r,t){return function(s,o){const u=new Yr;return s.asyncQueue.enqueueAndForget(async()=>K2(await aR(s),o,u)),u.promise}(BE(r),t)}function DR(r,t,n){const s=n.docs.get(t._key),o=new IR(r);return new WE(r,o,t._key,s,new SR(n.hasPendingWrites,n.fromCache),t.converter)}function OR(){return new ng("serverTimestamp")}(function(t,n=!0){(function(o){lo=o})(oo),Za(new Hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Eh(new dS(s.getProvider("auth-internal")),new pS(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr(z_,j_,t),Fr(z_,j_,"esm2017")})();var NR="firebase",MR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(NR,MR,"app");function sg(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=ZE,JE=new Yl("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new wm("@firebase/auth");function kR(r,...t){th.logLevel<=Mt.WARN&&th.warn(`Auth (${oo}): ${r}`,...t)}function Vc(r,...t){th.logLevel<=Mt.ERROR&&th.error(`Auth (${oo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...t){throw ag(r,...t)}function hi(r,...t){return ag(r,...t)}function tT(r,t,n){const s=Object.assign(Object.assign({},xR()),{[t]:n});return new Yl("auth","Firebase",s).create(t,{appName:r.name})}function Gi(r){return tT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return JE.create(r,...t)}function vt(r,t,...n){if(!r)throw ag(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function Xi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function VR(){return x0()==="http:"||x0()==="https:"}function x0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VR()||F1()||"connection"in navigator)?navigator.onLine:!0}function UR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xi(n>t,"Short delay should be less than long delay!"),this.isMobile=B1()||G1()}get(){return PR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,t){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Zl(3e4,6e4);function rs(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ss(r,t,n,s,o={}){return nT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ql(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return H1()||(y.referrerPolicy="no-referrer"),eT.fetch()(iT(r,r.config.apiHost,n,m),y)})}async function nT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},LR),t);try{const o=new BR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Cc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Cc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tT(r,T,y);Hn(r,T)}}catch(o){if(o instanceof $i)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function Jl(r,t,n,s,o={}){const u=await ss(r,t,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function iT(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?og(r.config,o):`${r.config.apiScheme}://${o}`}function jR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),zR.get())})}}function Cc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,t,s);return o.customData._tokenResponse=n,o}function k0(r){return r!==void 0&&r.enterprise!==void 0}class qR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return jR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HR(r,t){return ss(r,"GET","/v2/recaptchaConfig",rs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r,t){return ss(r,"POST","/v1/accounts:delete",t)}async function rT(r,t){return ss(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GR(r,t=!1){const n=un(r),s=await n.getIdToken(t),o=lg(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:xl(Fd(o.auth_time)),issuedAtTime:xl(Fd(o.iat)),expirationTime:xl(Fd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Fd(r){return Number(r)*1e3}function lg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mv(n);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function V0(r){const t=lg(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof $i&&YR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Hl(r,rT(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?sT(u.providerUserInfo):[],m=XR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ym(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function KR(r){const t=un(r);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function sT(r){return r.map(t=>{var{providerId:n}=t,s=sg(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(r,t){const n=await nT(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=iT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",eT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $R(r,t){return ss(r,"POST","/v2/accounts:revokeToken",rs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):V0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=V0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=sg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return GR(this,t)}reload(){return KR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Gi(this.auth));const t=await this.getIdToken();return await Hl(this,FR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,T;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,O=(o=n.email)!==null&&o!==void 0?o:void 0,j=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,W=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,et=(y=n.createdAt)!==null&&y!==void 0?y:void 0,it=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:J,emailVerified:ut,isAnonymous:lt,providerData:ft,stsTokenManager:x}=n;vt(J&&x,t,"internal-error");const R=Xa.fromJSON(this.name,x);vt(typeof J=="string",t,"internal-error"),Vr(A,t.name),Vr(O,t.name),vt(typeof ut=="boolean",t,"internal-error"),vt(typeof lt=="boolean",t,"internal-error"),Vr(j,t.name),Vr(G,t.name),Vr(W,t.name),Vr(K,t.name),Vr(et,t.name),Vr(it,t.name);const w=new Hi({uid:J,auth:t,email:O,emailVerified:ut,displayName:A,isAnonymous:lt,photoURL:G,phoneNumber:j,tenantId:W,stsTokenManager:R,createdAt:et,lastLoginAt:it});return ft&&Array.isArray(ft)&&(w.providerData=ft.map(C=>Object.assign({},C))),K&&(w._redirectEventId=K),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new Hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await eh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Xa;m.updateFromIdToken(s);const p=new Hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;function Fi(r){Xi(r instanceof Function,"Expected a class definition");let t=P0.get(r);return t?(Xi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,P0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}aT.type="NONE";const U0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(r,t,n){return`firebase:${r}:${t}:${n}`}class Wa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Pc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Wa(Fi(U0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(U0);const f=Pc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const A=Hi._fromJSON(t,T);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fT(t))return"Blackberry";if(dT(t))return"Webos";if(lT(t))return"Safari";if((t.includes("chrome/")||uT(t))&&!t.includes("edge/"))return"Chrome";if(hT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function oT(r=Xe()){return/firefox\//i.test(r)}function lT(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uT(r=Xe()){return/crios\//i.test(r)}function cT(r=Xe()){return/iemobile/i.test(r)}function hT(r=Xe()){return/android/i.test(r)}function fT(r=Xe()){return/blackberry/i.test(r)}function dT(r=Xe()){return/webos/i.test(r)}function ug(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZR(r=Xe()){var t;return ug(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function JR(){return Y1()&&document.documentMode===10}function mT(r=Xe()){return ug(r)||hT(r)||dT(r)||fT(r)||/windows phone/i.test(r)||cT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(r,t=[]){let n;switch(r){case"Browser":n=L0(Xe());break;case"Worker":n=`${L0(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,t={}){return ss(r,"GET","/v2/passwordPolicy",rs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=6;class iI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:nI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rT(this,{idToken:t}),s=await Hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Gi(this));const n=t?un(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eI(this),n=new iI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $R(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&kR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $s(r){return un(r)}class z0{constructor(t){this.auth=t,this.observer=null,this.addObserver=tw(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(r){Ah=r}function pT(r){return Ah.loadJS(r)}function aI(){return Ah.recaptchaEnterpriseScript}function oI(){return Ah.gapiScript}function lI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uI{constructor(){this.enterprise=new cI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class cI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const hI="recaptcha-enterprise",yT="NO_RECAPTCHA";class fI{constructor(t){this.type=hI,this.auth=$s(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{HR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new qR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;k0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(yT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&k0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=aI();p.length!==0&&(p+=m),pT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function j0(r,t,n,s=!1,o=!1){const u=new fI(r);let f;if(o)f=yT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _m(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await j0(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await j0(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r,t){const n=Am(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,t??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:t})}function mI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function gI(r,t,n){const s=$s(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=_T(t),{host:f,port:m}=pI(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(qs(y,s.config.emulator)&&qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,yI()}function _T(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function pI(r){const t=_T(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:B0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:B0(f)}}}function B0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function yI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}async function _I(r,t){return ss(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",rs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",rs(r,t))}async function TI(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",rs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends cg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Fl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(t,n,"signInWithPassword",vI);case"emailLink":return EI(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(t,s,"signUpPassword",_I);case"emailLink":return TI(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",rs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="http://localhost";class Qs extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=sg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:bI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SI(r){const t=Sl(Al(r)).link,n=t?Sl(Al(t)).deep_link_id:null,s=Sl(Al(r)).deep_link_id;return(s?Sl(Al(s)).link:null)||s||n||t||r}class hg{constructor(t){var n,s,o,u,f,m;const p=Sl(Al(t)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,A=wI((o=p.mode)!==null&&o!==void 0?o:null);vt(y&&T&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=SI(t);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=hg.parseLink(n);return vt(s,"argument-error"),Fl._fromEmailAndCode(t,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends tu{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends tu{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends tu{constructor(){super("twitter.com")}static credential(t,n){return Qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t){return Jl(r,"POST","/v1/accounts:signUp",rs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Hi._fromIdTokenResponse(t,s,o),f=q0(s);return new Ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=q0(s);return new Ks({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function q0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends $i{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new nh(t,n,s,o)}}function ET(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,u,t,s):u})}async function RI(r,t,n=!1){const s=await Hl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ks._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,t,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Gi(s));const o="reauthenticate";try{const u=await Hl(r,ET(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=lg(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Ks._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(r,t,n=!1){if(Pn(r.app))return Promise.reject(Gi(r));const s="signIn",o=await ET(r,s,t),u=await Ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function CI(r,t){return TT($s(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(r){const t=$s(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DI(r,t,n){if(Pn(r.app))return Promise.reject(Gi(r));const s=$s(r),f=await _m(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bT(r),p}),m=await Ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function OI(r,t,n){return Pn(r.app)?Promise.reject(Gi(r)):CI(un(r),fo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bT(r),s})}function NI(r,t,n,s){return un(r).onIdTokenChanged(t,n,s)}function MI(r,t,n){return un(r).beforeAuthStateChanged(t,n)}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1e3,kI=10;class ST extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);JR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ST.type="LOCAL";const VI=ST;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}AT.type="SESSION";const RT=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await PI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=fg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const O=A;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(O.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function LI(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function zI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function BI(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",qI=1,rh="firebaseLocalStorage",DT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function HI(){const r=indexedDB.deleteDatabase(CT);return new eu(r).toPromise()}function vm(){const r=indexedDB.open(CT,qI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(rh,{keyPath:DT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(rh)?t(s):(s.close(),await HI(),t(await vm()))})})}async function H0(r,t,n){const s=Ih(r,!0).put({[DT]:t,value:n});return new eu(s).toPromise()}async function FI(r,t){const n=Ih(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function F0(r,t){const n=Ih(r,!0).delete(t);return new eu(n).toPromise()}const GI=800,YI=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>YI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(BI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await H0(t,ih,"1"),await F0(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>H0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>FI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>F0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const QI=OT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r,t){return t?Fi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends cg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function XI(r){return TT(r.auth,new dg(r),r.bypassAuthState)}function WI(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),II(n,new dg(r),r.bypassAuthState)}async function $I(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),RI(n,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:Hn(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Zl(2e3,1e4);class Qa extends NT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZI.get())};t()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="pendingRedirect",Uc=new Map;class tC extends NT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(r,t){const n=rC(t),s=iC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function nC(r,t){Uc.set(r._key(),t)}function iC(r){return Fi(r._redirectPersistence)}function rC(r){return Pc(JI,r.config.apiKey,r.name)}async function sC(r,t,n=!1){if(Pn(r.app))return Promise.reject(Gi(r));const s=$s(r),o=KI(s,t),f=await new tC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=10*60*1e3;class oC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!MT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aC&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(t))}saveEventToCache(t){this.cachedEventUids.add(G0(t)),this.lastProcessedEventTime=Date.now()}}function G0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function MT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,t={}){return ss(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function fC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await uC(r);for(const n of t)try{if(dC(n))return}catch{}Hn(r,"unauthorized-domain")}function dC(r){const t=pm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!hC.test(n))return!1;if(cC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Zl(3e4,6e4);function Y0(){const r=fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gC(r){return new Promise((t,n)=>{var s,o,u;function f(){Y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(hi(r,"network-request-failed"))},timeout:mC.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=lI("iframefcb");return fi()[m]=()=>{gapi.load?f():n(hi(r,"network-request-failed"))},pT(`${oI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function pC(r){return Lc=Lc||gC(r),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Zl(5e3,15e3),_C="__/auth/iframe",vC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?og(t,vC):`https://${r.config.authDomain}/${_C}`,s={apiKey:t.apiKey,appName:r.name,v:oo},o=TC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function wC(r){const t=await pC(r),n=fi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:bC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},yC.get());function p(){fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,RC=600,IC="_blank",CC="http://localhost";class Q0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(r,t,n,s=AC,o=RC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},SC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(m=uT(y)?IC:n),oT(y)&&(t=t||CC,p.scrollbars="yes");const T=Object.entries(p).reduce((O,[j,G])=>`${O}${j}=${G},`,"");if(ZR(y)&&m!=="_self")return OC(t||"",m),new Q0(null);const A=window.open(t||"",m,T);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new Q0(A)}function OC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",MC="emulator/auth/handler",xC=encodeURIComponent("fac");async function K0(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:oo,eventId:o};if(t instanceof vT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",J1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(t instanceof tu){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${xC}=${encodeURIComponent(p)}`:"";return`${kC(r)}?${Ql(m).slice(1)}${y}`}function kC({config:r}){return r.emulator?og(r,MC):`https://${r.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=sC,this._overrideRedirectResult=nC}async _openPopup(t,n,s,o){var u;Xi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await K0(t,n,s,pm(),o);return DC(t,f,fg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await K0(t,n,s,pm(),o);return LI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await wC(t),s=new oC(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gd,{type:Gd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Gd];f!==void 0&&n(!!f),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||ug()}}const PC=VC;var X0="@firebase/auth",W0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zC(r){Za(new Hs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(r)},y=new rI(s,o,u,p);return mI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Za(new Hs("auth-internal",t=>{const n=$s(t.getProvider("auth").getImmediate());return(s=>new UC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(X0,W0,LC(r)),Fr(X0,W0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=5*60,BC=yv("authIdTokenMaxAge")||jC;let $0=null;const qC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BC)return;const o=n==null?void 0:n.token;$0!==o&&($0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HC(r=Tv()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const n=dI(r,{popupRedirectResolver:PC,persistence:[QI,VI,RT]}),s=yv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=qC(u.toString());MI(n,f,()=>f(n.currentUser)),NI(n,m=>f(m))}}const o=gv("auth");return o&&gI(n,`http://${o}`),n}function FC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}sI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",FC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zC("Browser");const GC={apiKey:"AIzaSyCwlU9nKgAuWMK2yqn4uUIWoBjvxKRsM7Y",authDomain:"taskerer-f72e3.firebaseapp.com",projectId:"taskerer-f72e3",storageBucket:"taskerer-f72e3.firebasestorage.app",messagingSenderId:"156317212431",appId:"1:156317212431:web:e1507f28984563944d287a",measurementId:"G-4D7WGPQVE1"},YC=Ev(GC),ts=fR(YC),Z0=HC(),xT=6048e5,QC=864e5,kT=6e4,VT=36e5,J0=Symbol.for("constructDateFrom");function Wi(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&J0 in r?r[J0](t):r instanceof Date?new r.constructor(t):new Date(t)}function nn(r,t){return Wi(t||r,r)}let KC={};function Ch(){return KC}function Gl(r,t){var m,p,y,T;const n=Ch(),s=(t==null?void 0:t.weekStartsOn)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((T=(y=n.locale)==null?void 0:y.options)==null?void 0:T.weekStartsOn)??0,o=nn(r,t==null?void 0:t.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function sh(r,t){return Gl(r,{...t,weekStartsOn:1})}function PT(r,t){const n=nn(r,t==null?void 0:t.in),s=n.getFullYear(),o=Wi(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=sh(o),f=Wi(n,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=sh(f);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function tv(r){const t=nn(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function XC(r,...t){const n=Wi.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function ev(r,t){const n=nn(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function WC(r,t,n){const[s,o]=XC(n==null?void 0:n.in,r,t),u=ev(s),f=ev(o),m=+u-tv(u),p=+f-tv(f);return Math.round((m-p)/QC)}function $C(r,t){const n=PT(r,t),s=Wi(r,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),sh(s)}function ZC(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function JC(r){return!(!ZC(r)&&typeof r!="number"||isNaN(+nn(r)))}function tD(r,t){const n=nn(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nD=(r,t,n)=>{let s;const o=eD[r];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Yd(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const iD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aD={date:Yd({formats:iD,defaultWidth:"full"}),time:Yd({formats:rD,defaultWidth:"full"}),dateTime:Yd({formats:sD,defaultWidth:"full"})},oD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lD=(r,t,n,s)=>oD[r];function Tl(r){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(t):t;return o[u]}}const uD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gD=(r,t)=>{const n=Number(r),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pD={ordinalNumber:gD,era:Tl({values:uD,defaultWidth:"wide"}),quarter:Tl({values:cD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Tl({values:hD,defaultWidth:"wide"}),day:Tl({values:fD,defaultWidth:"wide"}),dayPeriod:Tl({values:dD,defaultWidth:"wide",formattingValues:mD,defaultFormattingWidth:"wide"})};function bl(r){return(t,n={})=>{const s=n.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=t.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?_D(m,A=>A.test(f)):yD(m,A=>A.test(f));let y;y=r.valueCallback?r.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const T=t.slice(f.length);return{value:y,rest:T}}}function yD(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function _D(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function vD(r){return(t,n={})=>{const s=t.match(r.matchPattern);if(!s)return null;const o=s[0],u=t.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}const ED=/^(\d+)(th|st|nd|rd)?/i,TD=/\d+/i,bD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wD={any:[/^b/i,/^(a|c)/i]},SD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AD={any:[/1/i,/2/i,/3/i,/4/i]},RD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ID={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ND={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MD={ordinalNumber:vD({matchPattern:ED,parsePattern:TD,valueCallback:r=>parseInt(r,10)}),era:bl({matchPatterns:bD,defaultMatchWidth:"wide",parsePatterns:wD,defaultParseWidth:"any"}),quarter:bl({matchPatterns:SD,defaultMatchWidth:"wide",parsePatterns:AD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:bl({matchPatterns:RD,defaultMatchWidth:"wide",parsePatterns:ID,defaultParseWidth:"any"}),day:bl({matchPatterns:CD,defaultMatchWidth:"wide",parsePatterns:DD,defaultParseWidth:"any"}),dayPeriod:bl({matchPatterns:OD,defaultMatchWidth:"any",parsePatterns:ND,defaultParseWidth:"any"})},xD={code:"en-US",formatDistance:nD,formatLong:aD,formatRelative:lD,localize:pD,match:MD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kD(r,t){const n=nn(r,t==null?void 0:t.in);return WC(n,tD(n))+1}function VD(r,t){const n=nn(r,t==null?void 0:t.in),s=+sh(n)-+$C(n);return Math.round(s/xT)+1}function UT(r,t){var T,A,O,j;const n=nn(r,t==null?void 0:t.in),s=n.getFullYear(),o=Ch(),u=(t==null?void 0:t.firstWeekContainsDate)??((A=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??o.firstWeekContainsDate??((j=(O=o.locale)==null?void 0:O.options)==null?void 0:j.firstWeekContainsDate)??1,f=Wi((t==null?void 0:t.in)||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=Gl(f,t),p=Wi((t==null?void 0:t.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const y=Gl(p,t);return+n>=+m?s+1:+n>=+y?s:s-1}function PD(r,t){var m,p,y,T;const n=Ch(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((T=(y=n.locale)==null?void 0:y.options)==null?void 0:T.firstWeekContainsDate)??1,o=UT(r,t),u=Wi((t==null?void 0:t.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),Gl(u,t)}function UD(r,t){const n=nn(r,t==null?void 0:t.in),s=+Gl(n,t)-+PD(n,t);return Math.round(s/xT)+1}function Qt(r,t){const n=r<0?"-":"",s=Math.abs(r).toString().padStart(t,"0");return n+s}const Pr={y(r,t){const n=r.getFullYear(),s=n>0?n:1-n;return Qt(t==="yy"?s%100:s,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Qt(n+1,2)},d(r,t){return Qt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Qt(r.getHours()%12||12,t.length)},H(r,t){return Qt(r.getHours(),t.length)},m(r,t){return Qt(r.getMinutes(),t.length)},s(r,t){return Qt(r.getSeconds(),t.length)},S(r,t){const n=t.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Qt(o,t.length)}},qa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nv={G:function(r,t,n){const s=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Pr.y(r,t)},Y:function(r,t,n,s){const o=UT(r,s),u=o>0?o:1-o;if(t==="YY"){const f=u%100;return Qt(f,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Qt(u,t.length)},R:function(r,t){const n=PT(r);return Qt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Qt(n,t.length)},Q:function(r,t,n){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Qt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,t,n){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Qt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,t,n){const s=r.getMonth();switch(t){case"M":case"MM":return Pr.M(r,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(r,t,n){const s=r.getMonth();switch(t){case"L":return String(s+1);case"LL":return Qt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(r,t,n,s){const o=UD(r,s);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Qt(o,t.length)},I:function(r,t,n){const s=VD(r);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Qt(s,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Pr.d(r,t)},D:function(r,t,n){const s=kD(r);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Qt(s,t.length)},E:function(r,t,n){const s=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(r,t,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Qt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,t,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Qt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,t,n){const s=r.getDay(),o=s===0?7:s;switch(t){case"i":return String(o);case"ii":return Qt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(r,t,n){const o=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,t,n){const s=r.getHours();let o;switch(s===12?o=qa.noon:s===0?o=qa.midnight:o=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,t,n){const s=r.getHours();let o;switch(s>=17?o=qa.evening:s>=12?o=qa.afternoon:s>=4?o=qa.morning:o=qa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let s=r.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Pr.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Pr.H(r,t)},K:function(r,t,n){const s=r.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Qt(s,t.length)},k:function(r,t,n){let s=r.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Qt(s,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Pr.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Pr.s(r,t)},S:function(r,t){return Pr.S(r,t)},X:function(r,t,n){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return rv(s);case"XXXX":case"XX":return zs(s);case"XXXXX":case"XXX":default:return zs(s,":")}},x:function(r,t,n){const s=r.getTimezoneOffset();switch(t){case"x":return rv(s);case"xxxx":case"xx":return zs(s);case"xxxxx":case"xxx":default:return zs(s,":")}},O:function(r,t,n){const s=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iv(s,":");case"OOOO":default:return"GMT"+zs(s,":")}},z:function(r,t,n){const s=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iv(s,":");case"zzzz":default:return"GMT"+zs(s,":")}},t:function(r,t,n){const s=Math.trunc(+r/1e3);return Qt(s,t.length)},T:function(r,t,n){return Qt(+r,t.length)}};function iv(r,t=""){const n=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+t+Qt(u,2)}function rv(r,t){return r%60===0?(r>0?"-":"+")+Qt(Math.abs(r)/60,2):zs(r,t)}function zs(r,t=""){const n=r>0?"-":"+",s=Math.abs(r),o=Qt(Math.trunc(s/60),2),u=Qt(s%60,2);return n+o+t+u}const sv=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LT=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},LD=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return sv(r,t);let u;switch(s){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",sv(s,t)).replace("{{time}}",LT(o,t))},zD={p:LT,P:LD},jD=/^D+$/,BD=/^Y+$/,qD=["D","DD","YY","YYYY"];function HD(r){return jD.test(r)}function FD(r){return BD.test(r)}function GD(r,t,n){const s=YD(r,t,n);if(console.warn(s),qD.includes(r))throw new RangeError(s)}function YD(r,t,n){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XD=/^'([^]*?)'?$/,WD=/''/g,$D=/[a-zA-Z]/;function ah(r,t,n){var T,A,O,j;const s=Ch(),o=s.locale??xD,u=s.firstWeekContainsDate??((A=(T=s.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??1,f=s.weekStartsOn??((j=(O=s.locale)==null?void 0:O.options)==null?void 0:j.weekStartsOn)??0,m=nn(r,n==null?void 0:n.in);if(!JC(m))throw new RangeError("Invalid time value");let p=t.match(KD).map(G=>{const W=G[0];if(W==="p"||W==="P"){const K=zD[W];return K(G,o.formatLong)}return G}).join("").match(QD).map(G=>{if(G==="''")return{isToken:!1,value:"'"};const W=G[0];if(W==="'")return{isToken:!1,value:ZD(G)};if(nv[W])return{isToken:!0,value:G};if(W.match($D))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:G}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(G=>{if(!G.isToken)return G.value;const W=G.value;(FD(W)||HD(W))&&GD(W,t,String(r));const K=nv[W[0]];return K(m,W,o.localize,y)}).join("")}function ZD(r){const t=r.match(XD);return t?t[1].replace(WD,"'"):r}function JD(r,t){return+nn(r)<+nn(t)}function Em(r,t){const n=()=>Wi(t==null?void 0:t.in,NaN),o=iO(r);let u;if(o.date){const y=rO(o.date,2);u=sO(y.restDateString,y.year)}if(!u||isNaN(+u))return n();const f=+u;let m=0,p;if(o.time&&(m=aO(o.time),isNaN(m)))return n();if(o.timezone){if(p=oO(o.timezone),isNaN(p))return n()}else{const y=new Date(f+m),T=nn(0,t==null?void 0:t.in);return T.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),T.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),T}return nn(f+m+p,t==null?void 0:t.in)}const Dc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iO(r){const t={},n=r.split(Dc.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Dc.timeZoneDelimiter.test(t.date)&&(t.date=r.split(Dc.timeZoneDelimiter)[0],s=r.substr(t.date.length,r.length))),s){const o=Dc.timezone.exec(s);o?(t.time=s.replace(o[1],""),t.timezone=o[1]):t.time=s}return t}function rO(r,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=r.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?o:u*100,restDateString:r.slice((s[1]||s[2]).length)}}function sO(r,t){if(t===null)return new Date(NaN);const n=r.match(tO);if(!n)return new Date(NaN);const s=!!n[4],o=wl(n[1]),u=wl(n[2])-1,f=wl(n[3]),m=wl(n[4]),p=wl(n[5])-1;if(s)return fO(t,m,p)?lO(t,m,p):new Date(NaN);{const y=new Date(0);return!cO(t,u,f)||!hO(t,o)?new Date(NaN):(y.setUTCFullYear(t,u,Math.max(o,f)),y)}}function wl(r){return r?parseInt(r):1}function aO(r){const t=r.match(eO);if(!t)return NaN;const n=Qd(t[1]),s=Qd(t[2]),o=Qd(t[3]);return dO(n,s,o)?n*VT+s*kT+o*1e3:NaN}function Qd(r){return r&&parseFloat(r.replace(",","."))||0}function oO(r){if(r==="Z")return 0;const t=r.match(nO);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return mO(s,o)?n*(s*VT+o*kT):NaN}function lO(r,t,n){const s=new Date(0);s.setUTCFullYear(r,0,4);const o=s.getUTCDay()||7,u=(t-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+u),s}const uO=[31,null,31,30,31,30,31,31,30,31,30,31];function zT(r){return r%400===0||r%4===0&&r%100!==0}function cO(r,t,n){return t>=0&&t<=11&&n>=1&&n<=(uO[t]||(zT(r)?29:28))}function hO(r,t){return t>=1&&t<=(zT(r)?366:365)}function fO(r,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function dO(r,t,n){return r===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&r>=0&&r<25}function mO(r,t){return t>=0&&t<=59}const gO="/assets/unknown-user-image-aYidAGiN.png",pO="/assets/sleeping-face-BM1PUuL9.png";function Dh(){return z.jsx("div",{id:"loading"})}function mg({error:r}){const t={"auth/email-already-in-use":"Email already in use.","auth/invalid-email":"Invalid Email.","auth/missing-password":"Missing Password.","auth/missing-email":"Missing Email.","auth/weak-password":"Weak Password.","auth/invalid-credential":"Invalid Account.","invalid-argument":"Invalid Input(s).","Duplicate task name.":"There is already a task with this name.","Found input fields empty.":"Please, fill all the inputs.","Found white-spaces before any word.":"Please, erase any spaces before your inputs."};return z.jsx(z.Fragment,{children:t[r]&&z.jsx("div",{className:"rounded-sm bg-red-300 text-gray-700 text-base my-2 w-auto px-6 text-center mr-1",children:t[r]})})}function yO({sign:r}){return z.jsx(z.Fragment,{children:r&&z.jsx("div",{className:"rounded-sm bg-green-300 text-gray-700 text-base my-2 w-auto px-6 text-center mr-1",children:"Successfully signed up. Now you can log in!"})})}function _O({signed:r,setLogged:t,setSigned:n}){const{dispatchCurrentUser:s}=St.useContext(es),[o,u]=St.useState(!1),[f,m]=St.useState(!1),[p,y]=St.useState(""),[T,A]=St.useState({emailVal:"",passVal:""});function O(J){A(ut=>({...ut,emailVal:J.target.value}))}function j(J){A(ut=>({...ut,passVal:J.target.value}))}async function G(J,ut,lt){try{return(await OI(J,ut,lt)).user.uid}catch(ft){throw y(ft.code),new Error(`Couldn't log in, user not found within Firestore. ${ft.message}`)}}async function W(){m(!0);try{const J=await G(Z0,T.emailVal,T.passVal),ut=Jr(ts,"users",J),ft=(await RR(ut)).data();s({type:"set_current_user",payload:{user:ft}}),t(!0),y(""),u(!1)}catch(J){throw u(!0),new Error(J.message)}finally{m(!1)}}async function K(J,ut,lt){try{return(await DI(J,ut,lt)).user}catch(ft){throw y(ft.code),new Error(`User creation failed! ${ft.message}`)}}async function et(J){try{const ut=Jr(ts,"users",J.uid);await CR(ut,{...J})}catch(ut){throw new Error(`Failed to store user data in Firestore. ${ut.message}`)}}async function it(){m(!0);try{const J=await K(Z0,T.emailVal,T.passVal),ut={email:J.email,createdAt:OR(),tasks:[],phoneNumber:"",uid:J.uid,username:"Empty"};await et(ut),n(!0),y(""),u(!1)}catch(J){throw u(!0),n(!1),new Error(`Sign up error. ${J.message}`)}finally{m(!1)}}return z.jsxs("form",{onSubmit:J=>J.preventDefault(),className:"bg-gray-200 rounded-sm p-4 w-11/12 m-auto mt-10 flex flex-col justify-center items-center","aria-label":"signupform",children:[z.jsx("h1",{className:"text-xl text-blue-500 font-bold mb-4",children:"Sign Up/In"}),z.jsxs("label",{children:["Email",z.jsx("input",{className:`${o?"bg-red-400":"bg-blue-200"} ${r&&"bg-green-400"} flex rounded-sm text-base p-1 pl-3 w-auto mb-4 duration-150 shadow-sm`,type:"email",value:T.emailVal,onChange:J=>O(J),onKeyDown:J=>J.key==="Enter"&&W(),disabled:!!f,autoFocus:!0})]}),z.jsxs("label",{children:["Password",z.jsx("input",{className:`${o?"bg-red-400":"bg-blue-200"} ${r&&"bg-green-400"} flex rounded-sm text-base p-1 pl-3 w-auto duration-150 shadow-sm`,type:"password",value:T.passVal,onChange:J=>j(J),onKeyDown:J=>J.key==="Enter"&&W(),disabled:!!f})]}),z.jsx(yO,{sign:r}),z.jsx(mg,{error:p}),f&&z.jsx(Dh,{}),z.jsx("button",{onClick:()=>it(),className:"flex justify-center items-center rounded-sm text-lg bg-blue-500 px-5 py-1 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 mt-4",disabled:!!f,type:"button",children:"Sign Up"}),z.jsx("p",{className:"text-lg my-4",children:"Or"}),z.jsx("button",{onClick:()=>W(),className:"flex justify-center items-center rounded-sm text-lg bg-blue-500 px-5 py-1 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150",disabled:!!f,type:"button",children:"Log In"})]})}function vO(){const{currentUserLoggedIn:r,dispatchCurrentUser:t}=St.useContext(es),[n,s]=St.useState(!1),[o,u]=St.useState(r.username),[f,m]=St.useState(r.phoneNumber||"Empty");async function p(){try{s(!n);const A={username:o,phoneNumber:f},O={...r,...A};t({type:"set_current_user",payload:{user:O}});const j=Jr(ts,"users",r.uid);await ao(j,{...A})}catch(A){throw new Error(`Couldn't update user data. ${A.message}`)}}function y(A){A.target.value.length<=11&&u(A.target.value)}function T(A){A.target.value.length<=10&&m(A.target.value)}return z.jsx(z.Fragment,{children:z.jsxs("form",{className:"bg-blue-200 border-2 border-blue-300 border-solid p-2 flex flex-col",children:[z.jsx("h3",{className:"text-center font-bold text-lg text-gray-800 underline mb-2",children:"Profile Details"}),z.jsxs("label",{htmlFor:"username",className:`flex ${n?"flex-col":"flex-row"}`,children:["Username:",n?z.jsx("input",{className:"text-sm rounded-sm bg-blue-50 shadow-sm p-1 px-2 mb-2",type:"text",value:o,onChange:A=>y(A),onKeyDown:A=>A.key==="Enter"&&p()}):z.jsx("p",{className:"text-blue-600 ml-2 truncate",children:o})]}),z.jsxs("label",{htmlFor:"username",className:`flex ${n?"flex-col":"flex-row"}`,children:["Phone Number:",n?z.jsx("input",{className:"text-sm rounded-sm bg-blue-50 shadow-sm p-1 px-2 mb-2",type:"number",value:f,onChange:A=>T(A),onKeyDown:A=>A.key==="Enter"&&p()}):z.jsx("p",{className:"text-blue-600 ml-2 truncate",children:f})]}),z.jsx("button",{className:"flex justify-center items-center rounded-sm text-md bg-blue-500 px-3 py-1 text-white hover:bg-blue-400 hover:text-black hover:cursor-pointer transition-colors mt-4",onClick:()=>p(),type:"button",children:n?"Save":"Edit"})]})})}function Tm({yesFunction:r,noFunction:t,text:n,className:s,yesText:o,noText:u}){return z.jsxs("div",{className:s,children:[z.jsx("h1",{className:"mb-2 text-center",children:n}),z.jsxs("div",{className:"flex justify-center items-center",children:[z.jsx("button",{className:"rounded-sm mr-2 bg-blue-800 px-2 py-1 text-white hover:bg-blue-300 hover:text-black hover:cursor-pointer duration-150 transition-all",onClick:r,children:o}),z.jsx("button",{className:"rounded-sm bg-blue-800 px-2 py-1 text-white hover:bg-blue-300 hover:text-black hover:cursor-pointer duration-150 transition-all",onClick:t,children:u})]})]})}class EO extends St.Component{constructor(t){super(t),this.state={id:this.props.uniqueId(),taskName:"",dueDate:"",desc:"",subTasks:[],selected:!1},this.addTaskToUserObject=this.addTaskToUserObject.bind(this),this.handleDate=this.handleDate.bind(this),this.handleTaskName=this.handleTaskName.bind(this),this.handleDesc=this.handleDesc.bind(this)}handleTaskName(t){t.target.value.length<=20&&this.setState({taskName:t.target.value})}handleDate(t){this.setState({dueDate:t.target.value})}handleDesc(t){this.setState({desc:t.target.value})}async addTaskToUserObject(){const{taskName:t,dueDate:n,desc:s,selected:o,id:u}=this.state,{currentUserLoggedIn:f,dispatchCurrentUser:m,setLoading:p,setOpenTaskForm:y,setErrorCode:T}=this.props;p(!0);try{if(f.tasks.some(it=>it.taskName===t)){T("Duplicate task name.");return}if(t===""||n===""||s===""){T("Found input fields empty.");return}if(/^\s+/.test(t)===!0||/^\s+/.test(s)){T("Found white-spaces before any word.");return}const G={taskName:t,dueDate:n,desc:s,subTasks:[],selected:o,id:u};this.setState(G);const W=[...f.tasks,this.state],K={...f,tasks:W};m({type:"set_current_user",payload:{user:K}});const et=Jr(ts,"users",f.uid);await ao(et,{tasks:W}),y(!1)}catch(A){throw T(A.code),new Error(`Unable to save task in the cloud. ${A.message}`)}finally{p(!1)}}render(){return z.jsx(z.Fragment,{children:this.props.loading?z.jsx("div",{className:"flex justify-center items-center",children:z.jsx(Dh,{})}):z.jsx(z.Fragment,{children:z.jsxs("form",{onSubmit:t=>{t.preventDefault()},className:"bg-blue-200 border-2 border-blue-300 border-solid p-2 flex flex-col mt-4",children:[z.jsxs("label",{className:"task-name flex flex-col",children:["Task Name",z.jsx("input",{autoFocus:!0,placeholder:"Study...",type:"text",className:`text-sm rounded-sm ${this.props.errorCode===""?"bg-blue-50":"bg-red-400"} shadow-sm p-1 px-2 mb-2`,value:this.state.taskName,onChange:t=>this.handleTaskName(t)})]}),z.jsxs("label",{className:"flex flex-col",children:["Due date",z.jsx("input",{type:"date",className:`text-sm rounded-sm ${this.props.errorCode===""?"bg-blue-50":"bg-red-400"} shadow-sm p-1 px-2 mb-2`,onChange:t=>this.handleDate(t)})]}),z.jsxs("label",{className:"desc flex flex-col",children:["Description",z.jsx("textarea",{placeholder:"From 7-9pm...",name:"desc",id:"add-task-desc",rows:6,className:`text-sm rounded-sm ${this.props.errorCode===""?"bg-blue-50":"bg-red-400"} shadow-sm p-1 px-2 mb-2`,onChange:t=>this.handleDesc(t)})]}),z.jsx(mg,{error:this.props.errorCode}),z.jsx("button",{onClick:()=>{this.addTaskToUserObject()},className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-300 hover:text-black hover:cursor-pointer duration-150 mt-2",children:"Create Task"})]})})})}}function TO(){const{userLogged:r,setUserLogged:t,dispatchCurrentUser:n,currentUserLoggedIn:s,setCurrentSelectedTask:o,setLoadingSelection:u,isPastDue:f,isTaskConcluded:m}=St.useContext(es),[p,y]=St.useState(!1),[T,A]=St.useState(!1),[O,j]=St.useState(!1),[G,W]=St.useState(""),[K,et]=St.useState(!1),[it,J]=St.useState(!1),[ut,lt]=St.useState(!1),[ft,x]=St.useState("");function R(){y(!p)}function w(){localStorage.clear(),window.location.reload()}async function C(V){const I=s.tasks.filter(nt=>nt.id!==V.id),Jt={...s,tasks:I};n({type:"set_current_user",payload:{user:Jt}});const te=Jr(ts,"users",s.uid);await ao(te,{tasks:I}),x(!1),V.selected&&o("")}async function M(V){u(!0);try{const I=s.tasks.map(mt=>mt===V?{...mt,selected:!mt.selected}:{...mt,selected:!1}),Jt={...s,tasks:I};n({type:"set_current_user",payload:{user:Jt}});const te=I.find(mt=>mt.selected);o(te);const nt=Jr(ts,"users",s.uid);await ao(nt,{tasks:I})}catch(I){throw new Error(`Couldn't select task. ${I.message}`)}finally{u(!1)}}return St.useEffect(()=>{y(!1),r&&s.username==="Empty"&&et(!0)},[r,s]),St.useEffect(()=>{W("")},[T]),z.jsxs("nav",{className:"h-screen overflow-auto bg-blue-50 w-2/10 py-4",id:"navbar",children:[z.jsxs("section",{className:"flex justify-between px-4 relative border-b-1 border-gray-300 pb-5",children:[z.jsxs("div",{className:`flex ${r?"hover:cursor-pointer":"hover:cursor-not-allowed"} hover:opacity-75 transition-opacity`,onClick:r?()=>et(!K):()=>{},children:[z.jsx("img",{src:gO,alt:"user-image",className:"w-9 z-20"}),z.jsx("p",{className:"bg-blue-200 text-gray-800 h-6 w-auto max-w-30 truncate justify-center flex rounded-sm pl-5 pr-3 absolute z-10 left-11 top-1 font-bold",children:r?s.username:"User"}),r&&z.jsx("p",{className:"absolute bg-gray-200 left-12 text-sm rounded-sm w-18 text-center top-6 z-0",children:K?"Collapse":"Expand"})]}),r?z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150",onClick:()=>{lt(!ut)},children:"Log Out"}):z.jsx("button",{onClick:R,className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150",children:"Sign Up/In"})]}),z.jsxs("section",{children:[ut&&z.jsx(Tm,{yesFunction:()=>w(),noFunction:()=>lt(!1),text:"Are you sure you want to Log Out?",yesText:"Yes",noText:"No",className:"bg-blue-200 p-2"}),p&&z.jsx(_O,{logged:r,signed:it,setLogged:t,setSigned:J}),K&&z.jsx(vO,{}),r?z.jsxs("div",{className:"p-2",children:[z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all",onClick:()=>{A(!T)},children:T?"Go Back":"Add Header Task"}),T&&z.jsx(es.Consumer,{children:({dispatchCurrentUser:V,currentUserLoggedIn:I,uniqueId:Jt})=>z.jsx(EO,{currentUserLoggedIn:I,dispatchCurrentUser:V,uniqueId:Jt,errorCode:G,setErrorCode:W,setOpenTaskForm:A,loading:O,setLoading:j})}),z.jsx("div",{className:"flex flex-col mt-4",children:s.tasks.length===0?z.jsxs(z.Fragment,{children:[z.jsx("p",{className:"text-center text-xl mt-20 mb-4 w-11/12 opacity-50",children:"No Tasks to be shown."}),z.jsx(C1,{className:"opacity-50 text-4xl m-auto"})]}):s.tasks.map(V=>z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:`bg-blue-100 rounded-sm px-2 py-1 flex justify-between items-center mb-2 hover:bg-blue-200 transition-colors hover:cursor-pointer ${V.selected&&"bg-blue-500"}`,onClick:()=>M(V),children:z.jsxs("h4",{className:"flex justify-center items-center",children:[f(ah(Em(V.dueDate),"MM/dd/yyyy"))&&!m(V)&&z.jsx(D1,{className:"text-red-500 mr-2 font-bold"}),m(V)&&z.jsx(cv,{className:"text-green-400 mr-2"}),V.taskName]})}),ft!==V.id?z.jsx("button",{onClick:()=>x(V.id),className:"hover:cursor-pointer hover:text-red-500 transition-colors text-2xl text-blue-300 absolute right-1 top-1 z-10",children:z.jsx(lv,{})}):z.jsx(Tm,{noFunction:()=>x(""),yesFunction:()=>C(V),yesText:z.jsx(hv,{}),noText:z.jsx(uv,{}),className:"absolute -top-1 right-2"})]},V.id))})]}):z.jsxs("div",{className:"flex flex-col items-center",children:[z.jsx("p",{className:"text-center text-xl mt-20 w-11/12 opacity-50",children:"Please, Log In to see your tasks."}),!p&&z.jsx("img",{src:pO,alt:"sleeping-face",className:"w-16 opacity-50 mt-8"})]})]})]})}function bO(r){return Fn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"},child:[]}]})(r)}function wO(r){return Fn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},child:[]}]})(r)}function SO(){const{currentSelectedTask:r}=St.useContext(es),t=110,n=2*Math.PI*t;function s(){const m=r.subTasks.filter(T=>T.completed).length,p=r.subTasks.length;return Math.floor(parseInt(m)*100/parseInt(p))}function o(){const m=n-s()/100*n;return isNaN(m)?0:m}function u(){return s()===100?"#94c4f4":"#BFDCFF"}function f(){return r.subTasks.length<1?"1.5rem":"2.5rem"}return z.jsxs(z.Fragment,{children:[z.jsx("h1",{className:"font-bold text-2xl underline mb-4 text-black",children:"Progress Wheel"}),z.jsxs("div",{className:"relative shadow-2xl rounded-b-full",children:[z.jsxs("svg",{className:"flex items-center justify-center",width:250,height:250,children:[z.jsx("circle",{cx:t+15,cy:t+15,strokeWidth:"12px",r:t,stroke:"#398dfa",style:{fill:u(),strokeDasharray:n,strokeDashoffset:o(),transition:"fill 0.8s ease, stroke-dashoffset 0.8s ease"}}),z.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",style:{fontSize:f(),fontFamily:"Tahoma, system-ui"},children:r.subTasks.length<1?"No sub-tasks yet":s()+"%"})]}),r.subTasks.length>=1&&z.jsx("p",{className:`absolute top-32 right-10 transition-colors duration-800 ${s()===100?"text-black":"text-blue-200"}`,children:"Header task completed"})]})]})}const AO="/assets/taskerer-bg-C4sKUafh.png";function RO(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(r)}function IO(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 320l128-128 128 128z"},child:[]}]})(r)}function CO(r){return Fn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 8V2H20C20.5523 2 21 2.44772 21 3V7C21 7.55228 20.5523 8 20 8H17ZM15 22C15 22.5523 14.5523 23 14 23H10C9.44772 23 9 22.5523 9 22V8H2.5V6.07437C2.5 5.7187 2.68891 5.3898 2.99613 5.21059L8.5 2H15V22Z"},child:[]}]})(r)}function DO(){const{setCurrentSelectedTask:r,currentSelectedTask:t,currentUserLoggedIn:n,dispatchCurrentUser:s,uniqueId:o}=St.useContext(es),[u,f]=St.useState(!1),[m,p]=St.useState(""),[y,T]=St.useState(""),[A,O]=St.useState(!1);async function j(et,it){try{s({type:"set_current_user",payload:{user:it}});const J=et.find(lt=>lt.selected);r(J);const ut=Jr(ts,"users",n.uid);await ao(ut,{tasks:et})}catch(J){throw new Error(`Couldn't update the root. ${J.message}`)}}async function G(){O(!0);try{const et={desc:m,id:o(),completed:!1},it=n.tasks.map(ut=>ut.id===t.id?{...t,subTasks:[...t.subTasks,et]}:ut),J={...n,tasks:it};await j(it,J),f(!1),p("")}catch(et){throw new Error(`Couldn't create a sub-task. ${et.message}`)}finally{O(!1)}}async function W(et){try{const it=et.completed?{...et,completed:!1}:{...et,completed:!0},J=t.subTasks.map(ft=>ft.id===et.id?{...it}:ft),ut=n.tasks.map(ft=>ft.id===t.id?{...t,subTasks:[...J]}:ft),lt={...n,tasks:ut};await j(ut,lt)}catch(it){throw new Error(`Couldn't mark the sub-task as completed. ${it.message}`)}}async function K(et){O(!0);try{const it=t.subTasks.filter(lt=>lt.id!==et.id),J=n.tasks.map(lt=>lt.id===t.id?{...t,subTasks:[...it]}:lt),ut={...n,tasks:J};await j(J,ut),T(!1)}catch(it){throw new Error(`Couldn't delete the sub-task. ${it.message}`)}finally{O(!1)}}return St.useEffect(()=>{p("")},[u]),z.jsxs(z.Fragment,{children:[z.jsxs("nav",{className:"flex flex-col bg-blue-50 w-full rounded-t-sm mb-4",children:[z.jsxs("div",{className:`flex justify-between w-full p-2 ${u&&"border-b-2 border-blue-400"}`,children:[z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all shadow",onClick:()=>f(!u),children:u?"Go back":"Add sub-task"}),z.jsx("span",{className:"text-3xl text-blue-500",children:u?z.jsx(IO,{}):z.jsx(RO,{})})]}),z.jsx("form",{onSubmit:et=>et.preventDefault(),className:`${u&&"border-b-2 border-blue-400 p-2"}`,children:u&&z.jsxs(z.Fragment,{children:[z.jsx("h3",{className:"font-bold",children:"Sub-task description"}),z.jsxs("label",{className:"flex justify-between",children:[z.jsx("input",{autoFocus:!0,className:"text-sm rounded-sm bg-blue-200 shadow-sm p-1 px-2 py-2 my-2 w-3/4",placeholder:"Description...",type:"text",value:m,onChange:et=>{if(et.target.value.length<=55)return p(et.target.value)},onKeyDown:et=>et.key==="Enter"&&G()}),z.jsx("button",{type:"button",onClick:()=>G(),className:"rounded-sm bg-blue-500 px-2 h-9 my-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all shadow",children:"Create"})]})]})})]}),z.jsx("div",{className:"flex justify-center flex-col items-center p-2 w-full",children:t.subTasks.length>0?z.jsx(z.Fragment,{children:A?z.jsx(Dh,{}):t.subTasks.map(et=>z.jsxs("div",{className:"flex justify-between p-2 w-full bg-blue-50 rounded-sm mb-2",children:[z.jsxs("span",{className:"flex items-center w-auto",children:[z.jsx("input",{className:"shadow size-3.5",type:"checkbox",onChange:()=>W(et),checked:et.completed}),z.jsx("p",{className:"ml-2",children:et.desc})]}),y!==et.id?z.jsx("button",{onClick:()=>T(et.id),className:"hover:cursor-pointer hover:text-red-500 transition-colors text-2xl text-blue-300 right-1 top-1 z-10",children:z.jsx(lv,{})}):z.jsx(Tm,{noFunction:()=>{T("")},yesFunction:()=>K(et),yesText:z.jsx(hv,{}),noText:z.jsx(uv,{}),className:"flex items-center"})]},et.id))}):z.jsxs(z.Fragment,{children:[z.jsx(CO,{className:"text-3xl opacity-70 text-blue-500"}),z.jsx("p",{className:"text-xl opacity-70 text-blue-500 text-center",children:"Add sub-tasks so you can complete your header task"})]})})]})}function OO(){const{dispatchCurrentUser:r,currentSelectedTask:t,currentUserLoggedIn:n,userLogged:s,loadingSelection:o,setCurrentSelectedTask:u,isPastDue:f,isTaskConcluded:m}=St.useContext(es),[p,y]=St.useState(""),[T,A]=St.useState(!1),[O,j]=St.useState(t&&t.taskName),[G,W]=St.useState(t&&t.dueDate),[K,et]=St.useState(t&&t.desc),it=t?ah(Em(t.dueDate),"MM/dd/yyyy"):"";function J(){A(!T),j(t.taskName),W(t.dueDate),et(t.desc)}function ut(w){w.target.value.length<=20&&j(w.target.value)}function lt(w){return w===""?w="":ah(new Date(Em(w)),"MM/dd/yyyy")}function ft(w){W(w.target.value)}function x(w){et(w.target.value)}async function R(){try{const w={taskName:O,dueDate:G,desc:K,subTasks:[...t.subTasks],selected:!0,id:t.id},C=n.tasks.map(I=>I.id===t.id?{...w}:I),M={...n,tasks:C};r({type:"set_current_user",payload:{user:M}});const V=Jr(ts,"users",n.uid);await ao(V,{tasks:C}),A(!1)}catch(w){throw new Error(`Unable to edit task. ${w.message}`)}}return St.useEffect(()=>{A(!1)},[t]),St.useEffect(()=>{n!==null&&u(n.tasks.find(w=>w.selected))},[s,n]),z.jsx("div",{id:"right-panel",className:"flex justify-center items-center w-3/4 h-11/12 m-auto my-shadow rounded-sm relative",children:o?z.jsx(Dh,{}):t?z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:()=>{J()},className:"hover:bg-blue-400 rounded-sm p-1 text-2xl ml-4 hover:cursor-pointer hover:text-black transition-colors absolute top-1 right-1",children:z.jsx(bO,{})}),z.jsxs("div",{className:"w-10/12 h-10/12 overflow-auto px-2",id:"right-panel-content",children:[z.jsxs("nav",{className:"flex justify-between border-b-blue-200 border-b-2",children:[T?z.jsxs(z.Fragment,{children:[z.jsx("input",{type:"text",value:O,className:"bg-blue-200 rounded-sm shadow-sm mb-2 px-2 text-lg",placeholder:"New Task Name...",onKeyDown:w=>w.key==="Enter"&&R(),onChange:w=>ut(w)}),z.jsx(mg,{error:p})]}):z.jsxs("h1",{className:"text-4xl tracking-widest font-bold pb-2 flex justify-center items-center text-gray-800",children:[m(t)&&z.jsx(cv,{className:"text-green-400 mr-2"}),t.taskName]}),T?z.jsx("input",{type:"date",value:G,className:"bg-blue-200 rounded-sm p-2 mb-2",onChange:w=>ft(w),onKeyDown:w=>w.key==="Enter"&&R()}):z.jsxs("span",{className:`${f(it)&&!m(t)?"bg-red-400":"bg-blue-200"} rounded-sm h-10 font-bold flex justify-center items-center px-2 text-sm text-center`,children:[f(it)&&!m(t)&&z.jsx(wO,{className:"mr-2 text-xl"}),f(it)&&!m(t)?"Past due":"Due in"," ",lt(t.dueDate)]})]}),T?z.jsxs("label",{className:"flex flex-col text-lg font-bold mt-4",children:["Edit your Description:",z.jsx("textarea",{className:"rounded-sm bg-blue-200 p-2 text-md font-normal",rows:8,placeholder:"New Task Description...",value:K,onChange:w=>x(w)})]}):z.jsx("p",{id:"task-desc",className:"bg-gray-200 rounded-sm p-2 mt-4 text-md text-gray-800 max-h-50 overflow-y-auto overflow-x-hidden break-words",children:t.desc}),T&&z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all mt-4 text-xl py-2",onClick:()=>R(),children:"Save Changes"}),z.jsxs("div",{id:"subtasks-and-progress-container",className:"flex justify-between my-10",children:[z.jsx("div",{id:"subtask-container",className:"flex flex-col items-center bg-blue-200 rounded-sm w-3/6 h-70 border-2 border-blue-400 overflow-auto shadow-xl",children:z.jsx(DO,{})}),z.jsx("div",{className:"flex flex-col justify-center items-center px-20",children:z.jsx(SO,{})})]})]})]}):z.jsx("img",{src:AO,alt:"taskerer-logo",className:"w-lg opacity-50"})})}const es=St.createContext(null);function NO(r,t){switch(t.type){case"set_current_user":return localStorage.setItem("current-user",JSON.stringify(t.payload.user)),t.payload.user;default:return r}}function MO(){const[r,t]=St.useReducer(NO,JSON.parse(localStorage.getItem("current-user"))),n=JSON.parse(localStorage.getItem("current-user"))||"",[s,o]=St.useState(n!==""&&n.tasks.find(O=>O.selected)),[u,f]=St.useState(!1),[m,p]=St.useState(JSON.parse(localStorage.getItem("current-user"))||"");function y(O){return O!==""?JD(O,ah(new Date,"MM/dd/yyyy")):!1}function T(O){return!!(O.subTasks.every(j=>j.completed===!0)&&O.subTasks.length>=1)}function A(){let O=[],j=0;for(let G=0;G<20;G++)j%2===0?(O.push(Math.floor(Math.random()*10)),j++):(O.push(String.fromCharCode(Math.floor(Math.random()*26)+97)),j++);return O.join("")}return z.jsx("main",{className:"flex h-screen",children:z.jsxs(es.Provider,{value:{currentUserLoggedIn:r,dispatchCurrentUser:t,currentSelectedTask:s,setCurrentSelectedTask:o,userLogged:m,setUserLogged:p,loadingSelection:u,setLoadingSelection:f,isPastDue:y,isTaskConcluded:T,uniqueId:A},children:[z.jsx(TO,{}),z.jsx(OO,{})]})})}E1.createRoot(document.getElementById("root")).render(z.jsx(St.StrictMode,{children:z.jsx(MO,{})}));
