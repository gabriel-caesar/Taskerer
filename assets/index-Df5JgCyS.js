(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function d1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function m1(){if(y_)return El;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return El.Fragment=t,El.jsx=n,El.jsxs=n,El}var __;function g1(){return __||(__=1,xd.exports=m1()),xd.exports}var z=g1(),kd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function p1(){if(v_)return Rt;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function O(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,X={};function K(N,Z,ht){this.props=N,this.context=Z,this.refs=X,this.updater=ht||B}K.prototype.isReactComponent={},K.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},K.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ft(){}ft.prototype=K.prototype;function tt(N,Z,ht){this.props=N,this.context=Z,this.refs=X,this.updater=ht||B}var at=tt.prototype=new ft;at.constructor=tt,H(at,K.prototype),at.isPureReactComponent=!0;var yt=Array.isArray,J={H:null,A:null,T:null,S:null},ot=Object.prototype.hasOwnProperty;function M(N,Z,ht,it,rt,It){return ht=It.ref,{$$typeof:r,type:N,key:Z,ref:ht!==void 0?ht:null,props:It}}function S(N,Z){return M(N.type,Z,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function C(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ht){return Z[ht]})}var D=/\/+/g;function V(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?C(""+N.key):Z.toString(36)}function R(){}function Vt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Qt(N,Z,ht,it,rt){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var At=!1;if(N===null)At=!0;else switch(It){case"bigint":case"string":case"number":At=!0;break;case"object":switch(N.$$typeof){case r:case t:At=!0;break;case b:return At=N._init,Qt(At(N._payload),Z,ht,it,rt)}}if(At)return rt=rt(N),At=it===""?"."+V(N,0):it,yt(rt)?(ht="",At!=null&&(ht=At.replace(D,"$&/")+"/"),Qt(rt,Z,ht,"",function(ae){return ae})):rt!=null&&(w(rt)&&(rt=S(rt,ht+(rt.key==null||N&&N.key===rt.key?"":(""+rt.key).replace(D,"$&/")+"/")+At)),Z.push(rt)),1;At=0;var me=it===""?".":it+":";if(yt(N))for(var jt=0;jt<N.length;jt++)it=N[jt],It=me+V(it,jt),At+=Qt(it,Z,ht,It,rt);else if(jt=O(N),typeof jt=="function")for(N=jt.call(N),jt=0;!(it=N.next()).done;)it=it.value,It=me+V(it,jt++),At+=Qt(it,Z,ht,It,rt);else if(It==="object"){if(typeof N.then=="function")return Qt(Vt(N),Z,ht,it,rt);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return At}function nt(N,Z,ht){if(N==null)return N;var it=[],rt=0;return Qt(N,it,"","",function(It){return Z.call(ht,It,rt++)}),it}function gt(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(ht){(N._status===0||N._status===-1)&&(N._status=1,N._result=ht)},function(ht){(N._status===0||N._status===-1)&&(N._status=2,N._result=ht)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var ut=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ft(){}return Rt.Children={map:nt,forEach:function(N,Z,ht){nt(N,function(){Z.apply(this,arguments)},ht)},count:function(N){var Z=0;return nt(N,function(){Z++}),Z},toArray:function(N){return nt(N,function(Z){return Z})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Rt.Component=K,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=tt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cloneElement=function(N,Z,ht){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=H({},N.props),rt=N.key,It=void 0;if(Z!=null)for(At in Z.ref!==void 0&&(It=void 0),Z.key!==void 0&&(rt=""+Z.key),Z)!ot.call(Z,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Z.ref===void 0||(it[At]=Z[At]);var At=arguments.length-2;if(At===1)it.children=ht;else if(1<At){for(var me=Array(At),jt=0;jt<At;jt++)me[jt]=arguments[jt+2];it.children=me}return M(N.type,rt,void 0,void 0,It,it)},Rt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Rt.createElement=function(N,Z,ht){var it,rt={},It=null;if(Z!=null)for(it in Z.key!==void 0&&(It=""+Z.key),Z)ot.call(Z,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(rt[it]=Z[it]);var At=arguments.length-2;if(At===1)rt.children=ht;else if(1<At){for(var me=Array(At),jt=0;jt<At;jt++)me[jt]=arguments[jt+2];rt.children=me}if(N&&N.defaultProps)for(it in At=N.defaultProps,At)rt[it]===void 0&&(rt[it]=At[it]);return M(N,It,void 0,void 0,null,rt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:m,render:N}},Rt.isValidElement=w,Rt.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:gt}},Rt.memo=function(N,Z){return{$$typeof:y,type:N,compare:Z===void 0?null:Z}},Rt.startTransition=function(N){var Z=J.T,ht={};J.T=ht;try{var it=N(),rt=J.S;rt!==null&&rt(ht,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ft,ut)}catch(It){ut(It)}finally{J.T=Z}},Rt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Rt.use=function(N){return J.H.use(N)},Rt.useActionState=function(N,Z,ht){return J.H.useActionState(N,Z,ht)},Rt.useCallback=function(N,Z){return J.H.useCallback(N,Z)},Rt.useContext=function(N){return J.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,Z){return J.H.useDeferredValue(N,Z)},Rt.useEffect=function(N,Z){return J.H.useEffect(N,Z)},Rt.useId=function(){return J.H.useId()},Rt.useImperativeHandle=function(N,Z,ht){return J.H.useImperativeHandle(N,Z,ht)},Rt.useInsertionEffect=function(N,Z){return J.H.useInsertionEffect(N,Z)},Rt.useLayoutEffect=function(N,Z){return J.H.useLayoutEffect(N,Z)},Rt.useMemo=function(N,Z){return J.H.useMemo(N,Z)},Rt.useOptimistic=function(N,Z){return J.H.useOptimistic(N,Z)},Rt.useReducer=function(N,Z,ht){return J.H.useReducer(N,Z,ht)},Rt.useRef=function(N){return J.H.useRef(N)},Rt.useState=function(N){return J.H.useState(N)},Rt.useSyncExternalStore=function(N,Z,ht){return J.H.useSyncExternalStore(N,Z,ht)},Rt.useTransition=function(){return J.H.useTransition()},Rt.version="19.0.0",Rt}var E_;function Rm(){return E_||(E_=1,kd.exports=p1()),kd.exports}var wt=Rm();const qs=d1(wt);var Vd={exports:{}},Tl={},Pd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function y1(){return T_||(T_=1,function(r){function t(nt,gt){var ut=nt.length;nt.push(gt);t:for(;0<ut;){var Ft=ut-1>>>1,N=nt[Ft];if(0<o(N,gt))nt[Ft]=gt,nt[ut]=N,ut=Ft;else break t}}function n(nt){return nt.length===0?null:nt[0]}function s(nt){if(nt.length===0)return null;var gt=nt[0],ut=nt.pop();if(ut!==gt){nt[0]=ut;t:for(var Ft=0,N=nt.length,Z=N>>>1;Ft<Z;){var ht=2*(Ft+1)-1,it=nt[ht],rt=ht+1,It=nt[rt];if(0>o(it,ut))rt<N&&0>o(It,it)?(nt[Ft]=It,nt[rt]=ut,Ft=rt):(nt[Ft]=it,nt[ht]=ut,Ft=ht);else if(rt<N&&0>o(It,ut))nt[Ft]=It,nt[rt]=ut,Ft=rt;else break t}}return gt}function o(nt,gt){var ut=nt.sortIndex-gt.sortIndex;return ut!==0?ut:nt.id-gt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],b=1,I=null,O=3,B=!1,H=!1,X=!1,K=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function at(nt){for(var gt=n(y);gt!==null;){if(gt.callback===null)s(y);else if(gt.startTime<=nt)s(y),gt.sortIndex=gt.expirationTime,t(p,gt);else break;gt=n(y)}}function yt(nt){if(X=!1,at(nt),!H)if(n(p)!==null)H=!0,Vt();else{var gt=n(y);gt!==null&&Qt(yt,gt.startTime-nt)}}var J=!1,ot=-1,M=5,S=-1;function w(){return!(r.unstable_now()-S<M)}function C(){if(J){var nt=r.unstable_now();S=nt;var gt=!0;try{t:{H=!1,X&&(X=!1,ft(ot),ot=-1),B=!0;var ut=O;try{e:{for(at(nt),I=n(p);I!==null&&!(I.expirationTime>nt&&w());){var Ft=I.callback;if(typeof Ft=="function"){I.callback=null,O=I.priorityLevel;var N=Ft(I.expirationTime<=nt);if(nt=r.unstable_now(),typeof N=="function"){I.callback=N,at(nt),gt=!0;break e}I===n(p)&&s(p),at(nt)}else s(p);I=n(p)}if(I!==null)gt=!0;else{var Z=n(y);Z!==null&&Qt(yt,Z.startTime-nt),gt=!1}}break t}finally{I=null,O=ut,B=!1}gt=void 0}}finally{gt?D():J=!1}}}var D;if(typeof tt=="function")D=function(){tt(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,R=V.port2;V.port1.onmessage=C,D=function(){R.postMessage(null)}}else D=function(){K(C,0)};function Vt(){J||(J=!0,D())}function Qt(nt,gt){ot=K(function(){nt(r.unstable_now())},gt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(nt){nt.callback=null},r.unstable_continueExecution=function(){H||B||(H=!0,Vt())},r.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<nt?Math.floor(1e3/nt):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(nt){switch(O){case 1:case 2:case 3:var gt=3;break;default:gt=O}var ut=O;O=gt;try{return nt()}finally{O=ut}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(nt,gt){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var ut=O;O=nt;try{return gt()}finally{O=ut}},r.unstable_scheduleCallback=function(nt,gt,ut){var Ft=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ft+ut:Ft):ut=Ft,nt){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ut+N,nt={id:b++,callback:gt,priorityLevel:nt,startTime:ut,expirationTime:N,sortIndex:-1},ut>Ft?(nt.sortIndex=ut,t(y,nt),n(p)===null&&nt===n(y)&&(X?(ft(ot),ot=-1):X=!0,Qt(yt,ut-Ft))):(nt.sortIndex=N,t(p,nt),H||B||(H=!0,Vt())),nt},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(nt){var gt=O;return function(){var ut=O;O=gt;try{return nt.apply(this,arguments)}finally{O=ut}}}}(Ud)),Ud}var b_;function _1(){return b_||(b_=1,Pd.exports=y1()),Pd.exports}var Ld={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function v1(){if(w_)return Ge;w_=1;var r=Rm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:p,containerInfo:y,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,b)},Ge.flushSync=function(p){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=b,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,I=m(b,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:O,fetchPriority:B}):b==="script"&&s.d.X(p,{crossOrigin:I,integrity:O,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,I=m(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var S_;function E1(){if(S_)return Ld.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=v1(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function T1(){if(A_)return Tl;A_=1;var r=_1(),t=Rm(),n=E1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),at=Symbol.for("react.offscreen"),yt=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ot(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function S(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case b:return"Profiler";case y:return"StrictMode";case X:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case H:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return i=e.displayName||null,i!==null?i:S(e.type)||"Memo";case tt:i=e._payload,e=e._init;try{return S(e(i))}catch{}}return null}var w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,D,V;function R(e){if(D===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+e+V}var Vt=!1;function Qt(e,i){if(!e||Vt)return"";Vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var j=F}Reflect.construct(e,[],W)}else{try{W.call()}catch(F){j=F}e.call(W.prototype)}}else{try{throw Error()}catch(F){j=F}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var A=v.split(`
`),k=E.split(`
`);for(h=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===A.length||h===k.length)for(l=A.length-1,h=k.length-1;1<=l&&0<=h&&A[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(A[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||A[l]!==k[h]){var G=`
`+A[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{Vt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function nt(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=Qt(e.type,!1),e;case 11:return e=Qt(e.type.render,!1),e;case 1:return e=Qt(e.type,!0),e;default:return""}}function gt(e){try{var i="";do i+=nt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ut(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ft(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function N(e){if(ut(e)!==e)throw Error(s(188))}function Z(e){var i=e.alternate;if(!i){if(i=ut(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),e;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var it=Array.isArray,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},At=[],me=-1;function jt(e){return{current:e}}function ae(e){0>me||(e.current=At[me],At[me]=null,me--)}function Kt(e,i){me++,At[me]=e.current,e.current=i}var We=jt(null),gi=jt(null),vn=jt(null),Ji=jt(null);function tr(e,i){switch(Kt(vn,i),Kt(gi,e),Kt(We,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Yy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Yy(e),i=Qy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(We),Kt(We,i)}function pi(){ae(We),ae(gi),ae(vn)}function go(e){e.memoizedState!==null&&Kt(Ji,e);var i=We.current,a=Qy(i,e.type);i!==a&&(Kt(gi,e),Kt(We,a))}function ta(e){gi.current===e&&(ae(We),ae(gi)),Ji.current===e&&(ae(Ji),gl._currentValue=It)}var ea=Object.prototype.hasOwnProperty,os=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,kh=r.unstable_shouldYield,po=r.unstable_requestPaint,sn=r.unstable_now,nu=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,iu=r.unstable_LowPriority,yo=r.unstable_IdlePriority,Vh=r.log,ls=r.unstable_setDisableYieldValue,er=null,He=null;function _o(e){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(er,e,void 0,(e.current.flags&128)===128)}catch{}}function Gn(e){if(typeof Vh=="function"&&ls(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(er,e)}catch{}}var $e=Math.clz32?Math.clz32:su,vo=Math.log,ru=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(vo(e)/ru|0)|0}var Yn=128,nr=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=Un(a):(d&=E,d!==0?l=Un(d):e||(v=E&~v,v!==0&&(l=Un(v))))):(E=a&~h,E!==0?l=Un(E):d!==0?l=Un(d):e||(v=a&~v,v!==0&&(l=Un(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function ir(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ia(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var e=Yn;return Yn<<=1,(Yn&4194176)===0&&(Yn=128),e}function rr(){var e=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),e}function ra(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function he(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function au(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,k=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-$e(a),W=1<<G;E[G]=0,A[G]=-1;var j=k[G];if(j!==null)for(k[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}a&=~W}l!==0&&sr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function sr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-$e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function ar(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ou(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function or(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Qn=Math.random().toString(36).slice(2),De="__reactFiber$"+Qn,Ee="__reactProps$"+Qn,_i="__reactContainer$"+Qn,us="__reactEvents$"+Qn,sa="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,To="__reactResources$"+Qn,lr="__reactMarker$"+Qn;function cs(e){delete e[De],delete e[Ee],delete e[us],delete e[sa],delete e[Kn]}function Ln(e){var i=e[De];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_i]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Wy(e);e!==null;){if(a=e[De])return a;e=Wy(e)}return i}e=a,a=e.parentNode}return null}function vi(e){if(e=e[De]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ur(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function cr(e){var i=e[To];return i||(i=e[To]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(e){e[lr]=!0}var bo=new Set,aa={};function cn(e,i){an(e,i),an(e+"Capture",i)}function an(e,i){for(aa[e]=i,e=0;e<i.length;e++)bo.add(i[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},So={};function uu(e){return ea.call(So,e)?!0:ea.call(wo,e)?!1:Ph.test(e)?So[e]=!0:(wo[e]=!0,!1)}function hr(e,i,a){if(uu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uh(e){var i=cu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function hs(e){e._valueTracker||(e._valueTracker=Uh(e))}function Ao(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function oe(e){return e.replace(Ei,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dr(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?la(e,v,Ze(i)):a!=null?la(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function fs(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function la(e,i,a){i==="number"&&oa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ds(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function mr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function bn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Lh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function hu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ro(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ro(e,d,i[d])}function Io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(e){return jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wn=null;function ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,bi=null;function wi(e){var i=vi(e);if(i&&(e=i.stateNode)){var a=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(dr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ee]||null;if(!h)throw Error(s(90));dr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ao(l)}break t;case"textarea":ds(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Bt(e,!!a.multiple,i,!1)}}}var Co=!1;function fu(e,i,a){if(Co)return e(i,a);Co=!0;try{var l=e(i);return l}finally{if(Co=!1,(Ti!==null||bi!==null)&&(ic(),Ti&&(i=Ti,e=bi,bi=Ti=null,wi(i),e)))for(i=0;i<e.length;i++)wi(e[i])}}function ms(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Sn=!1;if(hn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Sn=!1}var Wn=null,gr=null,Si=null;function Do(){if(Si)return Si;var e,i=gr,a=i.length,l,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function Oo(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Oo,this.isPropagationStopped=Oo,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Oe(Gt),ps=C({},Gt,{view:0,detail:0}),du=Oe(ps),ha,fa,Jn,ys=C({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(ha=e.screenX-Jn.screenX,fa=e.screenY-Jn.screenY):fa=ha=0,Jn=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),An=Oe(ys),mu=C({},ys,{dataTransfer:0}),Bh=Oe(mu),_s=C({},ps,{relatedTarget:0}),da=Oe(_s),No=C({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Oe(No),gu=C({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ga=Oe(gu),qh=C({},Gt,{data:0}),Mo=Oe(qh),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yu[e])?!!i[e]:!1}function Es(){return xo}var _u=C({},ps,{key:function(e){if(e.key){var i=vs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pa=Oe(_u),vu=C({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Oe(vu),Ai=C({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Eu=Oe(Ai),Tu=C({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Oe(Tu),wu=C({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=Oe(wu),Je=C({},Gt,{newState:0,oldState:0}),Su=Oe(Je),Au=[9,13,27,32],ti=hn&&"CompositionEvent"in window,c=null;hn&&"documentMode"in document&&(c=document.documentMode);var g=hn&&"TextEvent"in window&&!c,_=hn&&(!ti||c&&8<c&&11>=c),T=" ",U=!1;function q(e,i){switch(e){case"keyup":return Au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Te(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function Ut(e,i){if(Pt)return e==="compositionend"||!ti&&q(e,i)?(e=Do(),Si=gr=Wn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ri(e,i,a,l){Ti?bi?bi.push(l):bi=[l]:Ti=l,i=lc(i,"onChange"),0<i.length&&(a=new ca("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Pe=null,ei=null;function Vo(e){By(e,0)}function Ru(e){var i=ur(e);if(Ao(i))return e}function pg(e,i){if(e==="change")return i}var yg=!1;if(hn){var Hh;if(hn){var Fh="oninput"in document;if(!Fh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Fh=typeof _g.oninput=="function"}Hh=Fh}else Hh=!1;yg=Hh&&(!document.documentMode||9<document.documentMode)}function vg(){Pe&&(Pe.detachEvent("onpropertychange",Eg),ei=Pe=null)}function Eg(e){if(e.propertyName==="value"&&Ru(ei)){var i=[];Ri(i,ei,e,ua(e)),fu(Vo,i)}}function HT(e,i,a){e==="focusin"?(vg(),Pe=i,ei=a,Pe.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function FT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ei)}function GT(e,i){if(e==="click")return Ru(i)}function YT(e,i){if(e==="input"||e==="change")return Ru(i)}function QT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var fn=typeof Object.is=="function"?Object.is:QT;function Po(e,i){if(fn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ea.call(i,h)||!fn(e[h],i[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,i){var a=Tg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tg(a)}}function wg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?wg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=oa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=oa(e.document)}return i}function Gh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function KT(e,i){var a=Sg(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&wg(i.ownerDocument.documentElement,i)){if(l!==null&&Gh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=bg(i,d);var v=bg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var XT=hn&&"documentMode"in document&&11>=document.documentMode,_a=null,Yh=null,Uo=null,Qh=!1;function Ag(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||_a==null||_a!==oa(l)||(l=_a,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Po(Uo,l)||(Uo=l,l=lc(Yh,"onSelect"),0<l.length&&(i=new ca("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=_a)))}function Ts(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Kh={},Rg={};hn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function bs(e){if(Kh[e])return Kh[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Kh[e]=i[a];return e}var Ig=bs("animationend"),Cg=bs("animationiteration"),Dg=bs("animationstart"),WT=bs("transitionrun"),$T=bs("transitionstart"),ZT=bs("transitioncancel"),Og=bs("transitionend"),Ng=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(e,i){Ng.set(e,i),cn(i,[e])}var Rn=[],Ea=0,Xh=0;function Iu(){for(var e=Ea,i=Xh=Ea=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xg(a,h,d)}}function Cu(e,i,a,l){Rn[Ea++]=e,Rn[Ea++]=i,Rn[Ea++]=a,Rn[Ea++]=l,Xh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wh(e,i,a,l){return Cu(e,i,a,l),Du(e)}function pr(e,i){return Cu(e,null,null,i),Du(e)}function xg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Du(e){if(50<ll)throw ll=0,id=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={},kg=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=kg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:gt(i)},kg.set(e,i),i)}return{value:e,source:i,stack:gt(i)}}var ba=[],wa=0,Ou=null,Nu=0,Cn=[],Dn=0,ws=null,Ii=1,Ci="";function Ss(e,i){ba[wa++]=Nu,ba[wa++]=Ou,Ou=e,Nu=i}function Vg(e,i,a){Cn[Dn++]=Ii,Cn[Dn++]=Ci,Cn[Dn++]=ws,ws=e;var l=Ii;e=Ci;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-$e(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function $h(e){e.return!==null&&(Ss(e,1),Vg(e,1,0))}function Zh(e){for(;e===Ou;)Ou=ba[--wa],ba[wa]=null,Nu=ba[--wa],ba[wa]=null;for(;e===ws;)ws=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null,Ii=Cn[--Dn],Cn[Dn]=null}var tn=null,Ue=null,qt=!1,jn=null,ni=!1,Jh=Error(s(519));function As(e){var i=Error(s(418,""));throw jo(In(i,e)),Jh}function Pg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[De]=e,i[Ee]=l,a){case"dialog":kt("cancel",i),kt("close",i);break;case"iframe":case"object":case"embed":kt("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)kt(cl[a],i);break;case"source":kt("error",i);break;case"img":case"image":case"link":kt("error",i),kt("load",i);break;case"details":kt("toggle",i);break;case"input":kt("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hs(i);break;case"select":kt("invalid",i);break;case"textarea":kt("invalid",i),mr(i,l.value,l.defaultValue,l.children),hs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Gy(i.textContent,a)?(l.popover!=null&&(kt("beforetoggle",i),kt("toggle",i)),l.onScroll!=null&&kt("scroll",i),l.onScrollEnd!=null&&kt("scrollend",i),l.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||As(e)}function Ug(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:ni=!0;return;case 5:case 13:ni=!1;return;default:tn=tn.return}}function Lo(e){if(e!==tn)return!1;if(!qt)return Ug(e),qt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ed(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ue&&As(e),Ug(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ue=qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ue=null}}else Ue=tn?qn(e.stateNode.nextSibling):null;return!0}function zo(){Ue=tn=null,qt=!1}function jo(e){jn===null?jn=[e]:jn.push(e)}var Bo=Error(s(460)),Lg=Error(s(474)),tf={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(){}function jg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Mu,Mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Bo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Bo?Error(s(483)):e}throw qo=i,Bo}}var qo=null;function Bg(){if(qo===null)throw Error(s(459));var e=qo;return qo=null,e}var Sa=null,Ho=0;function xu(e){var i=Ho;return Ho+=1,Sa===null&&(Sa=[]),jg(Sa,e,i)}function Fo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ku(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function qg(e){var i=e._init;return i(e._payload)}function Hg(e){function i(P,x){if(e){var L=P.deletions;L===null?(P.deletions=[x],P.flags|=16):L.push(x)}}function a(P,x){if(!e)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=Cr(P,x),P.index=0,P.sibling=null,P}function d(P,x,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<x?(P.flags|=33554434,x):L):(P.flags|=33554434,x)):(P.flags|=1048576,x)}function v(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function E(P,x,L,Y){return x===null||x.tag!==6?(x=Xf(L,P.mode,Y),x.return=P,x):(x=h(x,L),x.return=P,x)}function A(P,x,L,Y){var lt=L.type;return lt===p?G(P,x,L.props.children,Y,L.key):x!==null&&(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===tt&&qg(lt)===x.type)?(x=h(x,L.props),Fo(x,L),x.return=P,x):(x=Zu(L.type,L.key,L.props,null,P.mode,Y),Fo(x,L),x.return=P,x)}function k(P,x,L,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Wf(L,P.mode,Y),x.return=P,x):(x=h(x,L.children||[]),x.return=P,x)}function G(P,x,L,Y,lt){return x===null||x.tag!==7?(x=Vs(L,P.mode,Y,lt),x.return=P,x):(x=h(x,L),x.return=P,x)}function W(P,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Xf(""+x,P.mode,L),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return L=Zu(x.type,x.key,x.props,null,P.mode,L),Fo(L,x),L.return=P,L;case m:return x=Wf(x,P.mode,L),x.return=P,x;case tt:var Y=x._init;return x=Y(x._payload),W(P,x,L)}if(it(x)||ot(x))return x=Vs(x,P.mode,L,null),x.return=P,x;if(typeof x.then=="function")return W(P,xu(x),L);if(x.$$typeof===B)return W(P,Xu(P,x),L);ku(P,x)}return null}function j(P,x,L,Y){var lt=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(P,x,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return L.key===lt?A(P,x,L,Y):null;case m:return L.key===lt?k(P,x,L,Y):null;case tt:return lt=L._init,L=lt(L._payload),j(P,x,L,Y)}if(it(L)||ot(L))return lt!==null?null:G(P,x,L,Y,null);if(typeof L.then=="function")return j(P,x,xu(L),Y);if(L.$$typeof===B)return j(P,x,Xu(P,L),Y);ku(P,L)}return null}function F(P,x,L,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,E(x,P,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:return P=P.get(Y.key===null?L:Y.key)||null,A(x,P,Y,lt);case m:return P=P.get(Y.key===null?L:Y.key)||null,k(x,P,Y,lt);case tt:var Ot=Y._init;return Y=Ot(Y._payload),F(P,x,L,Y,lt)}if(it(Y)||ot(Y))return P=P.get(L)||null,G(x,P,Y,lt,null);if(typeof Y.then=="function")return F(P,x,L,xu(Y),lt);if(Y.$$typeof===B)return F(P,x,L,Xu(x,Y),lt);ku(x,Y)}return null}function ct(P,x,L,Y){for(var lt=null,Ot=null,dt=x,_t=x=0,ke=null;dt!==null&&_t<L.length;_t++){dt.index>_t?(ke=dt,dt=null):ke=dt.sibling;var Ht=j(P,dt,L[_t],Y);if(Ht===null){dt===null&&(dt=ke);break}e&&dt&&Ht.alternate===null&&i(P,dt),x=d(Ht,x,_t),Ot===null?lt=Ht:Ot.sibling=Ht,Ot=Ht,dt=ke}if(_t===L.length)return a(P,dt),qt&&Ss(P,_t),lt;if(dt===null){for(;_t<L.length;_t++)dt=W(P,L[_t],Y),dt!==null&&(x=d(dt,x,_t),Ot===null?lt=dt:Ot.sibling=dt,Ot=dt);return qt&&Ss(P,_t),lt}for(dt=l(dt);_t<L.length;_t++)ke=F(dt,P,_t,L[_t],Y),ke!==null&&(e&&ke.alternate!==null&&dt.delete(ke.key===null?_t:ke.key),x=d(ke,x,_t),Ot===null?lt=ke:Ot.sibling=ke,Ot=ke);return e&&dt.forEach(function(Vr){return i(P,Vr)}),qt&&Ss(P,_t),lt}function bt(P,x,L,Y){if(L==null)throw Error(s(151));for(var lt=null,Ot=null,dt=x,_t=x=0,ke=null,Ht=L.next();dt!==null&&!Ht.done;_t++,Ht=L.next()){dt.index>_t?(ke=dt,dt=null):ke=dt.sibling;var Vr=j(P,dt,Ht.value,Y);if(Vr===null){dt===null&&(dt=ke);break}e&&dt&&Vr.alternate===null&&i(P,dt),x=d(Vr,x,_t),Ot===null?lt=Vr:Ot.sibling=Vr,Ot=Vr,dt=ke}if(Ht.done)return a(P,dt),qt&&Ss(P,_t),lt;if(dt===null){for(;!Ht.done;_t++,Ht=L.next())Ht=W(P,Ht.value,Y),Ht!==null&&(x=d(Ht,x,_t),Ot===null?lt=Ht:Ot.sibling=Ht,Ot=Ht);return qt&&Ss(P,_t),lt}for(dt=l(dt);!Ht.done;_t++,Ht=L.next())Ht=F(dt,P,_t,Ht.value,Y),Ht!==null&&(e&&Ht.alternate!==null&&dt.delete(Ht.key===null?_t:Ht.key),x=d(Ht,x,_t),Ot===null?lt=Ht:Ot.sibling=Ht,Ot=Ht);return e&&dt.forEach(function(f1){return i(P,f1)}),qt&&Ss(P,_t),lt}function ce(P,x,L,Y){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case f:t:{for(var lt=L.key;x!==null;){if(x.key===lt){if(lt=L.type,lt===p){if(x.tag===7){a(P,x.sibling),Y=h(x,L.props.children),Y.return=P,P=Y;break t}}else if(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===tt&&qg(lt)===x.type){a(P,x.sibling),Y=h(x,L.props),Fo(Y,L),Y.return=P,P=Y;break t}a(P,x);break}else i(P,x);x=x.sibling}L.type===p?(Y=Vs(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Zu(L.type,L.key,L.props,null,P.mode,Y),Fo(Y,L),Y.return=P,P=Y)}return v(P);case m:t:{for(lt=L.key;x!==null;){if(x.key===lt)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(P,x.sibling),Y=h(x,L.children||[]),Y.return=P,P=Y;break t}else{a(P,x);break}else i(P,x);x=x.sibling}Y=Wf(L,P.mode,Y),Y.return=P,P=Y}return v(P);case tt:return lt=L._init,L=lt(L._payload),ce(P,x,L,Y)}if(it(L))return ct(P,x,L,Y);if(ot(L)){if(lt=ot(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),bt(P,x,L,Y)}if(typeof L.then=="function")return ce(P,x,xu(L),Y);if(L.$$typeof===B)return ce(P,x,Xu(P,L),Y);ku(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(P,x.sibling),Y=h(x,L),Y.return=P,P=Y):(a(P,x),Y=Xf(L,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,x)}return function(P,x,L,Y){try{Ho=0;var lt=ce(P,x,L,Y);return Sa=null,lt}catch(dt){if(dt===Bo)throw dt;var Ot=xn(29,dt,null,P.mode);return Ot.lanes=Y,Ot.return=P,Ot}finally{}}}var Rs=Hg(!0),Fg=Hg(!1),Aa=jt(null),Vu=jt(0);function Gg(e,i){e=zi,Kt(Vu,e),Kt(Aa,i),zi=e|i.baseLanes}function ef(){Kt(Vu,zi),Kt(Aa,Aa.current)}function nf(){zi=Vu.current,ae(Aa),ae(Vu)}var On=jt(null),ii=null;function yr(e){var i=e.alternate;Kt(we,we.current&1),Kt(On,e),ii===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(ii=e)}function Yg(e){if(e.tag===22){if(Kt(we,we.current),Kt(On,e),ii===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ii=e)}}else _r()}function _r(){Kt(we,we.current),Kt(On,On.current)}function Di(e){ae(On),ii===e&&(ii=null),ae(we)}var we=jt(0);function Pu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var JT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},tb=r.unstable_scheduleCallback,eb=r.unstable_NormalPriority,Se={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new JT,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&tb(eb,function(){e.controller.abort()})}var Yo=null,sf=0,Ra=0,Ia=null;function nb(e,i){if(Yo===null){var a=Yo=[];sf=0,Ra=hd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,i.then(Qg,Qg),i}function Qg(){if(--sf===0&&Yo!==null){Ia!==null&&(Ia.status="fulfilled");var e=Yo;Yo=null,Ra=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ib(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=w.S;w.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nb(e,i),Kg!==null&&Kg(e,i)};var Is=jt(null);function af(){var e=Is.current;return e!==null?e:Jt.pooledCache}function Uu(e,i){i===null?Kt(Is,Is.current):Kt(Is,i.pool)}function Xg(){var e=af();return e===null?null:{parent:Se._currentValue,pool:e}}var vr=0,Ct=null,Wt=null,ge=null,Lu=!1,Ca=!1,Cs=!1,zu=0,Qo=0,Da=null,rb=0;function fe(){throw Error(s(321))}function of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!fn(e[a],i[a]))return!1;return!0}function lf(e,i,a,l,h,d){return vr=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=e===null||e.memoizedState===null?Ds:Er,Cs=!1,d=a(l,h),Cs=!1,Ca&&(d=$g(i,a,l,h)),Wg(e),d}function Wg(e){w.H=ri;var i=Wt!==null&&Wt.next!==null;if(vr=0,ge=Wt=Ct=null,Lu=!1,Qo=0,Da=null,i)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Ku(e)&&(Me=!0))}function $g(e,i,a,l){Ct=e;var h=0;do{if(Ca&&(Da=null),Qo=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,ge=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Os,d=i(a,l)}while(Ca);return d}function sb(){var e=w.H,i=e.useState()[0];return i=typeof i.then=="function"?Ko(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function uf(){var e=zu!==0;return zu=0,e}function cf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function hf(e){if(Lu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Lu=!1}vr=0,ge=Wt=Ct=null,Ca=!1,Qo=zu=0,Da=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Ct.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=ge===null?Ct.memoizedState:ge.next;if(i!==null)ge=i,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},ge===null?Ct.memoizedState=ge=e:ge=ge.next=e}return ge}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ko(e){var i=Qo;return Qo+=1,Da===null&&(Da=[]),e=jg(Da,e,i),i=Ct,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Ds:Er),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===B)return Fe(e)}throw Error(s(438,String(e)))}function ff(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ju(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=yt;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function qu(e){var i=pe();return df(i,Wt,e)}function df(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,A=null,k=i,G=!1;do{var W=k.lane&-536870913;if(W!==k.lane?(Lt&W)===W:(vr&W)===W){var j=k.revertLane;if(j===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),W===Ra&&(G=!0);else if((vr&j)===j){k=k.next,j===Ra&&(G=!0);continue}else W={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(E=A=W,v=d):A=A.next=W,Ct.lanes|=j,Dr|=j;W=k.action,Cs&&a(d,W),d=k.hasEagerState?k.eagerState:a(d,W)}else j={lane:W,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(E=A=j,v=d):A=A.next=j,Ct.lanes|=W,Dr|=W;k=k.next}while(k!==null&&k!==i);if(A===null?v=d:A.next=E,!fn(d,e.memoizedState)&&(Me=!0,G&&(a=Ia,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=A,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Zg(e,i,a){var l=Ct,h=pe(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Wt||h).memoizedState,a);if(v&&(h.memoizedState=a,Me=!0),h=h.queue,yf(ep.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Oa(9,tp.bind(null,l,h,a,i),{destroy:void 0},null),Jt===null)throw Error(s(349));d||(vr&60)!==0||Jg(l,i,a)}return a}function Jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=ju(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function tp(e,i,a,l){i.value=a,i.getSnapshot=l,np(i)&&ip(e)}function ep(e,i,a){return a(function(){np(i)&&ip(e)})}function np(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!fn(e,a)}catch{return!0}}function ip(e){var i=pr(e,2);i!==null&&en(i,e,2)}function gf(e){var i=on();if(typeof e=="function"){var a=e;if(e=a(),Cs){Gn(!0);try{a()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function rp(e,i,a,l){return e.baseState=a,df(e,Wt,typeof l=="function"?l:Oi)}function ab(e,i,a,l,h){if(Gu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,sp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function sp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var E=a(h,l),A=w.S;A!==null&&A(v,E),ap(e,i,E)}catch(k){pf(e,i,k)}finally{w.T=d}}else try{d=a(h,l),ap(e,i,d)}catch(k){pf(e,i,k)}}function ap(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){op(e,i,l)},function(l){return pf(e,i,l)}):op(e,i,a)}function op(e,i,a){i.status="fulfilled",i.value=a,lp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,sp(e,a)))}function pf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,lp(i),i=i.next;while(i!==l)}e.action=null}function lp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function up(e,i){return i}function cp(e,i){if(qt){var a=Jt.formState;if(a!==null){t:{var l=Ct;if(qt){if(Ue){e:{for(var h=Ue,d=ni;h.nodeType!==8;){if(!d){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ue=qn(h.nextSibling),l=h.data==="F!";break t}}As(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:i},a.queue=l,a=Cp.bind(null,Ct,l),l.dispatch=a,l=gf(!1),d=bf.bind(null,Ct,!1,l.queue),l=on(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ab.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function hp(e){var i=pe();return fp(i,Wt,e)}function fp(e,i,a){i=df(e,i,up)[0],e=qu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Ko(i):i;var l=pe(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,Oa(9,ob.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function ob(e,i){e.action=i}function dp(e){var i=pe(),a=Wt;if(a!==null)return fp(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Oa(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Ct.updateQueue,i===null&&(i=ju(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function mp(){return pe().memoizedState}function Hu(e,i,a,l){var h=on();Ct.flags|=e,h.memoizedState=Oa(1|i,a,{destroy:void 0},l===void 0?null:l)}function Fu(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&of(l,Wt.memoizedState.deps)?h.memoizedState=Oa(i,a,d,l):(Ct.flags|=e,h.memoizedState=Oa(1|i,a,d,l))}function gp(e,i){Hu(8390656,8,e,i)}function yf(e,i){Fu(2048,8,e,i)}function pp(e,i){return Fu(4,2,e,i)}function yp(e,i){return Fu(4,4,e,i)}function _p(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function vp(e,i,a){a=a!=null?a.concat([e]):null,Fu(4,4,_p.bind(null,i,e),a)}function _f(){}function Ep(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&of(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Tp(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&of(i,l[1]))return l[0];if(l=e(),Cs){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,i],l}function vf(e,i,a){return a===void 0||(vr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=wy(),Ct.lanes|=e,Dr|=e,a)}function bp(e,i,a,l){return fn(a,i)?a:Aa.current!==null?(e=vf(e,a,l),fn(e,i)||(Me=!0),e):(vr&42)===0?(Me=!0,e.memoizedState=a):(e=wy(),Ct.lanes|=e,Dr|=e,i)}function wp(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=w.T,E={};w.T=E,bf(e,!1,i,a);try{var A=h(),k=w.S;if(k!==null&&k(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=ib(A,l);Xo(e,i,G,pn(e))}else Xo(e,i,l,pn(e))}catch(W){Xo(e,i,{then:function(){},status:"rejected",reason:W},pn())}finally{rt.p=d,w.T=v}}function lb(){}function Ef(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Sp(e).queue;wp(e,h,i,It,a===null?lb:function(){return Ap(e),a(l)})}function Sp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:It},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ap(e){var i=Sp(e).next.queue;Xo(e,i,{},pn())}function Tf(){return Fe(gl)}function Rp(){return pe().memoizedState}function Ip(){return pe().memoizedState}function ub(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=wr(a);var l=Sr(i,e,a);l!==null&&(en(l,i,a),Zo(l,i,a)),i={cache:rf()},e.payload=i;return}i=i.return}}function cb(e,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Dp(i,a):(a=Wh(e,i,a,l),a!==null&&(en(a,e,l),Op(a,i,l)))}function Cp(e,i,a){var l=pn();Xo(e,i,a,l)}function Xo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Dp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,fn(E,v))return Cu(e,i,h,0),Jt===null&&Iu(),!1}catch{}finally{}if(a=Wh(e,i,h,l),a!==null)return en(a,e,l),Op(a,i,l),!0}return!1}function bf(e,i,a,l){if(l={lane:2,revertLane:hd(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(i)throw Error(s(479))}else i=Wh(e,a,l,2),i!==null&&en(i,e,2)}function Gu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function Dp(e,i){Ca=Lu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Op(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ar(e,a)}}var ri={readContext:Fe,use:Bu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};ri.useCacheRefresh=fe,ri.useMemoCache=fe,ri.useHostTransitionStatus=fe,ri.useFormState=fe,ri.useActionState=fe,ri.useOptimistic=fe;var Ds={readContext:Fe,use:Bu,useCallback:function(e,i){return on().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:gp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,_p.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Hu(4194308,4,e,i)},useInsertionEffect:function(e,i){Hu(4,2,e,i)},useMemo:function(e,i){var a=on();i=i===void 0?null:i;var l=e();if(Cs){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=on();if(a!==void 0){var h=a(i);if(Cs){Gn(!0);try{a(i)}finally{Gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=cb.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=on();return e={current:e},i.memoizedState=e},useState:function(e){e=gf(e);var i=e.queue,a=Cp.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(e,i){var a=on();return vf(a,e,i)},useTransition:function(){var e=gf(!1);return e=wp.bind(null,Ct,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=on();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(Lt&60)!==0||Jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,gp(ep.bind(null,l,d,e),[e]),l.flags|=2048,Oa(9,tp.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=on(),i=Jt.identifierPrefix;if(qt){var a=Ci,l=Ii;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=zu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=rb++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return on().memoizedState=ub.bind(null,Ct)}};Ds.useMemoCache=ff,Ds.useHostTransitionStatus=Tf,Ds.useFormState=cp,Ds.useActionState=cp,Ds.useOptimistic=function(e){var i=on();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]};var Er={readContext:Fe,use:Bu,useCallback:Ep,useContext:Fe,useEffect:yf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:qu,useRef:mp,useState:function(){return qu(Oi)},useDebugValue:_f,useDeferredValue:function(e,i){var a=pe();return bp(a,Wt.memoizedState,e,i)},useTransition:function(){var e=qu(Oi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Ko(e),i]},useSyncExternalStore:Zg,useId:Rp};Er.useCacheRefresh=Ip,Er.useMemoCache=ff,Er.useHostTransitionStatus=Tf,Er.useFormState=hp,Er.useActionState=hp,Er.useOptimistic=function(e,i){var a=pe();return rp(a,Wt,e,i)};var Os={readContext:Fe,use:Bu,useCallback:Ep,useContext:Fe,useEffect:yf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:mf,useRef:mp,useState:function(){return mf(Oi)},useDebugValue:_f,useDeferredValue:function(e,i){var a=pe();return Wt===null?vf(a,e,i):bp(a,Wt.memoizedState,e,i)},useTransition:function(){var e=mf(Oi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Ko(e),i]},useSyncExternalStore:Zg,useId:Rp};Os.useCacheRefresh=Ip,Os.useMemoCache=ff,Os.useHostTransitionStatus=Tf,Os.useFormState=dp,Os.useActionState=dp,Os.useOptimistic=function(e,i){var a=pe();return Wt!==null?rp(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function wf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Sf={isMounted:function(e){return(e=e._reactInternals)?ut(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=pn(),h=wr(l);h.payload=i,a!=null&&(h.callback=a),i=Sr(e,h,l),i!==null&&(en(i,e,l),Zo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=pn(),h=wr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Sr(e,h,l),i!==null&&(en(i,e,l),Zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),l=wr(a);l.tag=2,i!=null&&(l.callback=i),i=Sr(e,l,a),i!==null&&(en(i,e,a),Zo(i,e,a))}};function Np(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Po(a,l)||!Po(h,d):!0}function Mp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Sf.enqueueReplaceState(i,i.state,null)}function Ns(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xp(e){Yu(e)}function kp(e){console.error(e)}function Vp(e){Yu(e)}function Qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Pp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,i)},a}function Up(e){return e=wr(e),e.tag=3,e}function Lp(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Pp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Pp(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$o(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ii===null?ad():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ld(e,l,h)),!1;case 22:return a.flags|=65536,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ld(e,l,h)),!1}throw Error(s(435,a.tag))}return ld(e,l,h),ad(),!1}if(qt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Jh&&(e=Error(s(422),{cause:l}),jo(In(e,a)))):(l!==Jh&&(i=Error(s(423),{cause:l}),jo(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,a),h=Af(e.stateNode,l,h),jf(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),al===null?al=[d]:al.push(d),ue!==4&&(ue=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Af(a.stateNode,l,e),jf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Up(h),Lp(h,e,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var zp=Error(s(461)),Me=!1;function Le(e,i,a,l){i.child=e===null?Fg(i,null,a,l):Rs(i,e.child,a,l)}function jp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return xs(i),l=lf(e,i,a,v,d,h),E=uf(),e!==null&&!Me?(cf(e,i,h),Ni(e,i,h)):(qt&&E&&$h(i),i.flags|=1,Le(e,i,l,h),i.child)}function Bp(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Kf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qp(e,i,d,l,h)):(e=Zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!kf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(v,l)&&e.ref===i.ref)return Ni(e,i,h)}return i.flags|=1,e=Cr(d,l),e.ref=i.ref,e.return=i,i.child=e}function qp(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Po(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,kf(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,Ni(e,i,h)}return Rf(e,i,a,l,h)}function Hp(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Wo(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Fp(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(i,v!==null?v.cachePool:null),v!==null?Gg(i,v):ef(),Yg(i);else return i.lanes=i.childLanes=536870912,Fp(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Uu(i,v.cachePool),Gg(i,v),_r(),i.memoizedState=null):(e!==null&&Uu(i,null),ef(),_r());return Le(e,i,h,a),i.child}function Fp(e,i,a,l){var h=af();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Uu(i,null),ef(),Yg(i),e!==null&&$o(e,i,l,!0),null}function Wo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Rf(e,i,a,l,h){return xs(i),a=lf(e,i,a,l,void 0,h),l=uf(),e!==null&&!Me?(cf(e,i,h),Ni(e,i,h)):(qt&&l&&$h(i),i.flags|=1,Le(e,i,a,h),i.child)}function Gp(e,i,a,l,h,d){return xs(i),i.updateQueue=null,a=$g(i,l,a,h),Wg(e),l=uf(),e!==null&&!Me?(cf(e,i,d),Ni(e,i,d)):(qt&&l&&$h(i),i.flags|=1,Le(e,i,a,d),i.child)}function Yp(e,i,a,l,h){if(xs(i),i.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Lf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):Ta,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(wf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,A=Ns(a,E);d.props=A;var k=d.context,G=a.contextType;v=Ta,typeof G=="object"&&G!==null&&(v=Fe(G));var W=a.getDerivedStateFromProps;G=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||k!==v)&&Mp(i,d,l,v),br=!1;var j=i.memoizedState;d.state=j,tl(i,l,d,h),Jo(),k=i.memoizedState,E||j!==k||br?(typeof W=="function"&&(wf(i,a,W,l),k=i.memoizedState),(A=br||Np(i,a,A,l,j,k,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=A):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,zf(e,i),v=i.memoizedProps,G=Ns(a,v),d.props=G,W=i.pendingProps,j=d.context,k=a.contextType,A=Ta,typeof k=="object"&&k!==null&&(A=Fe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||j!==A)&&Mp(i,d,l,A),br=!1,j=i.memoizedState,d.state=j,tl(i,l,d,h),Jo();var F=i.memoizedState;v!==W||j!==F||br||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof E=="function"&&(wf(i,a,E,l),F=i.memoizedState),(G=br||Np(i,a,G,l,j,F,A)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,A)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=A,l=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Wo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Rs(i,e.child,null,h),i.child=Rs(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ni(e,i,h),e}function Qp(e,i,a,l){return zo(),i.flags|=256,Le(e,i,a,l),i.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Cf(e){return{baseLanes:e,cachePool:Xg()}}function Df(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function Kp(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?yr(i):_r(),qt){var E=Ue,A;if(A=E){t:{for(A=E,E=ni;A.nodeType!==8;){if(!E){E=null;break t}if(A=qn(A.nextSibling),A===null){E=null;break t}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:ws!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912},A=xn(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,tn=i,Ue=null,A=!0):A=!1}A||As(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return E=l.children,l=l.fallback,h?(_r(),h=i.mode,E=Nf({mode:"hidden",children:E},h),l=Vs(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Cf(a),h.childLanes=Df(e,v,a),i.memoizedState=If,l):(yr(i),Of(i,E))}if(A=e.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=Mf(e,i,a)):i.memoizedState!==null?(_r(),i.child=e.child,i.flags|=128,i=null):(_r(),h=l.fallback,E=i.mode,l=Nf({mode:"visible",children:l.children},E),h=Vs(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Rs(i,e.child,null,a),l=i.child,l.memoizedState=Cf(a),l.childLanes=Df(e,v,a),i.memoizedState=If,i=h);else if(yr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,jo({value:l,source:null,stack:null}),i=Mf(e,i,a)}else if(Me||$o(e,i,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=Jt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==A.retryLane)throw A.retryLane=l,pr(e,l),en(v,e,l),zp}E.data==="$?"||ad(),i=Mf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=Rb.bind(null,e),E._reactRetry=i,i=null):(e=A.treeContext,Ue=qn(E.nextSibling),tn=i,qt=!0,jn=null,ni=!1,e!==null&&(Cn[Dn++]=Ii,Cn[Dn++]=Ci,Cn[Dn++]=ws,Ii=e.id,Ci=e.overflow,ws=i),i=Of(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,E=i.mode,A=e.child,k=A.sibling,l=Cr(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&31457280,k!==null?h=Cr(k,h):(h=Vs(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Cf(a):(A=E.cachePool,A!==null?(k=Se._currentValue,A=A.parent!==k?{parent:k,pool:k}:A):A=Xg(),E={baseLanes:E.baseLanes|a,cachePool:A}),h.memoizedState=E,h.childLanes=Df(e,v,a),i.memoizedState=If,l):(yr(i),a=e.child,e=a.sibling,a=Cr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Of(e,i){return i=Nf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Nf(e,i){return Ey(e,i,0,null)}function Mf(e,i,a){return Rs(i,e.child,null,a),e=Of(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Xp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Pf(e.return,i,a)}function xf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xp(e,a,i);else if(e.tag===19)Xp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),xf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}xf(i,!0,a,null,d);break;case"together":xf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if($o(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Cr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Cr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function kf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function fb(e,i,a){switch(i.tag){case 3:tr(i,i.stateNode.containerInfo),Tr(i,Se,e.memoizedState.cache),zo();break;case 27:case 5:go(i);break;case 4:tr(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Kp(e,i,a):(yr(i),e=Ni(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($o(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Wp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,Hp(e,i,a);case 24:Tr(i,Se,e.memoizedState.cache)}return Ni(e,i,a)}function $p(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!kf(e,a)&&(i.flags&128)===0)return Me=!1,fb(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,qt&&(i.flags&1048576)!==0&&Vg(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Kf(l)?(e=Ns(l,e),i.tag=1,i=Yp(null,i,l,e,a)):(i.tag=0,i=Rf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===H){i.tag=11,i=jp(null,i,l,e,a);break t}else if(h===ft){i.tag=14,i=Bp(null,i,l,e,a);break t}}throw i=S(l)||l,Error(s(306,i,""))}}return i;case 0:return Rf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ns(l,i.pendingProps),Yp(e,i,l,h,a);case 3:t:{if(tr(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,zf(e,i),tl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Tr(i,Se,d),d!==h.cache&&Uf(i,[Se],a,!0),Jo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Qp(e,i,d,a);break t}else if(d!==l){l=In(Error(s(424)),i),jo(l),i=Qp(e,i,d,a);break t}else for(Ue=qn(i.stateNode.containerInfo.firstChild),tn=i,qt=!0,jn=null,ni=!0,a=Fg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zo(),d===l){i=Ni(e,i,a);break t}Le(e,i,d,a)}i=i.child}return i;case 26:return Wo(e,i),e===null?(a=t_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=cc(vn.current).createElement(a),l[De]=i,l[Ee]=e,ze(l,a,e),ne(l),i.stateNode=l):i.memoizedState=t_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return go(i),e===null&&qt&&(l=i.stateNode=$y(i.type,i.pendingProps,vn.current),tn=i,ni=!0,Ue=qn(l.firstChild)),l=i.pendingProps.children,e!==null||qt?Le(e,i,l,a):i.child=Rs(i,null,l,a),Wo(e,i),i.child;case 5:return e===null&&qt&&((h=l=Ue)&&(l=qb(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,tn=i,Ue=qn(l.firstChild),ni=!1,h=!0):h=!1),h||As(i)),go(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Ed(h,d)?l=null:v!==null&&Ed(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=lf(e,i,sb,null,null,a),gl._currentValue=h),Wo(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=Ue)&&(a=Hb(a,i.pendingProps,ni),a!==null?(i.stateNode=a,tn=i,Ue=null,e=!0):e=!1),e||As(i)),null;case 13:return Kp(e,i,a);case 4:return tr(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Rs(i,null,l,a):Le(e,i,l,a),i.child;case 11:return jp(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Tr(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xs(i),h=Fe(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return Bp(e,i,i.type,i.pendingProps,a);case 15:return qp(e,i,i.type,i.pendingProps,a);case 19:return Wp(e,i,a);case 22:return Hp(e,i,a);case 24:return xs(i),l=Fe(Se),e===null?(h=af(),h===null&&(h=Jt,d=rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Lf(i),Tr(i,Se,h)):((e.lanes&a)!==0&&(zf(e,i),tl(i,null,null,a),Jo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,Se,l)):(l=d.cache,Tr(i,Se,l),l!==h.cache&&Uf(i,[Se],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Vf=jt(null),Ms=null,Mi=null;function Tr(e,i,a){Kt(Vf,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=Vf.current,ae(Vf)}function Pf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Uf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var A=0;A<i.length;A++)if(E.context===i[A]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Pf(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Pf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;fn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ji.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&Uf(i,e,a,l),i.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Ms=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Zp(Ms,e)}function Xu(e,i){return Ms===null&&xs(e),Zp(e,i)}function Zp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return a}var br=!1;function Lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(re&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Du(e),xg(e,null,a),i}return Cu(e,l,i,a),Du(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ar(e,a)}}function jf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Bf=!1;function Jo(){if(Bf){var e=Ia;if(e!==null)throw e}}function tl(e,i,a,l){Bf=!1;var h=e.updateQueue;br=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var A=E,k=A.next;A.next=null,v===null?d=k:v.next=k,v=A;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=k:E.next=k,G.lastBaseUpdate=A))}if(d!==null){var W=h.baseState;v=0,G=k=A=null,E=d;do{var j=E.lane&-536870913,F=j!==E.lane;if(F?(Lt&j)===j:(l&j)===j){j!==0&&j===Ra&&(Bf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,bt=E;j=i;var ce=a;switch(bt.tag){case 1:if(ct=bt.payload,typeof ct=="function"){W=ct.call(ce,W,j);break t}W=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=bt.payload,j=typeof ct=="function"?ct.call(ce,W,j):ct,j==null)break t;W=C({},W,j);break t;case 2:br=!0}}j=E.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(k=G=F,A=W):G=G.next=F,v|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(A=W),h.baseState=A,h.firstBaseUpdate=k,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Dr|=v,e.lanes=v,e.memoizedState=W}}function Jp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ty(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jp(a[e],i)}function el(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Zt(i,i.return,E)}}function Ar(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var A=a;try{E()}catch(k){Zt(h,A,k)}}}l=l.next}while(l!==d)}}catch(k){Zt(i,i.return,k)}}function ey(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ty(i,a)}catch(l){Zt(e,e.return,l)}}}function ny(e,i,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function ks(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Zt(e,i,d)}}function dn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function iy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function ry(e,i,a){try{var l=e.stateNode;Ub(l,e.type,a,i),l[Ee]=i}catch(h){Zt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Hf(e,i,a),e=e.sibling;e!==null;)Hf(e,i,a),e=e.sibling}function Wu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wu(e,i,a),e=e.sibling;e!==null;)Wu(e,i,a),e=e.sibling}var ki=!1,le=!1,Ff=!1,ay=typeof WeakSet=="function"?WeakSet:Set,xe=null,oy=!1;function db(e,i){if(e=e.containerInfo,_d=pc,e=Sg(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,A=-1,k=0,G=0,W=e,j=null;e:for(;;){for(var F;W!==a||h!==0&&W.nodeType!==3||(E=v+h),W!==d||l!==0&&W.nodeType!==3||(A=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)j=W,W=F;for(;;){if(W===e)break e;if(j===a&&++k===h&&(E=v),j===d&&++G===l&&(A=v),(F=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=F}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:e,selectionRange:a},pc=!1,xe=i;xe!==null;)if(i=xe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,xe=e;else for(;xe!==null;){switch(i=xe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Ns(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Zt(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,xe=e;break}xe=i.return}return ct=oy,oy=!1,ct}function ly(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(e,a),l&4&&el(5,a);break;case 1:if(Pi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Zt(a,a.return,E)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(a,a.return,E)}}l&64&&ey(a),l&512&&ks(a,a.return);break;case 3:if(Pi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{ty(l,e)}catch(E){Zt(a,a.return,E)}}break;case 26:Pi(e,a),l&512&&ks(a,a.return);break;case 27:case 5:Pi(e,a),i===null&&l&4&&iy(a),l&512&&ks(a,a.return);break;case 12:Pi(e,a);break;case 13:Pi(e,a),l&4&&hy(e,a);break;case 22:if(h=a.memoizedState!==null||ki,!h){i=i!==null&&i.memoizedState!==null||le;var d=ki,v=le;ki=h,(le=i)&&!v?Rr(e,a,(a.subtreeFlags&8772)!==0):Pi(e,a),ki=d,le=v}l&512&&(a.memoizedProps.mode==="manual"?ks(a,a.return):dn(a,a.return));break;default:Pi(e,a)}}function uy(e){var i=e.alternate;i!==null&&(e.alternate=null,uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&cs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,mn=!1;function Vi(e,i,a){for(a=a.child;a!==null;)cy(e,i,a),a=a.sibling}function cy(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(er,a)}catch{}switch(a.tag){case 26:le||dn(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:le||dn(a,i);var l=ye,h=mn;for(ye=a.stateNode,Vi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);cs(a),ye=l,mn=h;break;case 5:le||dn(a,i);case 6:h=ye;var d=mn;if(ye=null,Vi(e,i,a),ye=h,mn=d,ye!==null)if(mn)try{e=ye,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Zt(a,i,v)}else try{ye.removeChild(a.stateNode)}catch(v){Zt(a,i,v)}break;case 18:ye!==null&&(mn?(i=ye,a=a.stateNode,i.nodeType===8?bd(i.parentNode,a):i.nodeType===1&&bd(i,a),vl(i)):bd(ye,a.stateNode));break;case 4:l=ye,h=mn,ye=a.stateNode.containerInfo,mn=!0,Vi(e,i,a),ye=l,mn=h;break;case 0:case 11:case 14:case 15:le||Ar(2,a,i),le||Ar(4,a,i),Vi(e,i,a);break;case 1:le||(dn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ny(a,i,l)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:le||dn(a,i),le=(l=le)||a.memoizedState!==null,Vi(e,i,a),le=l;break;default:Vi(e,i,a)}}function hy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vl(e)}catch(a){Zt(i,i.return,a)}}function mb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ay),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ay),i;default:throw Error(s(435,e.tag))}}function Gf(e,i){var a=mb(e);i.forEach(function(l){var h=Ib.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ye=E.stateNode,mn=!1;break t;case 3:ye=E.stateNode.containerInfo,mn=!0;break t;case 4:ye=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(ye===null)throw Error(s(160));cy(d,v,h),ye=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fy(i,e),i=i.sibling}var Bn=null;function fy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),Mn(e),l&4&&(Ar(3,e,e.return),el(3,e),Ar(5,e,e.return));break;case 1:Nn(i,e),Mn(e),l&512&&(le||a===null||dn(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(Nn(i,e),Mn(e),l&512&&(le||a===null||dn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[lr]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[De]=e,ne(d),l=d;break t;case"link":var v=i_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=i_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,ne(d),l=d}e.stateNode=l}else r_(h,e.type,e.stateNode);else e.stateNode=n_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?r_(h,e.type,e.stateNode):n_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ry(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var A=h.firstChild;A;){var k=A.nextSibling,G=A.nodeName;A[lr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||h.removeChild(A),A=k}for(var W=e.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);ze(h,W,d),h[De]=e,h[Ee]=d}catch(ct){Zt(e,e.return,ct)}}case 5:if(Nn(i,e),Mn(e),l&512&&(le||a===null||dn(a,a.return)),e.flags&32){h=e.stateNode;try{bn(h,"")}catch(ct){Zt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ry(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(Nn(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Zt(e,e.return,ct)}}break;case 3:if(dc=null,h=Bn,Bn=hc(i.containerInfo),Nn(i,e),Bn=h,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vl(i.containerInfo)}catch(ct){Zt(e,e.return,ct)}Ff&&(Ff=!1,dy(e));break;case 4:l=Bn,Bn=hc(e.stateNode.containerInfo),Nn(i,e),Mn(e),Bn=l;break;case 12:Nn(i,e),Mn(e);break;case 13:Nn(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(td=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gf(e,l)));break;case 22:if(l&512&&(le||a===null||dn(a,a.return)),A=e.memoizedState!==null,k=a!==null&&a.memoizedState!==null,G=ki,W=le,ki=G||A,le=W||k,Nn(i,e),le=W,ki=G,Mn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=A?i._visibility&-2:i._visibility|1,A&&(i=ki||le,a===null||k||i||Na(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,A)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,E=k.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ct){Zt(k,k.return,ct)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=A?"":k.memoizedProps}catch(ct){Zt(k,k.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gf(e,a))));break;case 19:Nn(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gf(e,l)));break;case 21:break;default:Nn(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(sy(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=qf(e);Wu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(bn(v,""),l.flags&=-33);var E=qf(e);Wu(e,E,v);break;case 3:case 4:var A=l.stateNode.containerInfo,k=qf(e);Hf(e,k,A);break;default:throw Error(s(161))}}}catch(G){Zt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(e,i.alternate,i),i=i.sibling}function Na(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ar(4,i,i.return),Na(i);break;case 1:dn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ny(i,i.return,a),Na(i);break;case 26:case 27:case 5:dn(i,i.return),Na(i);break;case 22:dn(i,i.return),i.memoizedState===null&&Na(i);break;default:Na(i)}e=e.sibling}}function Rr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),el(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Zt(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Jp(A[h],E)}catch(k){Zt(l,l.return,k)}}a&&v&64&&ey(d),ks(d,d.return);break;case 26:case 27:case 5:Rr(h,d,a),a&&l===null&&v&4&&iy(d),ks(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&hy(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),ks(d,d.return);break;default:Rr(h,d,a)}i=i.sibling}}function Yf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function Qf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function Ir(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)my(e,i,a,l),i=i.sibling}function my(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(e,i,a,l),h&2048&&el(9,i);break;case 3:Ir(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Ir(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Zt(i,i.return,A)}}else Ir(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ir(e,i,a,l):nl(e,i):d._visibility&4?Ir(e,i,a,l):(d._visibility|=4,Ma(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Yf(i.alternate,i);break;case 24:Ir(e,i,a,l),h&2048&&Qf(i.alternate,i);break;default:Ir(e,i,a,l)}}function Ma(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,A=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Ma(d,v,E,A,h),el(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?Ma(d,v,E,A,h):nl(d,v):(G._visibility|=4,Ma(d,v,E,A,h)),h&&k&2048&&Yf(v.alternate,v);break;case 24:Ma(d,v,E,A,h),h&&k&2048&&Qf(v.alternate,v);break;default:Ma(d,v,E,A,h)}i=i.sibling}}function nl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:nl(a,l),h&2048&&Yf(l.alternate,l);break;case 24:nl(a,l),h&2048&&Qf(l.alternate,l);break;default:nl(a,l)}i=i.sibling}}var il=8192;function xa(e){if(e.subtreeFlags&il)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 26:xa(e),e.flags&il&&e.memoizedState!==null&&n1(Bn,e.memoizedState,e.memoizedProps);break;case 5:xa(e);break;case 3:case 4:var i=Bn;Bn=hc(e.stateNode.containerInfo),xa(e),Bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=il,il=16777216,xa(e),il=i):xa(e));break;default:xa(e)}}function py(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function rl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xe=l,_y(l,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,$u(e)):rl(e);break;default:rl(e)}}function $u(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xe=l,_y(l,e)}py(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ar(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,$u(i));break;default:$u(i)}e=e.sibling}}function _y(e,i){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:Ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var h=l.sibling,d=l.return;if(uy(l),l===a){xe=null;break t}if(h!==null){h.return=d,xe=h;break t}xe=d}}}function gb(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,i,a,l){return new gb(e,i,a,l)}function Kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cr(e,i){var a=e.alternate;return a===null?(a=xn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vy(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Zu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Kf(e)&&(v=1);else if(typeof e=="string")v=t1(e,a,We.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Vs(a.children,h,d,i);case y:v=8,h|=24;break;case b:return e=xn(12,a,i,h|2),e.elementType=b,e.lanes=d,e;case X:return e=xn(13,a,i,h),e.elementType=X,e.lanes=d,e;case K:return e=xn(19,a,i,h),e.elementType=K,e.lanes=d,e;case at:return Ey(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case B:v=10;break t;case O:v=9;break t;case H:v=11;break t;case ft:v=14;break t;case tt:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=xn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Vs(e,i,a,l){return e=xn(7,e,l,i),e.lanes=a,e}function Ey(e,i,a,l){e=xn(22,e,l,i),e.elementType=at,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=pr(d,2);v!==null&&(h._pendingVisibility|=2,en(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=pr(d,2);v!==null&&(h._pendingVisibility&=-3,en(v,d,2))}}};return e.stateNode=h,e}function Xf(e,i,a){return e=xn(6,e,null,i),e.lanes=a,e}function Wf(e,i,a){return i=xn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Ui(e){e.flags|=4}function Ty(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(i)){if(i=On.current,i!==null&&((Lt&4194176)===Lt?ii!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ii))throw qo=tf,Lg;e.flags|=8192}}function Ju(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?rr():536870912,e.lanes|=i,Va|=i)}function sl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function pb(e,i,a){var l=i.pendingProps;switch(Zh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(Se),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Lo(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jn!==null&&(rd(jn),jn=null))),ie(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(ie(i),Ty(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),ie(i),Ty(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),ie(i),i.flags&=-16777217),null;case 27:ta(i),a=vn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=We.current,Lo(i)?Pg(i):(e=$y(h,l,a),i.stateNode=e,Ui(i))}return ie(i),null;case 5:if(ta(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=We.current,Lo(i))Pg(i);else{switch(h=cc(vn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=i,e[Ee]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vn.current,Lo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gy(e.nodeValue,a)),e||As(i)}else e=cc(e).createTextNode(l),e[De]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Lo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else jn!==null&&(rd(jn),jn=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ju(i,i.updateQueue),ie(i),null;case 4:return pi(),e===null&&gd(i.stateNode.containerInfo),ie(i),null;case 10:return xi(i.type),ie(i),null;case 19:if(ae(we),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)sl(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Pu(e),d!==null){for(i.flags|=128,sl(h,!1),e=d.updateQueue,i.updateQueue=e,Ju(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)vy(a,e),a=a.sibling;return Kt(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&sn()>tc&&(i.flags|=128,l=!0,sl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Pu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ju(i,e),sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return ie(i),null}else 2*sn()-h.renderingStartTime>tc&&a!==536870912&&(i.flags|=128,l=!0,sl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,e=we.current,Kt(we,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Di(i),nf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&Ju(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ae(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(Se),ie(i),null;case 25:return null}throw Error(s(156,i.tag))}function yb(e,i){switch(Zh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(Se),pi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ae(we),null;case 4:return pi(),null;case 10:return xi(i.type),null;case 22:case 23:return Di(i),nf(),e!==null&&ae(Is),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(Se),null;case 25:return null;default:return null}}function by(e,i){switch(Zh(i),i.tag){case 3:xi(Se),pi();break;case 26:case 27:case 5:ta(i);break;case 4:pi();break;case 13:Di(i);break;case 19:ae(we);break;case 10:xi(i.type);break;case 22:case 23:Di(i),nf(),e!==null&&ae(Is);break;case 24:xi(Se)}}var _b={getCacheForType:function(e){var i=Fe(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},vb=typeof WeakMap=="function"?WeakMap:Map,re=0,Jt=null,Nt=null,Lt=0,te=0,gn=null,Li=!1,ka=!1,$f=!1,zi=0,ue=0,Dr=0,Ps=0,Zf=0,kn=0,Va=0,al=null,si=null,Jf=!1,td=0,tc=1/0,ec=null,Or=null,nc=!1,Us=null,ol=0,ed=0,nd=null,ll=0,id=null;function pn(){if((re&2)!==0&&Lt!==0)return Lt&-Lt;if(w.T!==null){var e=Ra;return e!==0?e:hd()}return lu()}function wy(){kn===0&&(kn=(Lt&536870912)===0||qt?Eo():536870912);var e=On.current;return e!==null&&(e.flags|=32),kn}function en(e,i,a){(e===Jt&&te===2||e.cancelPendingCommit!==null)&&(Pa(e,0),ji(e,Lt,kn,!1)),he(e,a),((re&2)===0||e!==Jt)&&(e===Jt&&((re&2)===0&&(Ps|=a),ue===4&&ji(e,Lt,kn,!1)),ai(e))}function Sy(e,i,a){if((re&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||ir(e,i),h=l?bb(e,i):od(e,i,!0),d=l;do{if(h===0){ka&&!l&&ji(e,i,0,!1);break}else if(h===6)ji(e,i,0,!Li);else{if(a=e.current.alternate,d&&!Eb(a)){h=od(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=al;var A=E.current.memoizedState.isDehydrated;if(A&&(Pa(E,v).flags|=256),v=od(E,v,!1),v!==2){if($f&&!A){E.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break t}d=si,si=h,d!==null&&rd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Pa(e,0),ji(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ji(l,i,kn,!Li);break t}break;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=td+300-sn(),10<d)){if(ji(l,i,kn,!Li),En(l,0)!==0)break t;l.timeoutHandle=Ky(Ay.bind(null,l,a,si,ec,Jf,i,kn,Ps,Va,Li,2,-0,0),d);break t}Ay(l,a,si,ec,Jf,i,kn,Ps,Va,Li,0,-0,0)}}break}while(!0);ai(e)}function rd(e){si===null?si=e:si.push.apply(si,e)}function Ay(e,i,a,l,h,d,v,E,A,k,G,W,j){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:e1},gy(i),i=i1(),i!==null)){e.cancelPendingCommit=i(My.bind(null,e,a,l,h,v,E,A,1,W,j)),ji(e,d,v,!k);return}My(e,a,l,h,v,E,A,G,W,j)}function Eb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(e,i,a,l){i&=~Zf,i&=~Ps,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&sr(e,a,i)}function ic(){return(re&6)===0?(ul(0),!1):!0}function sd(){if(Nt!==null){if(te===0)var e=Nt.return;else e=Nt,Mi=Ms=null,hf(e),Sa=null,Ho=0,e=Nt;for(;e!==null;)by(e.alternate,e),e=e.return;Nt=null}}function Pa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sd(),Jt=e,Nt=a=Cr(e.current,null),Lt=i,te=0,gn=null,Li=!1,ka=ir(e,i),$f=!1,Va=kn=Zf=Ps=Dr=ue=0,si=al=null,Jf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-$e(l),d=1<<h;i|=e[h],l&=~d}return zi=i,Iu(),a}function Ry(e,i){Ct=null,w.H=ri,i===Bo?(i=Bg(),te=3):i===Lg?(i=Bg(),te=4):te=i===zp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Nt===null&&(ue=1,Qu(e,In(i,e.current)))}function Iy(){var e=w.H;return w.H=ri,e===null?ri:e}function Cy(){var e=w.A;return w.A=_b,e}function ad(){ue=4,Li||(Lt&4194176)!==Lt&&On.current!==null||(ka=!0),(Dr&134217727)===0&&(Ps&134217727)===0||Jt===null||ji(Jt,Lt,kn,!1)}function od(e,i,a){var l=re;re|=2;var h=Iy(),d=Cy();(Jt!==e||Lt!==i)&&(ec=null,Pa(e,i)),i=!1;var v=ue;t:do try{if(te!==0&&Nt!==null){var E=Nt,A=gn;switch(te){case 8:sd(),v=6;break t;case 3:case 2:case 6:On.current===null&&(i=!0);var k=te;if(te=0,gn=null,Ua(e,E,A,k),a&&ka){v=0;break t}break;default:k=te,te=0,gn=null,Ua(e,E,A,k)}}Tb(),v=ue;break}catch(G){Ry(e,G)}while(!0);return i&&e.shellSuspendCounter++,Mi=Ms=null,re=l,w.H=h,w.A=d,Nt===null&&(Jt=null,Lt=0,Iu()),v}function Tb(){for(;Nt!==null;)Dy(Nt)}function bb(e,i){var a=re;re|=2;var l=Iy(),h=Cy();Jt!==e||Lt!==i?(ec=null,tc=sn()+500,Pa(e,i)):ka=ir(e,i);t:do try{if(te!==0&&Nt!==null){i=Nt;var d=gn;e:switch(te){case 1:te=0,gn=null,Ua(e,i,d,1);break;case 2:if(zg(d)){te=0,gn=null,Oy(i);break}i=function(){te===2&&Jt===e&&(te=7),ai(e)},d.then(i,i);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:zg(d)?(te=0,gn=null,Oy(i)):(te=0,gn=null,Ua(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||s_(v)){te=0,gn=null;var A=E.sibling;if(A!==null)Nt=A;else{var k=E.return;k!==null?(Nt=k,rc(k)):Nt=null}break e}}te=0,gn=null,Ua(e,i,d,5);break;case 6:te=0,gn=null,Ua(e,i,d,6);break;case 8:sd(),ue=6;break t;default:throw Error(s(462))}}wb();break}catch(G){Ry(e,G)}while(!0);return Mi=Ms=null,w.H=l,w.A=h,re=a,Nt!==null?0:(Jt=null,Lt=0,Iu(),ue)}function wb(){for(;Nt!==null&&!kh();)Dy(Nt)}function Dy(e){var i=$p(e.alternate,e,zi);e.memoizedProps=e.pendingProps,i===null?rc(e):Nt=i}function Oy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Gp(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Gp(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:hf(i);default:by(a,i),i=Nt=vy(i,zi),i=$p(a,i,zi)}e.memoizedProps=e.pendingProps,i===null?rc(e):Nt=i}function Ua(e,i,a,l){Mi=Ms=null,hf(i),Sa=null,Ho=0;var h=i.return;try{if(hb(e,h,i,a,Lt)){ue=1,Qu(e,In(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ue=1,Qu(e,In(a,e.current)),Nt=null;return}i.flags&32768?(qt||l===1?e=!0:ka||(Lt&536870912)!==0?e=!1:(Li=e=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(i,e)):rc(i)}function rc(e){var i=e;do{if((i.flags&32768)!==0){Ny(i,Li);return}e=i.return;var a=pb(i.alternate,i,zi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ue===0&&(ue=5)}function Ny(e,i){do{var a=yb(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ue=6,Nt=null}function My(e,i,a,l,h,d,v,E,A,k){var G=w.T,W=rt.p;try{rt.p=2,w.T=null,Sb(e,i,a,l,W,h,d,v,E,A,k)}finally{w.T=G,rt.p=W}}function Sb(e,i,a,l,h,d,v,E){do La();while(Us!==null);if((re&6)!==0)throw Error(s(327));var A=e.finishedWork;if(l=e.finishedLanes,A===null)return null;if(e.finishedWork=null,e.finishedLanes=0,A===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var k=A.lanes|A.childLanes;if(k|=Xh,au(e,l,k,d,v,E),e===Jt&&(Nt=Jt=null,Lt=0),(A.subtreeFlags&10256)===0&&(A.flags&10256)===0||nc||(nc=!0,ed=k,nd=a,Cb(yi,function(){return La(),null})),a=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=rt.p,rt.p=2,v=re,re|=4,db(e,A),fy(A,e),KT(vd,e.containerInfo),pc=!!_d,vd=_d=null,e.current=A,ly(e,A.alternate,A),po(),re=v,rt.p=d,w.T=a):e.current=A,nc?(nc=!1,Us=e,ol=l):xy(e,k),k=e.pendingLanes,k===0&&(Or=null),_o(A.stateNode),ai(e),i!==null)for(h=e.onRecoverableError,A=0;A<i.length;A++)k=i[A],h(k.value,{componentStack:k.stack});return(ol&3)!==0&&La(),k=e.pendingLanes,(l&4194218)!==0&&(k&42)!==0?e===id?ll++:(ll=0,id=e):ll=0,ul(0),null}function xy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function La(){if(Us!==null){var e=Us,i=ed;ed=0;var a=ou(ol),l=w.T,h=rt.p;try{if(rt.p=32>a?32:a,w.T=null,Us===null)var d=!1;else{a=nd,nd=null;var v=Us,E=ol;if(Us=null,ol=0,(re&6)!==0)throw Error(s(331));var A=re;if(re|=4,yy(v.current),my(v,v.current,E,a),re=A,ul(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(er,v)}catch{}d=!0}return d}finally{rt.p=h,w.T=l,xy(e,i)}}return!1}function ky(e,i,a){i=In(a,i),i=Af(e.stateNode,i,2),e=Sr(e,i,2),e!==null&&(he(e,2),ai(e))}function Zt(e,i,a){if(e.tag===3)ky(e,e,a);else for(;i!==null;){if(i.tag===3){ky(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=In(a,e),a=Up(2),l=Sr(i,a,2),l!==null&&(Lp(a,l,i,e),he(l,2),ai(l));break}}i=i.return}}function ld(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new vb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||($f=!0,h.add(a),e=Ab.bind(null,e,i,a),i.then(e,e))}function Ab(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Lt&a)===a&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>sn()-td?(re&2)===0&&Pa(e,0):Zf|=a,Va===Lt&&(Va=0)),ai(e)}function Vy(e,i){i===0&&(i=rr()),e=pr(e,i),e!==null&&(he(e,i),ai(e))}function Rb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Vy(e,a)}function Ib(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Vy(e,a)}function Cb(e,i){return os(e,i)}var sc=null,za=null,ud=!1,ac=!1,cd=!1,Ls=0;function ai(e){e!==za&&e.next===null&&(za===null?sc=za=e:za=za.next=e),ac=!0,ud||(ud=!0,Ob(Db))}function ul(e,i){if(!cd&&ac){cd=!0;do for(var a=!1,l=sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ly(l,d))}else d=Lt,d=En(l,l===Jt?d:0),(d&3)===0||ir(l,d)||(a=!0,Ly(l,d));l=l.next}while(a);cd=!1}}function Db(){ac=ud=!1;var e=0;Ls!==0&&(Lb()&&(e=Ls),Ls=0);for(var i=sn(),a=null,l=sc;l!==null;){var h=l.next,d=Py(l,i);d===0?(l.next=null,a===null?sc=h:a.next=h,h===null&&(za=a)):(a=l,(e!==0||(d&3)!==0)&&(ac=!0)),l=h}ul(e)}function Py(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,A=h[v];A===-1?((E&a)===0||(E&l)!==0)&&(h[v]=ia(E,i)):A<=i&&(e.expiredLanes|=E),d&=~E}if(i=Jt,a=Lt,a=En(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&te===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&na(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ir(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&na(l),ou(a)){case 2:case 8:a=Ce;break;case 32:a=yi;break;case 268435456:a=yo;break;default:a=yi}return l=Uy.bind(null,e),a=os(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&na(l),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,i){var a=e.callbackNode;if(La()&&e.callbackNode!==a)return null;var l=Lt;return l=En(e,e===Jt?l:0),l===0?null:(Sy(e,l,i),Py(e,sn()),e.callbackNode!=null&&e.callbackNode===a?Uy.bind(null,e):null)}function Ly(e,i){if(La())return null;Sy(e,i,!0)}function Ob(e){jb(function(){(re&6)!==0?os(ve,e):e()})}function hd(){return Ls===0&&(Ls=Eo()),Ls}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xn(""+e)}function jy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Nb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=zy((h[Ee]||null).action),v=l.submitter;v&&(i=(i=v[Ee]||null)?zy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ca("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var A=v?jy(h,v):new FormData(h);Ef(a,{pending:!0,data:A,method:h.method,action:d},null,A)}}else typeof d=="function"&&(E.preventDefault(),A=v?jy(h,v):new FormData(h),Ef(a,{pending:!0,data:A,method:h.method,action:d},d,A))},currentTarget:h}]})}}for(var fd=0;fd<Mg.length;fd++){var dd=Mg[fd],Mb=dd.toLowerCase(),xb=dd[0].toUpperCase()+dd.slice(1);zn(Mb,"on"+xb)}zn(Ig,"onAnimationEnd"),zn(Cg,"onAnimationIteration"),zn(Dg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(WT,"onTransitionRun"),zn($T,"onTransitionStart"),zn(ZT,"onTransitionCancel"),zn(Og,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function By(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],A=E.instance,k=E.currentTarget;if(E=E.listener,A!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=k;try{d(h)}catch(G){Yu(G)}h.currentTarget=null,d=A}else for(v=0;v<l.length;v++){if(E=l[v],A=E.instance,k=E.currentTarget,E=E.listener,A!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=k;try{d(h)}catch(G){Yu(G)}h.currentTarget=null,d=A}}}}function kt(e,i){var a=i[us];a===void 0&&(a=i[us]=new Set);var l=e+"__bubble";a.has(l)||(qy(i,e,2,!1),a.add(l))}function md(e,i,a){var l=0;i&&(l|=4),qy(a,e,l,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[oc]){e[oc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(kb.has(a)||md(a,!1,e),md(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oc]||(i[oc]=!0,md("selectionchange",!1,i))}}function qy(e,i,a,l){switch(h_(i)){case 2:var h=a1;break;case 8:h=o1;break;default:h=Cd}a=h.bind(null,i,a,e),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function pd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var A=v.tag;if((A===3||A===4)&&(A=v.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Ln(E),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){l=d=v;continue t}E=E.parentNode}}l=l.return}fu(function(){var k=d,G=ua(a),W=[];t:{var j=Ng.get(e);if(j!==void 0){var F=ca,ct=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":F=pa;break;case"focusin":ct="focus",F=da;break;case"focusout":ct="blur",F=da;break;case"beforeblur":case"afterblur":F=da;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Eu;break;case Ig:case Cg:case Dg:F=ma;break;case Og:F=bu;break;case"scroll":case"scrollend":F=du;break;case"wheel":F=ya;break;case"copy":case"cut":case"paste":F=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ko;break;case"toggle":case"beforetoggle":F=Su}var bt=(i&4)!==0,ce=!bt&&(e==="scroll"||e==="scrollend"),P=bt?j!==null?j+"Capture":null:j;bt=[];for(var x=k,L;x!==null;){var Y=x;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=ms(x,P),Y!=null&&bt.push(hl(x,Y,L))),ce)break;x=x.return}0<bt.length&&(j=new F(j,ct,null,a,G),W.push({event:j,listeners:bt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==wn&&(ct=a.relatedTarget||a.fromElement)&&(Ln(ct)||ct[_i]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ct=a.relatedTarget||a.toElement,F=k,ct=ct?Ln(ct):null,ct!==null&&(ce=ut(ct),bt=ct.tag,ct!==ce||bt!==5&&bt!==27&&bt!==6)&&(ct=null)):(F=null,ct=k),F!==ct)){if(bt=An,Y="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(bt=ko,Y="onPointerLeave",P="onPointerEnter",x="pointer"),ce=F==null?j:ur(F),L=ct==null?j:ur(ct),j=new bt(Y,x+"leave",F,a,G),j.target=ce,j.relatedTarget=L,Y=null,Ln(G)===k&&(bt=new bt(P,x+"enter",ct,a,G),bt.target=L,bt.relatedTarget=ce,Y=bt),ce=Y,F&&ct)e:{for(bt=F,P=ct,x=0,L=bt;L;L=ja(L))x++;for(L=0,Y=P;Y;Y=ja(Y))L++;for(;0<x-L;)bt=ja(bt),x--;for(;0<L-x;)P=ja(P),L--;for(;x--;){if(bt===P||P!==null&&bt===P.alternate)break e;bt=ja(bt),P=ja(P)}bt=null}else bt=null;F!==null&&Hy(W,j,F,bt,!1),ct!==null&&ce!==null&&Hy(W,ce,ct,bt,!0)}}t:{if(j=k?ur(k):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var lt=pg;else if(be(j))if(yg)lt=YT;else{lt=FT;var Ot=HT}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?k&&Io(k.elementType)&&(lt=pg):lt=GT;if(lt&&(lt=lt(e,k))){Ri(W,lt,a,G);break t}Ot&&Ot(e,j,k),e==="focusout"&&k&&j.type==="number"&&k.memoizedProps.value!=null&&la(j,"number",j.value)}switch(Ot=k?ur(k):window,e){case"focusin":(be(Ot)||Ot.contentEditable==="true")&&(_a=Ot,Yh=k,Uo=null);break;case"focusout":Uo=Yh=_a=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Ag(W,a,G);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Ag(W,a,G)}var dt;if(ti)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?q(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(dt=Do()):(Wn=G,gr="value"in Wn?Wn.value:Wn.textContent,Pt=!0)),Ot=lc(k,_t),0<Ot.length&&(_t=new Mo(_t,e,null,a,G),W.push({event:_t,listeners:Ot}),dt?_t.data=dt:(dt=et(a),dt!==null&&(_t.data=dt)))),(dt=g?Te(e,a):Ut(e,a))&&(_t=lc(k,"onBeforeInput"),0<_t.length&&(Ot=new Mo("onBeforeInput","beforeinput",null,a,G),W.push({event:Ot,listeners:_t}),Ot.data=dt)),Nb(W,e,k,a,G)}By(W,i)})}function hl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function lc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ms(e,a),h!=null&&l.unshift(hl(e,h,d)),h=ms(e,i),h!=null&&l.push(hl(e,h,d))),e=e.return}return l}function ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,A=E.alternate,k=E.stateNode;if(E=E.tag,A!==null&&A===l)break;E!==5&&E!==26&&E!==27||k===null||(A=k,h?(k=ms(a,d),k!=null&&v.unshift(hl(a,k,A))):h||(k=ms(a,d),k!=null&&v.push(hl(a,k,A)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var Vb=/\r\n?/g,Pb=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(Pb,"")}function Gy(e,i){return i=Fy(i),Fy(e)===i}function uc(){}function $t(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(e,""+l);break;case"className":fr(e,"class",l);break;case"tabIndex":fr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,a,l);break;case"style":hu(e,l,d);break;case"data":if(i!=="object"){fr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=uc);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":kt("beforetoggle",e),kt("toggle",e),hr(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zh.get(a)||a,hr(e,a,l))}}function yd(e,i,a,l,h,d){switch(a){case"style":hu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ee]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):hr(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,d,v,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),l&&$t(e,i,"src",a.src,a,null);return;case"input":kt("invalid",e);var E=d=v=h=null,A=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":A=G;break;case"defaultChecked":k=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:$t(e,i,l,G,a,null)}}fs(e,d,E,A,k,v,h,!1),hs(e);return;case"select":kt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:$t(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Bt(e,!!l,i,!1):a!=null&&Bt(e,!!l,a,!0);return;case"textarea":kt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,i,v,E,a,null)}mr(e,l,h,d),hs(e);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,i,A,l,a,null)}return;case"dialog":kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(l=0;l<cl.length;l++)kt(cl[l],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,k,l,a,null)}return;default:if(Io(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&yd(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$t(e,i,E,l,a,null))}function Ub(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,A=null,k=null,G=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":A=W;default:l.hasOwnProperty(F)||$t(e,i,F,null,l,W)}}for(var j in l){var F=l[j];if(W=a[j],l.hasOwnProperty(j)&&(F!=null||W!=null))switch(j){case"type":d=F;break;case"name":h=F;break;case"checked":k=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==W&&$t(e,i,j,F,l,W)}}dr(e,v,E,A,k,G,d,h);return;case"select":F=v=E=j=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":F=A;default:l.hasOwnProperty(d)||$t(e,i,d,null,l,A)}for(h in l)if(d=l[h],A=a[h],l.hasOwnProperty(h)&&(d!=null||A!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==A&&$t(e,i,h,d,l,A)}i=E,a=v,l=F,j!=null?Bt(e,!!a,j,!1):!!l!=!!a&&(i!=null?Bt(e,!!a,i,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$t(e,i,v,h,l,d)}ds(e,j,F);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:$t(e,i,ct,null,l,j)}for(A in l)if(j=l[A],F=a[A],l.hasOwnProperty(A)&&j!==F&&(j!=null||F!=null))switch(A){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(e,i,A,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)j=a[bt],a.hasOwnProperty(bt)&&j!=null&&!l.hasOwnProperty(bt)&&$t(e,i,bt,null,l,j);for(k in l)if(j=l[k],F=a[k],l.hasOwnProperty(k)&&j!==F&&(j!=null||F!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:$t(e,i,k,j,l,F)}return;default:if(Io(i)){for(var ce in a)j=a[ce],a.hasOwnProperty(ce)&&j!==void 0&&!l.hasOwnProperty(ce)&&yd(e,i,ce,void 0,l,j);for(G in l)j=l[G],F=a[G],!l.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||yd(e,i,G,j,l,F);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&$t(e,i,P,null,l,j);for(W in l)j=l[W],F=a[W],!l.hasOwnProperty(W)||j===F||j==null&&F==null||$t(e,i,W,j,l,F)}var _d=null,vd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Yy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ed(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Td=null;function Lb(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(Bb)}:Ky;function Bb(e){setTimeout(function(){throw e})}function bd(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),vl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);vl(i)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[lr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function Hb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Wy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function $y(e,i,a){switch(i=cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Vn=new Map,Zy=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Bi=rt.d;rt.d={f:Fb,r:Gb,D:Yb,C:Qb,L:Kb,m:Xb,X:$b,S:Wb,M:Zb};function Fb(){var e=Bi.f(),i=ic();return e||i}function Gb(e){var i=vi(e);i!==null&&i.tag===5&&i.type==="form"?Ap(i):Bi.r(e)}var Ba=typeof document>"u"?null:document;function Jy(e,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=oe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),ne(i),l.head.appendChild(i)))}}function Yb(e){Bi.D(e),Jy("dns-prefetch",e,null)}function Qb(e,i){Bi.C(e,i),Jy("preconnect",e,i)}function Kb(e,i,a){Bi.L(e,i,a);var l=Ba;if(l&&e&&i){var h='link[rel="preload"][as="'+oe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+oe(a.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var d=h;switch(i){case"style":d=qa(e);break;case"script":d=Ha(e)}Vn.has(d)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(fl(d))||i==="script"&&l.querySelector(dl(d))||(i=l.createElement("link"),ze(i,"link",e),ne(i),l.head.appendChild(i)))}}function Xb(e,i){Bi.m(e,i);var a=Ba;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+oe(l)+'"][href="'+oe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!Vn.has(d)&&(e=C({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(d)))return}l=a.createElement("link"),ze(l,"link",e),ne(l),a.head.appendChild(l)}}}function Wb(e,i,a){Bi.S(e,i,a);var l=Ba;if(l&&e){var h=cr(l).hoistableStyles,d=qa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(fl(d)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&Sd(e,a);var A=v=l.createElement("link");ne(A),ze(A,"link",e),A._p=new Promise(function(k,G){A.onload=k,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function $b(e,i){Bi.X(e,i);var a=Ba;if(a&&e){var l=cr(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=C({src:e,async:!0},i),(i=Vn.get(h))&&Ad(e,i),d=a.createElement("script"),ne(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Zb(e,i){Bi.M(e,i);var a=Ba;if(a&&e){var l=cr(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=C({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Ad(e,i),d=a.createElement("script"),ne(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function t_(e,i,a,l){var h=(h=vn.current)?hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=cr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=cr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(fl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||Jb(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=cr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+oe(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function e_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Jb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),ne(i),e.head.appendChild(i))}function Ha(e){return'[src="'+oe(e)+'"]'}function dl(e){return"script[async]"+e}function n_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+oe(a.href)+'"]');if(l)return i.instance=l,ne(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ne(l),ze(l,"style",h),fc(l,a.precedence,e),i.instance=l;case"stylesheet":h=qa(a.href);var d=e.querySelector(fl(h));if(d)return i.state.loading|=4,i.instance=d,ne(d),d;l=e_(a),(h=Vn.get(h))&&Sd(l,h),d=(e.ownerDocument||e).createElement("link"),ne(d);var v=d;return v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),ze(d,"link",l),i.state.loading|=4,fc(d,a.precedence,e),i.instance=d;case"script":return d=Ha(a.src),(h=e.querySelector(dl(d)))?(i.instance=h,ne(h),h):(l=a,(h=Vn.get(d))&&(l=C({},a),Ad(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ne(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fc(l,a.precedence,e));return i.instance}function fc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ad(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dc=null;function i_(e,i,a){if(dc===null){var l=new Map,h=dc=new Map;h.set(a,l)}else h=dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[lr]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function r_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function t1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ml=null;function e1(){}function n1(e,i,a){if(ml===null)throw Error(s(475));var l=ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=e.querySelector(fl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=mc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ne(d);return}d=e.ownerDocument||e,a=e_(a),(h=Vn.get(h))&&Sd(a,h),d=d.createElement("link"),ne(d);var v=d;v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=mc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function i1(){if(ml===null)throw Error(s(475));var e=ml;return e.stylesheets&&e.count===0&&Rd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Rd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function Rd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,i.forEach(r1,e),gc=null,mc.call(e))}function r1(e,i){if(!(i.state.loading&4)){var a=gc.get(e);if(a)var l=a.get(null);else{a=new Map,gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var gl={$$typeof:B,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function s1(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function a_(e,i,a,l,h,d,v,E,A,k,G,W){return e=new s1(e,i,a,v,E,A,k,W),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),e.current=d,d.stateNode=e,i=rf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Lf(d),e}function o_(e){return e?(e=Ta,e):Ta}function l_(e,i,a,l,h,d){h=o_(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Sr(e,l,i),a!==null&&(en(a,e,i),Zo(a,e,i))}function u_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Id(e,i){u_(e,i),(e=e.alternate)&&u_(e,i)}function c_(e){if(e.tag===13){var i=pr(e,67108864);i!==null&&en(i,e,67108864),Id(e,67108864)}}var pc=!0;function a1(e,i,a,l){var h=w.T;w.T=null;var d=rt.p;try{rt.p=2,Cd(e,i,a,l)}finally{rt.p=d,w.T=h}}function o1(e,i,a,l){var h=w.T;w.T=null;var d=rt.p;try{rt.p=8,Cd(e,i,a,l)}finally{rt.p=d,w.T=h}}function Cd(e,i,a,l){if(pc){var h=Dd(l);if(h===null)pd(e,i,l,yc,a),f_(e,l);else if(u1(h,e,i,a,l))l.stopPropagation();else if(f_(e,l),i&4&&-1<l1.indexOf(e)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var A=1<<31-$e(v);E.entanglements[1]|=A,v&=~A}ai(d),(re&6)===0&&(tc=sn()+500,ul(0))}}break;case 13:E=pr(d,2),E!==null&&en(E,d,2),ic(),Id(d,2)}if(d=Dd(l),d===null&&pd(e,i,l,yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else pd(e,i,l,null,a)}}function Dd(e){return e=ua(e),Od(e)}var yc=null;function Od(e){if(yc=null,e=Ln(e),e!==null){var i=ut(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ft(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return yc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case ve:return 2;case Ce:return 8;case yi:case iu:return 32;case yo:return 268435456;default:return 32}default:return 32}}var Nd=!1,Nr=null,Mr=null,xr=null,pl=new Map,yl=new Map,kr=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,i){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(i.pointerId)}}function _l(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&c_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function u1(e,i,a,l,h){switch(i){case"focusin":return Nr=_l(Nr,e,i,a,l,h),!0;case"dragenter":return Mr=_l(Mr,e,i,a,l,h),!0;case"mouseover":return xr=_l(xr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return pl.set(d,_l(pl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yl.set(d,_l(yl.get(d)||null,e,i,a,l,h)),!0}return!1}function d_(e){var i=Ln(e.target);if(i!==null){var a=ut(i);if(a!==null){if(i=a.tag,i===13){if(i=Ft(a),i!==null){e.blockedOn=i,or(e.priority,function(){if(a.tag===13){var l=pn(),h=pr(a,l);h!==null&&en(h,a,l),Id(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return i=vi(a),i!==null&&c_(i),e.blockedOn=a,!1;i.shift()}return!0}function m_(e,i,a){_c(e)&&a.delete(i)}function c1(){Nd=!1,Nr!==null&&_c(Nr)&&(Nr=null),Mr!==null&&_c(Mr)&&(Mr=null),xr!==null&&_c(xr)&&(xr=null),pl.forEach(m_),yl.forEach(m_)}function vc(e,i){e.blockedOn===i&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,c1)))}var Ec=null;function g_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Od(l||a)===null)continue;break}var d=vi(a);d!==null&&(e.splice(i,3),i-=3,Ef(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function vl(e){function i(A){return vc(A,e)}Nr!==null&&vc(Nr,e),Mr!==null&&vc(Mr,e),xr!==null&&vc(xr,e),pl.forEach(i),yl.forEach(i);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)d_(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ee]||null;if(typeof d=="function")v||g_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ee]||null)E=v.formAction;else if(Od(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),g_(a)}}}function Md(e){this._internalRoot=e}Tc.prototype.render=Md.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();l_(a,l,e,i,null,null)},Tc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&La(),l_(e.current,2,null,e,null,null),ic(),i[_i]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var i=lu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,e),a===0&&d_(e)}};var p_=t.version;if(p_!=="19.0.0")throw Error(s(527,p_,"19.0.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Z(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var h1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{er=bc.inject(h1),He=bc}catch{}}return Tl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=xp,d=kp,v=Vp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=a_(e,1,!1,null,null,a,l,h,d,v,E,null),e[_i]=i.current,gd(e.nodeType===8?e.parentNode:e),new Md(i)},Tl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=xp,v=kp,E=Vp,A=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=a_(e,1,!0,i,a??null,l,h,d,v,E,A,k),i.context=o_(null),a=i.current,l=pn(),h=wr(l),h.callback=null,Sr(a,h,l),i.current.lanes=l,he(i,l),ai(i),e[_i]=i.current,gd(e),new Tc(i)},Tl.version="19.0.0",Tl}var R_;function b1(){if(R_)return Vd.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=T1(),Vd.exports}var w1=b1(),lv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I_=qs.createContext&&qs.createContext(lv),S1=["attr","size","title"];function A1(r,t){if(r==null)return{};var n=R1(r,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function R1(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Bc(){return Bc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Bc.apply(this,arguments)}function C_(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function qc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(s){I1(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function I1(r,t,n){return t=C1(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function C1(r){var t=D1(r,"string");return typeof t=="symbol"?t:t+""}function D1(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function uv(r){return r&&r.map((t,n)=>qs.createElement(t.tag,qc({key:n},t.attr),uv(t.child)))}function Fn(r){return t=>qs.createElement(O1,Bc({attr:qc({},r.attr)},t),uv(r.child))}function O1(r){var t=n=>{var{attr:s,size:o,title:u}=r,f=A1(r,S1),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),qs.createElement("svg",Bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:qc(qc({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&qs.createElement("title",null,u),r.children)};return I_!==void 0?qs.createElement(I_.Consumer,null,n=>t(n)):t(lv)}function cv(r){return Fn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(r)}function N1(r){return Fn({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.87 0a2.5 2.5 0 0 0-.697.1q-.187.058-.351.147-.163.09-.297.213l-.008.006q-.133.124-.235.27a1.7 1.7 0 0 0-.27.643 1.8 1.8 0 0 0 .105 1.023q.072.164.176.308.105.14.24.26l.007.004q.137.12.299.205.159.084.348.14.32.093.682.092h2.8l-4.256 5.09-.618.733.01.008q-.046.06-.088.124l-.07.116L.59 9.6q-.03.06-.05.12l-.006.016a1.8 1.8 0 0 0-.122.66q0 .219.042.423.039.204.12.4.084.2.21.372a2 2 0 0 0 1.067.746h.002q.397.117.87.117H9.65q.169 0 .338-.02.163-.02.312-.06l.044-.013q.185-.056.344-.144a1.6 1.6 0 0 0 .297-.21l.012-.01a1.65 1.65 0 0 0 .414-.592q.063-.157.095-.33a2 2 0 0 0 .004-.672 1.6 1.6 0 0 0-.084-.304l-.02-.055a1.5 1.5 0 0 0-.436-.58l-.006-.005a1.65 1.65 0 0 0-.635-.325 2.7 2.7 0 0 0-.675-.087H5.918l4.157-4.95.243-.304a6 6 0 0 0 .353-.486 2.1 2.1 0 0 0 .262-.64q.075-.315.074-.674 0-.46-.142-.83a1.7 1.7 0 0 0-.437-.648 1.8 1.8 0 0 0-.66-.39A2.6 2.6 0 0 0 8.938 0Zm12.36 6.062q-.179 0-.347.024a2 2 0 0 0-.325.073q-.18.054-.338.142a1.6 1.6 0 0 0-.29.21l-.003.003a1.6 1.6 0 0 0-.394.56q-.065.15-.097.317-.03.165-.032.337a1.7 1.7 0 0 0 .135.655q.07.162.171.3.098.131.225.242l.01.012q.133.114.29.197.155.082.335.134a2.4 2.4 0 0 0 .658.09h2.673L13.82 14.24l-.594.703.01.008-.088.123a1 1 0 0 0-.066.113l-.057.112c-.015.036-.046.097-.055.133a1.8 1.8 0 0 0-.118.64 2.1 2.1 0 0 0 .158.796 1.87 1.87 0 0 0 .83.912q.19.102.406.166h.001q.192.057.404.085.214.03.437.03h6.678q.168 0 .325-.02.154-.02.304-.06l.042-.012a1.7 1.7 0 0 0 .33-.14q.155-.083.288-.203l.01-.01q.134-.124.233-.265.103-.146.168-.308.06-.152.093-.318.03-.166.03-.34a1.8 1.8 0 0 0-.112-.605l-.02-.05a1.5 1.5 0 0 0-.417-.56l-.004-.004a1.6 1.6 0 0 0-.29-.19 2 2 0 0 0-.332-.128 2.4 2.4 0 0 0-.65-.083h-3.575l3.727-4.435q.154-.182.262-.314l.234-.291a6 6 0 0 0 .34-.47q.085-.137.15-.293a2.4 2.4 0 0 0 .102-.324 2.8 2.8 0 0 0 .07-.65q0-.445-.14-.8a1.7 1.7 0 0 0-.423-.628 1.8 1.8 0 0 0-.639-.377 2.5 2.5 0 0 0-.804-.12Zm-11.39 9.23q-.127 0-.256.016a1.5 1.5 0 0 0-.498.162q-.12.068-.22.158l-.001.004a1.2 1.2 0 0 0-.37.665 1.2 1.2 0 0 0 .002.506 1.15 1.15 0 0 0 .374.65l.01.01a1.2 1.2 0 0 0 .47.25q.23.067.49.067h1.776l-2.833 3.39-.468.553.01.007-.078.124-.042.084c-.014.03-.027.068-.042.097a1.3 1.3 0 0 0-.09.48q0 .156.03.305.029.147.088.289.063.146.152.27a1.4 1.4 0 0 0 .47.413q.142.076.304.125.142.042.299.063.159.02.32.02h4.776q.118 0 .24-.014.118-.015.224-.044l.034-.01q.135-.041.249-.104.12-.066.219-.154l.007-.008a1.2 1.2 0 0 0 .303-.432q.048-.113.07-.24a1.4 1.4 0 0 0 .002-.486 1.2 1.2 0 0 0-.06-.222l-.016-.042a1.14 1.14 0 0 0-.322-.426 1.2 1.2 0 0 0-.467-.24 1.8 1.8 0 0 0-.483-.06h-2.42l2.768-3.294.167-.21.139-.183a2 2 0 0 0 .106-.158q.066-.104.112-.22a1.8 1.8 0 0 0 .115-.472q.014-.126.013-.247 0-.33-.103-.596a1.26 1.26 0 0 0-.32-.47 1.3 1.3 0 0 0-.478-.284 1.8 1.8 0 0 0-.596-.092z"},child:[]}]})(r)}function hv(r){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(r)}function fv(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function M1(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(r)}function dv(r){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}const x1=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},k1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,b=u>>2,I=(u&3)<<4|m>>4;let O=(m&15)<<2|y>>6,B=y&63;p||(B=64,f||(O=64)),s.push(n[b],n[I],n[O],n[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(mv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):k1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const I=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||I==null)throw new V1;const O=u<<2|m>>4;if(s.push(O),y!==64){const B=m<<4&240|y>>2;if(s.push(B),I!==64){const H=y<<6&192|I;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P1=function(r){const t=mv(r);return gv.encodeByteArray(t,!0)},Hc=function(r){return P1(r).replace(/\./g,"")},pv=function(r){try{return gv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=()=>U1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof D_>"u")return;const r=D_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},j1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&pv(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return x1()||L1()||z1()||j1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yv=r=>{var t,n;return(n=(t=uh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},B1=r=>{const t=yv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_v=()=>{var r;return(r=uh())===null||r===void 0?void 0:r.config},vv=r=>{var t;return(t=uh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function G1(){var r;const t=(r=uh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function K1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X1(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function W1(){return!G1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="FirebaseError";class Zi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=J1,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?tw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zi(o,m,s)}}function tw(r,t){return r.replace(ew,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const ew=/\{\$([^}]+)}/g;function nw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(O_(u)&&O_(f)){if(!Hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function O_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Al(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Rl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function iw(r,t){const n=new rw(r,t);return n.subscribe.bind(n)}class rw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=zd),o.error===void 0&&(o.error=zd),o.complete===void 0&&(o.complete=zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new q1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lw(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ow(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ow(r){return r===zs?void 0:r}function lw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new aw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const cw={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},hw=Mt.INFO,fw={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},dw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=fw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=hw,this._logHandler=dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const mw=(r,t)=>t.some(n=>r instanceof n);let N_,M_;function gw(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pw(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ev=new WeakMap,Zd=new WeakMap,Tv=new WeakMap,jd=new WeakMap,Cm=new WeakMap;function yw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Ev.set(n,r)}).catch(()=>{}),Cm.set(t,r),t}function _w(r){if(Zd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Zd.set(r,t)}let Jd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Tv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function vw(r){Jd=r(Jd)}function Ew(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Bd(this),t,...n);return Tv.set(s,t.sort?t.sort():[t]),Hr(s)}:pw().includes(r)?function(...t){return r.apply(Bd(this),t),Hr(Ev.get(this))}:function(...t){return Hr(r.apply(Bd(this),t))}}function Tw(r){return typeof r=="function"?Ew(r):(r instanceof IDBTransaction&&_w(r),mw(r,gw())?new Proxy(r,Jd):r)}function Hr(r){if(r instanceof IDBRequest)return yw(r);if(jd.has(r))return jd.get(r);const t=Tw(r);return t!==r&&(jd.set(r,t),Cm.set(t,r)),t}const Bd=r=>Cm.get(r);function bw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Hr(f.result),p.oldVersion,p.newVersion,Hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ww=["get","getKey","getAll","getAllKeys","count"],Sw=["put","add","delete","clear"],qd=new Map;function x_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Sw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ww.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return qd.set(t,u),u}vw(r=>({...r,get:(t,n,s)=>x_(t,n)||r.get(t,n,s),has:(t,n)=>!!x_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Rw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const tm="@firebase/app",k_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Im("@firebase/app"),Iw="@firebase/app-compat",Cw="@firebase/analytics-compat",Dw="@firebase/analytics",Ow="@firebase/app-check-compat",Nw="@firebase/app-check",Mw="@firebase/auth",xw="@firebase/auth-compat",kw="@firebase/database",Vw="@firebase/data-connect",Pw="@firebase/database-compat",Uw="@firebase/functions",Lw="@firebase/functions-compat",zw="@firebase/installations",jw="@firebase/installations-compat",Bw="@firebase/messaging",qw="@firebase/messaging-compat",Hw="@firebase/performance",Fw="@firebase/performance-compat",Gw="@firebase/remote-config",Yw="@firebase/remote-config-compat",Qw="@firebase/storage",Kw="@firebase/storage-compat",Xw="@firebase/firestore",Ww="@firebase/vertexai",$w="@firebase/firestore-compat",Zw="firebase",Jw="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",tS={[tm]:"fire-core",[Iw]:"fire-core-compat",[Dw]:"fire-analytics",[Cw]:"fire-analytics-compat",[Nw]:"fire-app-check",[Ow]:"fire-app-check-compat",[Mw]:"fire-auth",[xw]:"fire-auth-compat",[kw]:"fire-rtdb",[Vw]:"fire-data-connect",[Pw]:"fire-rtdb-compat",[Uw]:"fire-fn",[Lw]:"fire-fn-compat",[zw]:"fire-iid",[jw]:"fire-iid-compat",[Bw]:"fire-fcm",[qw]:"fire-fcm-compat",[Hw]:"fire-perf",[Fw]:"fire-perf-compat",[Gw]:"fire-rc",[Yw]:"fire-rc-compat",[Qw]:"fire-gcs",[Kw]:"fire-gcs-compat",[Xw]:"fire-fst",[$w]:"fire-fst-compat",[Ww]:"fire-vertex","fire-js":"fire-js",[Zw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,eS=new Map,nm=new Map;function V_(r,t){try{r.container.addComponent(t)}catch(n){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const t=r.name;if(nm.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const n of Fc.values())V_(n,r);for(const n of eS.values())V_(n,r);return!0}function Dm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Yl("app","Firebase",nS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=Jw;function bv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:em,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(n||(n=_v()),!n)throw Fr.create("no-options");const u=Fc.get(o);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const f=new uw(o);for(const p of nm.values())f.addComponent(p);const m=new iS(n,s,f);return Fc.set(o,m),m}function wv(r=em){const t=Fc.get(r);if(!t&&r===em&&_v())return bv();if(!t)throw Fr.create("no-app",{appName:r});return t}function Gr(r,t,n){var s;let o=(s=tS[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(m.join(" "));return}to(new Fs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebase-heartbeat-database",sS=1,Vl="firebase-heartbeat-store";let Hd=null;function Sv(){return Hd||(Hd=bw(rS,sS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function aS(r){try{const n=(await Sv()).transaction(Vl),s=await n.objectStore(Vl).get(Av(r));return await n.done,s}catch(t){if(t instanceof Zi)Yi.warn(t.message);else{const n=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yi.warn(n.message)}}}async function P_(r,t){try{const s=(await Sv()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(t,Av(r)),await s.done}catch(n){if(n instanceof Zi)Yi.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(s.message)}}}function Av(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=1024,lS=30;class uS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=U_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lS){const f=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:s,unsentEntries:o}=cS(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yi.warn(n),""}}}function U_(){return new Date().toISOString().substring(0,10)}function cS(r,t=oS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),L_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),L_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function L_(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function fS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){to(new Fs("platform-logger",t=>new Aw(t),"PRIVATE")),to(new Fs("heartbeat",t=>new uS(t),"PRIVATE")),Gr(tm,k_,r),Gr(tm,k_,"esm2017"),Gr("fire-js","")}dS("");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,Rv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(C,D,V){for(var R=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)R[Vt-2]=arguments[Vt];return S.prototype[D].apply(C,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,w){w||(w=0);var C=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)C[D]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(D=0;16>D;++D)C[D]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],D=M.g[2];var V=M.g[3],R=S+(V^w&(D^V))+C[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=V+(D^S&(w^D))+C[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(w^V&(S^w))+C[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=w+(S^D&(V^S))+C[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(V^w&(D^V))+C[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=V+(D^S&(w^D))+C[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(w^V&(S^w))+C[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=w+(S^D&(V^S))+C[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(V^w&(D^V))+C[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=V+(D^S&(w^D))+C[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(w^V&(S^w))+C[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=w+(S^D&(V^S))+C[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(V^w&(D^V))+C[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=V+(D^S&(w^D))+C[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(w^V&(S^w))+C[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=w+(S^D&(V^S))+C[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=S+(D^V&(w^D))+C[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=V+(w^D&(S^w))+C[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(V^S))+C[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=w+(V^S&(D^V))+C[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(w^D))+C[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=V+(w^D&(S^w))+C[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(V^S))+C[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=w+(V^S&(D^V))+C[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(w^D))+C[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=V+(w^D&(S^w))+C[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(V^S))+C[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=w+(V^S&(D^V))+C[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(w^D))+C[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=V+(w^D&(S^w))+C[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^w&(V^S))+C[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=w+(V^S&(D^V))+C[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=S+(w^D^V)+C[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=V+(S^w^D)+C[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^w)+C[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=w+(D^V^S)+C[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^V)+C[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=V+(S^w^D)+C[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^w)+C[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=w+(D^V^S)+C[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^V)+C[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=V+(S^w^D)+C[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^w)+C[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=w+(D^V^S)+C[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(w^D^V)+C[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=V+(S^w^D)+C[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^w)+C[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=w+(D^V^S)+C[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=S+(D^(w|~V))+C[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=V+(w^(S|~D))+C[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~w))+C[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=w+(V^(D|~S))+C[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~V))+C[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=V+(w^(S|~D))+C[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~w))+C[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=w+(V^(D|~S))+C[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~V))+C[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=V+(w^(S|~D))+C[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~w))+C[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=w+(V^(D|~S))+C[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=S+(D^(w|~V))+C[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=V+(w^(S|~D))+C[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~w))+C[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=w+(V^(D|~S))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+V&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,C=this.B,D=this.h,V=0;V<S;){if(D==0)for(;V<=w;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<S;)if(C[D++]=M.charCodeAt(V++),D==this.blockSize){o(this,C),D=0;break}}else for(;V<S;)if(C[D++]=M[V++],D==this.blockSize){o(this,C),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var C=0;32>C;C+=8)M[w++]=this.g[S]>>>C&255;return M};function u(M,S){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function f(M,S){this.h=S;for(var w=[],C=!0,D=M.length-1;0<=D;D--){var V=M[D]|0;C&&V==S||(w[D]=V,C=!1)}this.g=w}var m={};function p(M){return-128<=M&&128>M?u(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return K(y(-M));for(var S=[],w=1,C=0;M>=w;C++)S[C]=M/w|0,w*=4294967296;return new f(S,0)}function b(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return K(b(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(S,8)),C=I,D=0;D<M.length;D+=8){var V=Math.min(8,M.length-D),R=parseInt(M.substring(D,D+V),S);8>V?(V=y(Math.pow(S,V)),C=C.j(V).add(y(R))):(C=C.j(w),C=C.add(y(R)))}return C}var I=p(0),O=p(1),B=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-K(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var C=this.i(w);M+=(0<=C?C:4294967296+C)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(H(this))return"0";if(X(this))return"-"+K(this).toString(M);for(var S=y(Math.pow(M,6)),w=this,C="";;){var D=yt(w,S).g;w=ft(w,D.j(S));var V=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=D,H(w))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function H(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function X(M){return M.h==-1}r.l=function(M){return M=ft(this,M),X(M)?-1:H(M)?0:1};function K(M){for(var S=M.g.length,w=[],C=0;C<S;C++)w[C]=~M.g[C];return new f(w,~M.h).add(O)}r.abs=function(){return X(this)?K(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],C=0,D=0;D<=S;D++){var V=C+(this.i(D)&65535)+(M.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);C=R>>>16,V&=65535,R&=65535,w[D]=R<<16|V}return new f(w,w[w.length-1]&-2147483648?-1:0)};function ft(M,S){return M.add(K(S))}r.j=function(M){if(H(this)||H(M))return I;if(X(this))return X(M)?K(this).j(K(M)):K(K(this).j(M));if(X(M))return K(this.j(K(M)));if(0>this.l(B)&&0>M.l(B))return y(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],C=0;C<2*S;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<M.g.length;D++){var V=this.i(C)>>>16,R=this.i(C)&65535,Vt=M.i(D)>>>16,Qt=M.i(D)&65535;w[2*C+2*D]+=R*Qt,tt(w,2*C+2*D),w[2*C+2*D+1]+=V*Qt,tt(w,2*C+2*D+1),w[2*C+2*D+1]+=R*Vt,tt(w,2*C+2*D+1),w[2*C+2*D+2]+=V*Vt,tt(w,2*C+2*D+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new f(w,0)};function tt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function at(M,S){this.g=M,this.h=S}function yt(M,S){if(H(S))throw Error("division by zero");if(H(M))return new at(I,I);if(X(M))return S=yt(K(M),S),new at(K(S.g),K(S.h));if(X(S))return S=yt(M,K(S)),new at(K(S.g),S.h);if(30<M.g.length){if(X(M)||X(S))throw Error("slowDivide_ only works with positive integers.");for(var w=O,C=S;0>=C.l(M);)w=J(w),C=J(C);var D=ot(w,1),V=ot(C,1);for(C=ot(C,2),w=ot(w,2);!H(C);){var R=V.add(C);0>=R.l(M)&&(D=D.add(w),V=R),C=ot(C,1),w=ot(w,1)}return S=ft(M,D.j(S)),new at(D,S)}for(D=I;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=y(w),R=V.j(S);X(R)||0<R.l(M);)w-=C,V=y(w),R=V.j(S);H(V)&&(V=O),D=D.add(V),M=ft(M,R)}return new at(D,M)}r.A=function(M){return yt(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)&M.i(C);return new f(w,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)|M.i(C);return new f(w,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)^M.i(C);return new f(w,this.h^M.h)};function J(M){for(var S=M.g.length+1,w=[],C=0;C<S;C++)w[C]=M.i(C)<<1|M.i(C-1)>>>31;return new f(w,M.h)}function ot(M,S){var w=S>>5;S%=32;for(var C=M.g.length-w,D=[],V=0;V<C;V++)D[V]=0<S?M.i(V+w)>>>S|M.i(V+w+1)<<32-S:M.i(V+w);return new f(D,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Rv=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Yr=f}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iv,Il,Cv,Nc,im,Dv,Ov,Nv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var _=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var U=c[T];if(!(U in _))break t;_=_[U]}c=c[c.length-1],T=_[c],g=g(T),g!=T&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,T=!1,U={next:function(){if(!T&&_<c.length){var q=_++;return{value:g(q,c[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function b(c,g,_){return c.call.apply(c.bind,arguments)}function I(c,g,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function O(c,g,_){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:I,O.apply(null,arguments)}function B(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function H(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,U,q){for(var et=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)et[Pt-2]=arguments[Pt];return g.prototype[U].apply(T,et)}}function X(c){const g=c.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=c[T];return _}return[]}function K(c,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const U=c.length||0,q=T.length||0;c.length=U+q;for(let et=0;et<q;et++)c[U+et]=T[et]}else c.push(T)}}class ft{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function tt(c){return/^[\s\xa0]*$/.test(c)}function at(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function yt(c){return yt[" "](c),c}yt[" "]=function(){};var J=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function ot(c,g,_){for(const T in c)g.call(_,c[T],T,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,g){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)c[_]=T[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function D(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function R(){var c=Ft;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Vt{constructor(){this.h=this.g=null}add(g,_){const T=Qt.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Qt=new ft(()=>new nt,c=>c.reset());class nt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,ut=!1,Ft=new Vt,N=()=>{const c=m.Promise.resolve(void 0);gt=()=>{c.then(Z)}};var Z=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){V(_)}var g=Qt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ut=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function It(c,g){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(J){t:{try{yt(g.nodeName);var U=!0;break t}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}H(It,it);var At={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),jt=0;function ae(c,g,_,T,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=U,this.key=++jt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function We(c){this.src=c,this.g={},this.h=0}We.prototype.add=function(c,g,_,T,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var et=vn(c,g,T,U);return-1<et?(g=c[et],_||(g.fa=!1)):(g=new ae(g,this.src,q,!!T,U),g.fa=_,c.push(g)),g};function gi(c,g){var _=g.type;if(_ in c.g){var T=c.g[_],U=Array.prototype.indexOf.call(T,g,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Kt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vn(c,g,_,T){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==T)return U}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),tr={};function pi(c,g,_,T,U){if(Array.isArray(g)){for(var q=0;q<g.length;q++)pi(c,g[q],_,T,U);return null}return _=nu(_),c&&c[me]?c.K(g,_,y(T)?!!T.capture:!1,U):go(c,g,_,!1,T,U)}function go(c,g,_,T,U,q){if(!g)throw Error("Invalid event type");var et=y(U)?!!U.capture:!!U,Pt=po(c);if(Pt||(c[Ji]=Pt=new We(c)),_=Pt.add(g,_,T,et,q),_.proxy)return _;if(T=ta(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)rt||(U=et),U===void 0&&(U=!1),c.addEventListener(g.toString(),T,U);else if(c.attachEvent)c.attachEvent(na(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ta(){function c(_){return g.call(c.src,c.listener,_)}const g=kh;return c}function ea(c,g,_,T,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)ea(c,g[q],_,T,U);else T=y(T)?!!T.capture:!!T,_=nu(_),c&&c[me]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],_=vn(q,_,T,U),-1<_&&(Kt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=po(c))&&(g=c.g[g.toString()],c=-1,g&&(c=vn(g,_,T,U)),(_=-1<c?g[c]:null)&&os(_))}function os(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[me])gi(g.i,c);else{var _=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(_,T,c.capture):g.detachEvent?g.detachEvent(na(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=po(g))?(gi(_,c),_.h==0&&(_.src=null,g[Ji]=null)):Kt(c)}}}function na(c){return c in tr?tr[c]:tr[c]="on"+c}function kh(c,g){if(c.da)c=!0;else{g=new It(g,this);var _=c.listener,T=c.ha||c.src;c.fa&&os(c),c=_.call(T,g)}return c}function po(c){return c=c[Ji],c instanceof We?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(g){return c.handleEvent(g)}),c[sn])}function ve(){ht.call(this),this.i=new We(this),this.M=this,this.F=null}H(ve,ht),ve.prototype[me]=!0,ve.prototype.removeEventListener=function(c,g,_,T){ea(this,c,g,_,T)};function Ce(c,g){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new it(g,c);else if(g instanceof it)g.target=g.target||c;else{var U=g;g=new it(T,c),C(g,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var et=g.g=_[q];U=yi(et,T,!0,g)&&U}if(et=g.g=c,U=yi(et,T,!0,g)&&U,U=yi(et,T,!1,g)&&U,_)for(q=0;q<_.length;q++)et=g.g=_[q],U=yi(et,T,!1,g)&&U}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],T=0;T<_.length;T++)Kt(_[T]);delete c.g[g],c.h--}}this.F=null},ve.prototype.K=function(c,g,_,T){return this.i.add(String(c),g,!1,_,T)},ve.prototype.L=function(c,g,_,T){return this.i.add(String(c),g,!0,_,T)};function yi(c,g,_,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,q=0;q<g.length;++q){var et=g[q];if(et&&!et.da&&et.capture==_){var Pt=et.listener,Te=et.ha||et.src;et.fa&&gi(c.i,et),U=Pt.call(Te,T)!==!1&&U}}return U&&!T.defaultPrevented}function iu(c,g,_){if(typeof c=="function")_&&(c=O(c,_));else if(c&&typeof c.handleEvent=="function")c=O(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function yo(c){c.g=iu(()=>{c.g=null,c.i&&(c.i=!1,yo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Vh extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){ht.call(this),this.h=c,this.g={}}H(ls,ht);var er=[];function He(c){ot(c.g,function(g,_){this.g.hasOwnProperty(_)&&os(g)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),He(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _o=m.JSON.stringify,Gn=m.JSON.parse,$e=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function vo(){}vo.prototype.h=null;function ru(c){return c.h||(c.h=c.i())}function su(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){it.call(this,"d")}H(nr,it);function Un(){it.call(this,"c")}H(Un,it);var En={},ir=null;function ia(){return ir=ir||new ve}En.La="serverreachability";function Eo(c){it.call(this,En.La,c)}H(Eo,it);function rr(c){const g=ia();Ce(g,new Eo(g))}En.STAT_EVENT="statevent";function ra(c,g){it.call(this,En.STAT_EVENT,c),this.stat=g}H(ra,it);function he(c){const g=ia();Ce(g,new ra(g,c))}En.Ma="timingevent";function au(c,g){it.call(this,En.Ma,c),this.size=g}H(au,it);function sr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function ou(c,g,_,T,U,q){c.info(function(){if(c.g)if(q)for(var et="",Pt=q.split("&"),Te=0;Te<Pt.length;Te++){var Ut=Pt[Te].split("=");if(1<Ut.length){var Ne=Ut[0];Ut=Ut[1];var be=Ne.split("_");et=2<=be.length&&be[1]=="type"?et+(Ne+"="+Ut+"&"):et+(Ne+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+g+`
`+_+`
`+et})}function lu(c,g,_,T,U,q,et){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+g+`
`+_+`
`+q+" "+et})}function or(c,g,_,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(c,_)+(T?" "+T:"")})}function Qn(c,g){c.info(function(){return"TIMEOUT: "+g})}ar.prototype.info=function(){};function De(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return _o(_)}catch{return g}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},us;function sa(){}H(sa,vo),sa.prototype.g=function(){return new XMLHttpRequest},sa.prototype.i=function(){return{}},us=new sa;function Kn(c,g,_,T){this.j=c,this.i=g,this.l=_,this.R=T||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new To}function To(){this.i=null,this.g="",this.h=!1}var lr={},cs={};function Ln(c,g,_){c.L=1,c.v=ds(oe(g)),c.m=_,c.P=!0,vi(c,null)}function vi(c,g){c.F=Date.now(),ne(c),c.A=oe(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),bi(_.i,"t",T),c.C=0,_=c.j.J,c.h=new To,c.g=bu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Vh(O(c.Y,c,c.g),c.O)),g=c.U,_=c.g,T=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(er[0]=U.toString()),U=er);for(var q=0;q<U.length;q++){var et=pi(_,U[q],T||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),rr(),ou(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)t:{const be=An(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||be!=4||g==7||(g==8||0>=Ri?rr(3):rr(2)),aa(this);var _=this.g.Z();this.X=_;e:if(ur(this)){var T=mu(this.g);c="";var U=T.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),cn(this);var et="";break e}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(q&&g==U-1)});T.length=0,this.h.g+=c,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,lu(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Te=this.g;if((Pt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Pt)){var Ut=Pt;break e}}Ut=null}if(_=Ut)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hn(this,_);else{this.o=!1,this.s=3,he(12),an(this),cn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<et.length;)if(Pe=cr(this,et),Pe==cs){be==4&&(this.s=4,he(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==lr){this.s=4,he(15),or(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,Pe,null),hn(this,Pe);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||et.length!=0||this.h.h||(this.s=1,he(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,et,"[Invalid Chunked Response]"),an(this),cn(this);else if(0<et.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Es(Ne),Ne.M=!0,he(11))}}else or(this.i,this.l,et,null),hn(this,et);be==4&&an(this),this.o&&!this.J&&(be==4?vu(this.j,this):(this.o=!1,ne(this)))}else Bh(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),an(this),cn(this)}}}catch{}finally{}};function ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cr(c,g){var _=c.C,T=g.indexOf(`
`,_);return T==-1?cs:(_=Number(g.substring(_,T)),isNaN(_)?lr:(T+=1,T+_>g.length?cs:(g=g.slice(T,T+_),c.C=T+_,g)))}Kn.prototype.cancel=function(){this.J=!0,an(this)};function ne(c){c.S=Date.now()+c.I,bo(c,c.I)}function bo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=sr(O(c.ba,c),g)}function aa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(rr(),he(17)),an(this),this.s=2,cn(this)):bo(this,this.S-c)};function cn(c){c.j.G==0||c.J||vu(c.j,c)}function an(c){aa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,He(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)pa(_),ma(_);else break t;xo(_),he(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=sr(O(_.Za,_),6e3));if(1>=uu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((c.K||_.g==c)&&pa(_),!tt(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Ut=U[g];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ne=Ut[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const be=Ut[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const Ri=Ut[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(T=1.5*Ri,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Pe=c.g;if(Pe){const ei=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var q=T.h;q.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(fr(q,q.h),q.h=null))}if(T.D){const Vo=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(T.ya=Vo,Bt(T.I,T.D,Vo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var et=c;if(T.qa=Tu(T,T.J?T.ia:null,T.W),et.K){Tn(T.h,et);var Pt=et,Te=T.L;Te&&(Pt.I=Te),Pt.B&&(aa(Pt),ne(Pt)),T.g=et}else yu(T);0<_.i.length&&ga(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Ai(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ai(_,7):No(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}rr(4)}catch{}}var Ph=class{constructor(c,g){this.g=c,this.map=g}};function wo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function hr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function fr(c,g){c.g?c.g.add(g):c.h=g}function Tn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}wo.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ze(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return X(c.i)}function cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,T=0;T<_;T++)g.push(c[T]);return g}g=[],_=0;for(T in c)g[_++]=c[T];return g}function Uh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const T in c)g[_++]=T;return g}}}function hs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Uh(c),T=cu(c),U=T.length,q=0;q<U;q++)g.call(void 0,T[q],_&&_[q],c)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),U=null;if(0<=T){var q=c[_].substring(0,T);U=c[_].substring(T+1)}else q=c[_];g(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,fs(this,c.s),this.l=c.l;var g=c.i,_=new Xn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),la(this,_),this.m=c.m}else c&&(g=String(c).match(Ao))?(this.h=!1,dr(this,g[1]||"",!0),this.o=mr(g[2]||""),this.g=mr(g[3]||"",!0),fs(this,g[4]),this.l=mr(g[5]||"",!0),la(this,g[6]||"",!0),this.m=mr(g[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(bn(g,Ro,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(bn(g,Ro,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bn(_,_.charAt(0)=="/"?Io:hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bn(_,jh)),c.join("")};function oe(c){return new Ei(c)}function dr(c,g,_){c.j=_?mr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function fs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function la(c,g,_){g instanceof Xn?(c.i=g,Co(c.i,c.h)):(_||(g=bn(g,zh)),c.i=new Xn(g,c.h))}function Bt(c,g,_){c.i.set(g,_)}function ds(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Lh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,hu=/[#\?:]/g,Io=/[#\?]/g,zh=/[#\?@]/g,jh=/#/g;function Xn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Xn.prototype,r.add=function(c,g){wn(this),this.i=null,c=wi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ua(c,g){wn(c),g=wi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return wn(c),g=wi(c,g),c.g.has(g)}r.forEach=function(c,g){wn(this),this.g.forEach(function(_,T){_.forEach(function(U){c.call(g,U,T,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const U=c[T];for(let q=0;q<U.length;q++)_.push(g[T])}return _},r.V=function(c){wn(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(wi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return wn(this),this.i=null,c=wi(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function bi(c,g,_){ua(c,g),0<_.length&&(c.i=null,c.g.set(wi(c,g),X(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var U=q;et[T]!==""&&(U+="="+encodeURIComponent(String(et[T]))),c.push(U)}}return this.i=c.join("&")};function wi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Co(c,g){g&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,T){var U=T.toLowerCase();T!=U&&(ua(this,T),bi(this,U,_))},c)),c.j=g}function fu(c,g){const _=new ar;if(m.Image){const T=new Image;T.onload=B(Sn,_,"TestLoadImage: loaded",!0,g,T),T.onerror=B(Sn,_,"TestLoadImage: error",!1,g,T),T.onabort=B(Sn,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=B(Sn,_,"TestLoadImage: timeout",!1,g,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function ms(c,g){const _=new ar,T=new AbortController,U=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Sn(_,"TestPingServer: ok",!0,g):Sn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,g)})}function Sn(c,g,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function gs(){this.g=new $e}function Wn(c,g,_){const T=_||"";try{hs(c,function(U,q){let et=U;y(U)&&(et=_o(U)),g.push(T+q+"="+encodeURIComponent(et))})}catch(U){throw g.push(T+"type="+encodeURIComponent("_badmap")),U}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(gr,vo),gr.prototype.g=function(){return new Si(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Si(c,g){ve.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Si,ve),r=Si.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Zn(this),this.readyState==3&&Do(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},r.Qa=function(c){this.g&&(this.response=c,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oo(c){let g="";return ot(c,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Oe(c,g,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Oo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Bt(c,g,_))}function Gt(c){ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Gt,ve);var ca=/^https?$/i,ps=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():us.g(),this.v=this.o?ru(this.o):ru(us),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){du(this,q);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ps,g,void 0))||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){du(this,q)}};function du(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ha(c),Jn(c)}function ha(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ce(this,"complete"),Ce(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},r.bb=function(){fa(this)};function fa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)iu(c.Ea,0,c);else if(Ce(c,"readystatechange"),An(c)==4){c.h=!1;try{const et=c.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var T;if(T=et===0){var U=String(c.D).match(Ao)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),T=!ca.test(U?U.toLowerCase():"")}_=T}if(_)Ce(c,"complete"),Ce(c,"success");else{c.m=6;try{var q=2<An(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",ha(c)}}finally{Jn(c)}}}}function Jn(c,g){if(c.g){ys(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ce(c,"ready");try{_.onreadystatechange=T}catch{}}}function ys(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gn(g)}};function mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(tt(c[T]))continue;var _=D(c[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[U]||[];g[U]=q,q.push(_)}M(g,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function da(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,c),this.cb=_s("retryDelaySeedMs",1e4,c),this.Wa=_s("forwardChannelMaxRetries",2,c),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=da.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,T){he(0),this.W=c,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Tu(this,null,this.W),ga(this)};function No(c){if(gu(c),c.G==3){var g=c.U++,_=oe(c.I);if(Bt(_,"SID",c.K),Bt(_,"RID",g),Bt(_,"TYPE","terminate"),vs(c,_),g=new Kn(c,c.j,g),g.L=2,g.v=ds(oe(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=bu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ne(g)}Eu(c)}function ma(c){c.g&&(Es(c),c.g.cancel(),c.g=null)}function gu(c){ma(c),c.u&&(m.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ga(c){if(!So(c.h)&&!c.s){c.s=!0;var g=c.Ga;gt||N(),ut||(gt(),ut=!0),Ft.add(g,c),c.B=0}}function qh(c,g){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=sr(O(c.Ga,c,g),ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Kn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=S(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=pu(this,U,g),_=oe(this.I),Bt(_,"RID",c),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),vs(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Oo(q)))+"&"+g:this.m&&Oe(_,this.m,q)),fr(this.h,U),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",g),Bt(_,"SID","null"),U.T=!0,Ln(U,_,null)):Ln(U,_,g),this.G=2}}else this.G==3&&(c?Mo(this,c):this.i.length==0||So(this.h)||Mo(this))};function Mo(c,g){var _;g?_=g.l:_=c.U++;const T=oe(c.I);Bt(T,"SID",c.K),Bt(T,"RID",_),Bt(T,"AID",c.T),vs(c,T),c.m&&c.o&&Oe(T,c.m,c.o),_=new Kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,_),Ln(_,T,g)}function vs(c,g){c.H&&ot(c.H,function(_,T){Bt(g,T,_)}),c.l&&hs({},function(_,T){Bt(g,T,_)})}function pu(c,g,_){_=Math.min(c.i.length,_);var T=c.l?O(c.l.Na,c.l,c):null;t:{var U=c.i;let q=-1;for(;;){const et=["count="+_];q==-1?0<_?(q=U[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Pt=!0;for(let Te=0;Te<_;Te++){let Ut=U[Te].g;const Ne=U[Te].map;if(Ut-=q,0>Ut)q=Math.max(0,U[Te].g-100),Pt=!1;else try{Wn(Ne,et,"req"+Ut+"_")}catch{T&&T(Ne)}}if(Pt){T=et.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,T}function yu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;gt||N(),ut||(gt(),ut=!0),Ft.add(g,c),c.v=0}}function xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=sr(O(c.Fa,c),ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=sr(O(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),ma(this),_u(this))};function Es(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=oe(c.qa);Bt(g,"RID","rpc"),Bt(g,"SID",c.K),Bt(g,"AID",c.T),Bt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(g,"TO",c.ja),Bt(g,"TYPE","xmlhttp"),vs(c,g),c.m&&c.o&&Oe(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ds(oe(g)),_.m=null,_.P=!0,vi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ma(this),xo(this),he(19))};function pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function vu(c,g){var _=null;if(c.g==g){pa(c),Es(c),c.g=null;var T=2}else if(hr(c.h,g))_=g.D,Tn(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;T=ia(),Ce(T,new au(T,_)),ga(c)}else yu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(T==1&&qh(c,g)||T==2&&xo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function ko(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ai(c,g){if(c.j.info("Error code "+g),g==2){var _=O(c.fb,c),T=c.Xa;const U=!T;T=new Ei(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dr(T,"https"),ds(T),U?fu(T.toString(),_):ms(T.toString(),_)}else he(2);c.G=0,c.l&&c.l.sa(g),Eu(c),gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const g=Ze(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ka,g),K(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,_){var T=_ instanceof Ei?oe(_):new Ei(_);if(T.g!="")g&&(T.g=g+"."+T.g),fs(T,T.s);else{var U=m.location;T=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var q=new Ei(null);T&&dr(q,T),g&&(q.g=g),U&&fs(q,U),_&&(q.l=_),T=q}return _=c.D,g=c.ya,_&&g&&Bt(T,_,g),Bt(T,"VER",c.la),vs(c,T),T}function bu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Gt(new gr({eb:_})):new Gt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ya(){}ya.prototype.g=function(c,g){return new Je(c,g)};function Je(c,g){ve.call(this),this.g=new da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!tt(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!tt(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ti(this)}H(Je,ve),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){No(this.g)},Je.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=_o(c),c=_);g.i.push(new Ph(g.Ya++,c)),g.G==3&&ga(g)},Je.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Je.aa.N.call(this)};function Su(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}H(Su,nr);function Au(){Un.call(this),this.status=1}H(Au,Un);function ti(c){this.g=c}H(ti,wu),ti.prototype.ua=function(){Ce(this.g,"a")},ti.prototype.ta=function(c){Ce(this.g,new Su(c))},ti.prototype.sa=function(c){Ce(this.g,new Au)},ti.prototype.ra=function(){Ce(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Nv=function(){return new ya},Ov=function(){return ia()},Dv=En,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Nc=Ee,_i.COMPLETE="complete",Cv=_i,su.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Il=su,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,Iv=Gt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",B_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Im("@firebase/firestore");function Ga(){return Gs.logLevel}function st(r,...t){if(Gs.logLevel<=Mt.DEBUG){const n=t.map(Om);Gs.debug(`Firestore (${uo}): ${r}`,...n)}}function Qi(r,...t){if(Gs.logLevel<=Mt.ERROR){const n=t.map(Om);Gs.error(`Firestore (${uo}): ${r}`,...n)}}function eo(r,...t){if(Gs.logLevel<=Mt.WARN){const n=t.map(Om);Gs.warn(`Firestore (${uo}): ${r}`,...n)}}function Om(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Yt(r,t){r||Et()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Zi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class gS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pS{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string"),new Mv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new Qe(t)}}class yS{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _S{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new yS(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vS{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0);const s=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new q_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string"),this.R=n.token,new q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ES(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const u=xv(),f=TS(u.encode(H_(r,n)),u.encode(H_(t,n)));return f!==0?f:Dt(s,o)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function H_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function TS(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function no(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=-62135596800,G_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*G_);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new mt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<F_)throw new mt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-F_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class oi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(),s===void 0?s=t.length-n:s>t.length-n&&Et(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=oi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=oi.isNumericId(t),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(t).compare(oi.extractNumericId(n)):rm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Yr.fromString(t.substring(4,t.length-2))}}class ee extends oi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends oi{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return bS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Be([Y_])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new mt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new mt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ee.fromString(t))}static fromName(t){return new pt(ee.fromString(t).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function wS(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new Xr(o,pt.empty(),t)}function SS(r){return new Xr(r.readTime,r.key,Pl)}class Xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Tt.min(),pt.empty(),Pl)}static max(){return new Xr(Tt.max(),pt.empty(),Pl)}}function AS(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==RS)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(o=>o?Q.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(b=>{f[y]=b,++m,m===u&&s(f)},b=>o(b))}})}static doWhile(t,n){return new Q((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function CS(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}ch.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function hh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function DS(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="";function OS(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Q_(t)),t=NS(r.get(n),t);return Q_(t)}function NS(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Vv:n+="";break;default:n+=u}}return n}function Q_(r){return r+Vv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function is(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Pv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new je(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,n,s,o,u){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(t){return new X_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class X_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new yn([])}unionWith(t){let n=new Ie(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Uv("Invalid base64 string: "+u):u}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const MS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Yt(!!r),typeof r=="string"){let t=0;const n=MS.exec(r);if(Yt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="server_timestamp",zv="__type__",jv="__previous_value__",Bv="__local_write_time__";function Mm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[zv])===null||n===void 0?void 0:n.stringValue)===Lv}function fh(r){const t=r.mapValue.fields[jv];return Mm(t)?fh(t):t}function Ul(r){const t=Wr(r.mapValue.fields[Bv].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,n,s,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Yc="(default)";class Ll{constructor(t,n){this.projectId=t,this.database=n||Yc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__type__",kS="__max__",Ac={mapValue:{}},Hv="__vector__",Qc="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:PS(r)?9007199254740991:VS(r)?10:11:Et()}function di(r,t){if(r===t)return!0;const n=Zr(r);if(n!==Zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),m=Wr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?Gc(f)===Gc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(K_(f)!==K_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(r,t);default:return Et()}}function zl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function io(r,t){if(r===t)return 0;const n=Zr(r),s=Zr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),p=de(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return W_(r.timestampValue,t.timestampValue);case 4:return W_(Ul(r),Ul(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const b=Dt(m[y],p[y]);if(b!==0)return b}return Dt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Dt(de(u.latitude),de(f.latitude));return m!==0?m:Dt(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return $_(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,b;const I=u.fields||{},O=f.fields||{},B=(m=I[Qc])===null||m===void 0?void 0:m.arrayValue,H=(p=O[Qc])===null||p===void 0?void 0:p.arrayValue,X=Dt(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((b=H==null?void 0:H.values)===null||b===void 0?void 0:b.length)||0);return X!==0?X:$_(B,H)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let I=0;I<p.length&&I<b.length;++I){const O=rm(p[I],b[I]);if(O!==0)return O;const B=io(m[p[I]],y[b[I]]);if(B!==0)return B}return Dt(p.length,b.length)}(r.mapValue,t.mapValue);default:throw Et()}}function W_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=Wr(r),s=Wr(t),o=Dt(n.seconds,s.seconds);return o!==0?o:Dt(n.nanos,s.nanos)}function $_(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return Dt(n.length,s.length)}function ro(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=sm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${sm(n.fields[f])}`;return o+"}"}(r.mapValue):Et()}function Mc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Mc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+Mc(f)}),o}(r.mapValue);default:throw Et()}}function am(r){return!!r&&"integerValue"in r}function xm(r){return!!r&&"arrayValue"in r}function Z_(r){return!!r&&"nullValue"in r}function J_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function VS(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[qv])===null||n===void 0?void 0:n.stringValue)===Hv}function Ol(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Ol(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return t}return Object.assign({},r)}function PS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(n)}setAll(t){let n=Be.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ol(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){is(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new un(Ol(this.value))}}function Fv(r){const t=[];return is(r.fields,(n,s)=>{const o=new Be([n]);if(xc(s)){const u=Fv(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,Tt.min(),Tt.min(),Tt.min(),un.empty(),0)}static newFoundDocument(t,n,s,o){return new Ke(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Ke(t,2,n,Tt.min(),Tt.min(),un.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,Tt.min(),Tt.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n){this.position=t,this.inclusive=n}}function t0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function e0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function US(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{}class Ae extends Gv{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new zS(t,n,s):n==="array-contains"?new qS(t,s):n==="in"?new HS(t,s):n==="not-in"?new FS(t,s):n==="array-contains-any"?new GS(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new jS(t,s):new BS(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends Gv{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new mi(t,n)}matches(t){return Yv(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Yv(r){return r.op==="and"}function Qv(r){return LS(r)&&Yv(r)}function LS(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function om(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(Qv(r))return r.filters.map(t=>om(t)).join(",");{const t=r.filters.map(n=>om(n)).join(",");return`${r.op}(${t})`}}function Kv(r,t){return r instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Kv(f,o.filters[m]),!0):!1}(r,t):void Et()}function Xv(r){return r instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(Xv).join(" ,")+"}"}(r):"Filter"}class zS extends Ae{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class jS extends Ae{constructor(t,n){super(t,"in",n),this.keys=Wv("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BS extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=Wv("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Wv(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pt.fromName(s.referenceValue))}class qS extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xm(n)&&zl(n.arrayValue,this.value)}}class HS extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class FS extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class GS extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function n0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new YS(r,t,n,s,o,u,f)}function km(r){const t=St(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>om(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ro(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ro(s)).join(",")),t.le=n}return t.le}function Vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!US(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Kv(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!e0(r.startAt,t.startAt)&&e0(r.endAt,t.endAt)}function lm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function QS(r,t,n,s,o,u,f,m){return new dh(r,t,n,s,o,u,f,m)}function $v(r){return new dh(r)}function i0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function KS(r){return r.collectionGroup!==null}function Nl(r){const t=St(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ie(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Xc(u,s))}),n.has(Be.keyField().canonicalString())||t.he.push(new Xc(Be.keyField(),s))}return t.he}function li(r){const t=St(r);return t.Pe||(t.Pe=XS(t,Nl(r))),t.Pe}function XS(r,t){if(r.limitType==="F")return n0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Xc(o.field,u)});const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return n0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function um(r,t,n){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function mh(r,t){return Vm(li(r),li(t))&&r.limitType===t.limitType}function Zv(r){return`${km(li(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Xv(o)).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=t0(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Nl(s),o)||s.endAt&&!function(f,m,p){const y=t0(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Nl(s),o))}(r,t)}function WS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Jv(r){return(t,n)=>{let s=!1;for(const o of Nl(r)){const u=$S(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $S(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?io(p,y):Et()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return Pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new se(pt.comparator);function Ki(){return ZS}const tE=new se(pt.comparator);function Cl(...r){let t=tE;for(const n of r)t=t.insert(n.key,n);return t}function eE(r){let t=tE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Bs(){return Ml()}function nE(){return Ml()}function Ml(){return new $s(r=>r.toString(),(r,t)=>r.isEqual(t))}const JS=new se(pt.comparator),tA=new Ie(pt.comparator);function xt(...r){let t=tA;for(const n of r)t=t.add(n);return t}const eA=new Ie(Dt);function nA(){return eA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function iE(r){return{integerValue:""+r}}function iA(r,t){return DS(t)?iE(t):Pm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function rA(r,t,n){return r instanceof jl?function(o,u){const f={fields:{[zv]:{stringValue:Lv},[Bv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mm(u)&&(u=fh(u)),u&&(f.fields[jv]=u),{mapValue:f}}(n,t):r instanceof Bl?sE(r,t):r instanceof ql?aE(r,t):function(o,u){const f=rE(o,u),m=r0(f)+r0(o.Ie);return am(f)&&am(o.Ie)?iE(m):Pm(o.serializer,m)}(r,t)}function sA(r,t,n){return r instanceof Bl?sE(r,t):r instanceof ql?aE(r,t):n}function rE(r,t){return r instanceof Wc?function(s){return am(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class jl extends ph{}class Bl extends ph{constructor(t){super(),this.elements=t}}function sE(r,t){const n=oE(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class ql extends ph{constructor(t){super(),this.elements=t}}function aE(r,t){let n=oE(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Wc extends ph{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function r0(r){return de(r.integerValue||r.doubleValue)}function oE(r){return xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,n){this.field=t,this.transform=n}}function oA(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Bl&&o instanceof Bl||s instanceof ql&&o instanceof ql?no(s.elements,o.elements,di):s instanceof Wc&&o instanceof Wc?di(s.Ie,o.Ie):s instanceof jl&&o instanceof jl}(r.transform,t.transform)}class lA{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function lE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new cE(r.key,ui.none()):new Kl(r.key,r.data,ui.none());{const n=r.data,s=un.empty();let o=new Ie(Be.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(r.key,s,new yn(o.toArray()),ui.none())}}function uA(r,t,n){r instanceof Kl?function(o,u,f){const m=o.value.clone(),p=a0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof rs?function(o,u,f){if(!kc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=a0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(uE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function xl(r,t,n,s){return r instanceof Kl?function(u,f,m,p){if(!kc(u.precondition,f))return m;const y=u.value.clone(),b=o0(u.fieldTransforms,p,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof rs?function(u,f,m,p){if(!kc(u.precondition,f))return m;const y=o0(u.fieldTransforms,p,f),b=f.data;return b.setAll(uE(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(u,f,m){return kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function cA(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=rE(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function s0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,(u,f)=>oA(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends yh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends yh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function a0(r,t,n){const s=new Map;Yt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,sA(f,m,n[o]))}return s}function o0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,rA(u,f,t))}return s}class cE extends yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hA extends yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&uA(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=xl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=xl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=nE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=lE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,(n,s)=>s0(n,s))&&no(this.baseMutations,t.baseMutations,(n,s)=>s0(n,s))}}class Um{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Yt(t.mutations.length===s.length);let o=function(){return JS}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Um(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,zt;function gA(r){switch(r){case $.OK:return Et();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et()}}function hE(r){if(r===void 0)return Qi("GRPC error has no .code"),$.UNKNOWN;switch(r){case _e.OK:return $.OK;case _e.CANCELLED:return $.CANCELLED;case _e.UNKNOWN:return $.UNKNOWN;case _e.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case _e.INTERNAL:return $.INTERNAL;case _e.UNAVAILABLE:return $.UNAVAILABLE;case _e.UNAUTHENTICATED:return $.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case _e.NOT_FOUND:return $.NOT_FOUND;case _e.ALREADY_EXISTS:return $.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return $.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case _e.ABORTED:return $.ABORTED;case _e.OUT_OF_RANGE:return $.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return $.UNIMPLEMENTED;case _e.DATA_LOSS:return $.DATA_LOSS;default:return Et()}}(zt=_e||(_e={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Yr([4294967295,4294967295],0);function l0(r){const t=xv().encode(r),n=new Rv;return n.update(t),new Uint8Array(n.digest())}function u0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Yr([n,s],0),new Yr([o,u],0)]}class Lm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Yr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Yr.fromNumber(s)));return o.compare(pA)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=l0(t),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Lm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=l0(t),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new _h(Tt.min(),o,new se(Dt),Ki(),xt())}}class Xl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Xl(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class fE{constructor(t,n){this.targetId=t,this.ge=n}}class dE{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class c0{constructor(){this.pe=0,this.ye=h0(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=xt(),n=xt(),s=xt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new Xl(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=h0()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Yt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yA{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new se(Dt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(lm(u))if(s===0){const f=new pt(u.path);this.ze(n,f,Ke.newNoDocument(f,Tt.min()))}else Yt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof Uv)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lm(f,o,u)}catch(p){return eo(p instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&lm(m.target)){const p=new pt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ke.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=xt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new _h(t,n,this.Ke,this.Qe,s);return this.Qe=Ki(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new se(Dt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new c0,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ie(Dt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ie(Dt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new c0),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Rc(){return new se(pt.comparator)}function h0(){return new se(pt.comparator)}const _A={asc:"ASCENDING",desc:"DESCENDING"},vA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EA={and:"AND",or:"OR"};class TA{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cm(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function bA(r,t){return $c(r,t.toTimestamp())}function ci(r){return Yt(!!r),Tt.fromTimestamp(function(n){const s=Wr(n);return new Re(s.seconds,s.nanos)}(r))}function zm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const n=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function gE(r){const t=ee.fromString(r);return Yt(EE(t)),t}function fm(r,t){return zm(r.databaseId,t.path)}function Fd(r,t){const n=gE(t);if(n.get(1)!==r.databaseId.projectId)throw new mt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new mt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(yE(n))}function pE(r,t){return zm(r.databaseId,t)}function wA(r){const t=gE(r);return t.length===4?ee.emptyPath():yE(t)}function dm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yE(r){return Yt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function f0(r,t,n){return{name:fm(r,t),fields:n.value.mapValue.fields}}function SA(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,b){return y.useProto3Json?(Yt(b===void 0||typeof b=="string"),qe.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array),qe.fromUint8Array(b||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const b=y.code===void 0?$.UNKNOWN:hE(y.code);return new mt(b,y.message||"")}(f);n=new dE(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fd(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Tt.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new Vc(y,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Fd(r,s.document),u=s.readTime?ci(s.readTime):Tt.min(),f=Ke.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Vc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Fd(r,s.document),u=s.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new mA(o,u),m=s.targetId;n=new fE(m,f)}}return n}function AA(r,t){let n;if(t instanceof Kl)n={update:f0(r,t.key,t.value)};else if(t instanceof cE)n={delete:fm(r,t.key)};else if(t instanceof rs)n={update:f0(r,t.key,t.data),updateMask:kA(t.fieldMask)};else{if(!(t instanceof hA))return Et();n={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof jl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:bA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(r,t.precondition)),n}function RA(r,t){return r&&r.length>0?(Yt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(Tt.min())&&(f=ci(u)),new lA(f,o.transformResults||[])}(n,t))):[]}function IA(r,t){return{documents:[pE(r,t.path)]}}function CA(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pE(r,o);const u=function(y){if(y.length!==0)return vE(mi.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(b=>function(O){return{field:Qa(O.field),direction:NA(O.dir)}}(b))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=cm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function DA(r){let t=wA(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Yt(s===1);const b=n.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=function(I){const O=_E(I);return O instanceof mi&&Qv(O)?O.getFilters():[O]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(O=>function(H){return new Xc(Ka(H.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(O))}(n.orderBy));let m=null;n.limit&&(m=function(I){let O;return O=typeof I=="object"?I.value:I,hh(O)?null:O}(n.limit));let p=null;n.startAt&&(p=function(I){const O=!!I.before,B=I.values||[];return new Kc(B,O)}(n.startAt));let y=null;return n.endAt&&(y=function(I){const O=!I.before,B=I.values||[];return new Kc(B,O)}(n.endAt)),QS(t,o,f,u,m,"F",p,y)}function OA(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _E(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(n){return Ae.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>_E(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(n.compositeFilter.op))}(r):Et()}function NA(r){return _A[r]}function MA(r){return vA[r]}function xA(r){return EA[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Be.fromServerFormat(r.fieldPath)}function vE(r){return r instanceof Ae?function(n){if(n.op==="=="){if(J_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(Z_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(Z_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:MA(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(o=>vE(o));return s.length===1?s[0]:{compositeFilter:{op:xA(n.op),filters:s}}}(r):Et()}function kA(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function EE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t){this.Tt=t}}function PA(r){const t=DA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.Tn=new LA}addToCollectionParentIndex(t,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Xr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class LA{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ie(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ie(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(TE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new so(0)}static Kn(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",zA=1048576;function g0([r,t],[n,s]){const o=Dt(r,n);return o===0?Dt(t,s):o}class jA{constructor(t){this.Hn=t,this.buffer=new Ie(g0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();g0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BA{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){st(m0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?st(m0,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.er(3e5)})}}class qA{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(ch.ae);const s=new jA(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(d0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(t,o))).next(I=>(s=I,m=Date.now(),this.removeTargets(t,s,n))).next(I=>(u=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(y=Date.now(),Ga()<=Mt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function HA(r,t){return new qA(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.changes=new $s(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&xl(s.mutation,o,yn.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const o=Bs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Cl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Bs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Ki();const f=Ml(),m=function(){return Ml()}();return n.forEach((p,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof rs)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),xl(b.mutation,y,b.mutation.getFieldMask(),Re.now())):f.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,b)=>f.set(y,b)),n.forEach((y,b)=>{var I;return m.set(y,new GA(b,(I=f.get(y))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Ml();let o=new se((f,m)=>f-m),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let b=s.get(p)||yn.empty();b=m.applyToLocalView(y,b),s.set(p,b);const I=(o.get(m.batchId)||xt()).add(p);o=o.insert(m.batchId,I)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,b=p.value,I=nE();b.forEach(O=>{if(!u.has(O)){const B=lE(n.get(O),s.get(O));B!==null&&I.set(O,B),u=u.add(O)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,I))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):KS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Q.resolve(Bs());let m=Pl,p=u;return f.next(y=>Q.forEach(y,(b,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),u.get(b)?Q.resolve():this.remoteDocumentCache.getEntry(t,b).next(O=>{p=p.insert(b,O)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,xt())).next(b=>({batchId:m,changes:eE(b)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let o=Cl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Cl();return this.indexManager.getCollectionParents(t,u).next(m=>Q.forEach(m,p=>{const y=function(I,O){return new dh(O,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(b=>{b.forEach((I,O)=>{f=f.insert(I,O)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Ke.newInvalidDocument(b)))});let m=Cl();return f.forEach((p,y)=>{const b=u.get(p);b!==void 0&&xl(b.mutation,y,yn.empty(),Re.now()),gh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:PA(o.bundledQuery),readTime:ci(o.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.overlays=new se(pt.comparator),this.Rr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Bs();return Q.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const o=Bs(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new se((y,b)=>y-b);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Bs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,b)=>m.set(y,b)),!(m.size()>=o)););return Q.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dA(n,s));let u=this.Rr.get(n);u===void 0&&(u=xt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Vr=new Ie(Ve.mr),this.gr=new Ie(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ve(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new pt(new ee([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new pt(new ee([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=xt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return pt.comparator(t.key,n.key)||Dt(t.Cr,n.Cr)}static pr(t,n){return Dt(t.Cr,n.Cr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ie(Ve.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fA(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(t,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Nm:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Dt);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new pt(u),0);let m=new Ie(Dt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Q.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Yt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Mr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t){this.kr=t,this.docs=function(){return new se(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ke.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ki();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||AS(SS(b),s)<=0||(o.has(b.key)||gh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et()}qr(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new ZA(this)}getSize(t){return Q.resolve(this.size)}}class ZA extends FA{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.persistence=t,this.Qr=new $s(n=>km(n),Vm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jm,this.targetCount=0,this.Kr=so.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Q.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new so(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.zn(n),Q.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Q.waitFor(u).next(()=>o)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Q.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new ch(0),this.zr=!1,this.zr=!0,this.jr=new XA,this.referenceDelegate=t(this),this.Hr=new JA(this),this.indexManager=new UA,this.remoteDocumentCache=function(o){return new $A(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new VA(n),this.Yr=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new KA,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new WA(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const o=new t2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class t2 extends IS{constructor(t){super(),this.currentSequenceNumber=t}}class Bm{constructor(t){this.persistence=t,this.ti=new jm,this.ni=null}static ri(t){return new Bm(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.oi=new $s(s=>OS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=HA(this,n)}static ri(t,n){return new Zc(t,n)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return Q.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?Q.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Tt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Mc(t.data.value)),n}ar(t,n,s){return Q.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return W1()?8:CS(Xe())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new e2;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Ga()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Ga()<=Mt.DEBUG&&st("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ga()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):Q.resolve())}rs(t,n){if(i0(n))return Q.resolve(null);let s=li(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=um(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=xt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(t,um(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,o){return i0(n)||o.isEqual(Tt.min())?Q.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Q.resolve(null):(Ga()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.hs(t,f,n,wS(o,Pl)).next(m=>m))})}cs(t,n){let s=new Ie(Jv(t));return n.forEach((o,u)=>{gh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Ga()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ns.getDocumentsMatchingQuery(t,n,Xr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",i2=3e8;class r2{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new se(Dt),this.Is=new $s(u=>km(u),Vm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function s2(r,t,n,s){return new r2(r,t,n,s)}async function wE(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xt();for(const y of o){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function a2(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,b){const I=y.batch,O=I.keys();let B=Q.resolve();return O.forEach(H=>{B=B.next(()=>b.getEntry(p,H)).next(X=>{const K=y.docVersions.get(H);Yt(K!==null),X.version.compareTo(K)<0&&(I.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),b.addEntry(X)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(p,I))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function SE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function o2(r,t){const n=St(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((b,I)=>{const O=o.get(I);if(!O)return;m.push(n.Hr.removeMatchingKeys(u,b.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(u,b.addedDocuments,I)));let B=O.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(I)!==null?B=B.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,s)),o=o.insert(I,B),function(X,K,ft){return X.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=i2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(O,B,b)&&m.push(n.Hr.updateTargetData(u,B))});let p=Ki(),y=xt();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(l2(u,f,t.documentUpdates).next(b=>{p=b.Vs,y=b.fs})),!s.isEqual(Tt.min())){const b=n.Hr.getLastRemoteSnapshotVersion(u).next(I=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(b)}return Q.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function l2(r,t,n){let s=xt(),o=xt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Ki();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):st(Hm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function u2(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Nm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function c2(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,Q.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new qr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function mm(r,t,n){const s=St(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ho(f))throw f;st(Hm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function p0(r,t,n){const s=St(r);let o=Tt.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,b){const I=St(p),O=I.Is.get(b);return O!==void 0?Q.resolve(I.Ts.get(O)):I.Hr.getTargetData(y,b)}(s,f,li(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:xt())).next(m=>(h2(s,WS(t),m),{documents:m,gs:u})))}function h2(r,t,n){let s=r.Es.get(t)||Tt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class y0{constructor(){this.activeTargetIds=nA()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class f2{constructor(){this.ho=new y0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new y0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class v0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(_0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){st(_0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function gm(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=gm(),m=this.bo(t,n.toUriEncodedString());st(Gd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(y=>(st(Gd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw eo(Gd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=m2[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class y2 extends g2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=gm();return new Promise((f,m)=>{const p=new Iv;p.setWithCredentials(!0),p.listenOnce(Cv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nc.NO_ERROR:const b=p.getResponseJson();st(Ye,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(b)),f(b);break;case Nc.TIMEOUT:st(Ye,`RPC '${t}' ${u} timed out`),m(new mt($.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const I=p.getStatus();if(st(Ye,`RPC '${t}' ${u} failed with status:`,I,"response text:",p.getResponseText()),I>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const B=O==null?void 0:O.error;if(B&&B.status&&B.message){const H=function(K){const ft=K.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ft)>=0?ft:$.UNKNOWN}(B.status);m(new mt(H,B.message))}else m(new mt($.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt($.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{st(Ye,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);st(Ye,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=gm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Nv(),m=Ov(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");st(Ye,`Creating RPC '${t}' stream ${o}: ${b}`,p);const I=f.createWebChannel(b,p);let O=!1,B=!1;const H=new p2({Fo:K=>{B?st(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(O||(st(Ye,`Opening RPC '${t}' stream ${o} transport.`),I.open(),O=!0),st(Ye,`RPC '${t}' stream ${o} sending:`,K),I.send(K))},Mo:()=>I.close()}),X=(K,ft,tt)=>{K.listen(ft,at=>{try{tt(at)}catch(yt){setTimeout(()=>{throw yt},0)}})};return X(I,Il.EventType.OPEN,()=>{B||(st(Ye,`RPC '${t}' stream ${o} transport opened.`),H.Qo())}),X(I,Il.EventType.CLOSE,()=>{B||(B=!0,st(Ye,`RPC '${t}' stream ${o} transport closed`),H.Uo())}),X(I,Il.EventType.ERROR,K=>{B||(B=!0,eo(Ye,`RPC '${t}' stream ${o} transport errored:`,K),H.Uo(new mt($.UNAVAILABLE,"The operation could not be completed")))}),X(I,Il.EventType.MESSAGE,K=>{var ft;if(!B){const tt=K.data[0];Yt(!!tt);const at=tt,yt=(at==null?void 0:at.error)||((ft=at[0])===null||ft===void 0?void 0:ft.error);if(yt){st(Ye,`RPC '${t}' stream ${o} received error:`,yt);const J=yt.status;let ot=function(w){const C=_e[w];if(C!==void 0)return hE(C)}(J),M=yt.message;ot===void 0&&(ot=$.INTERNAL,M="Unknown error status: "+J+" with message "+yt.message),B=!0,H.Uo(new mt(ot,M)),I.close()}else st(Ye,`RPC '${t}' stream ${o} received:`,tt),H.Ko(tt)}}),X(m,Dv.STAT_EVENT,K=>{K.stat===im.PROXY?st(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===im.NOPROXY&&st(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){return new TA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="PersistentStream";class RE{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AE(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new mt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return st(E0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(st(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _2 extends RE{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=SA(this.serializer,t),s=function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?ci(f.readTime):Tt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=dm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=lm(p)?{documents:IA(u,p)}:{query:CA(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=mE(u,f.resumeToken);const y=cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=$c(u,f.snapshotVersion.toTimestamp());const y=cm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=OA(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=dm(this.serializer),n.removeTarget=t,this.I_(n)}}class v2 extends RE{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=RA(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=dm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>AA(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{}class T2 extends E2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt($.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,hm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt($.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,hm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new mt($.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class b2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):st("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class w2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Zs(this)&&(st(Ys,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await Wl(y),y.j_.set("Unknown"),y.W_.delete(4),await Eh(y)}(this))})}),this.j_=new b2(s,o)}}async function Eh(r){if(Zs(r))for(const t of r.G_)await t(!0)}async function Wl(r){for(const t of r.G_)await t(!1)}function IE(r,t){const n=St(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Qm(n)?Ym(n):fo(n).c_()&&Gm(n,t))}function Fm(r,t){const n=St(r),s=fo(n);n.K_.delete(t),s.c_()&&CE(n,t),n.K_.size===0&&(s.c_()?s.P_():Zs(n)&&n.j_.set("Unknown"))}function Gm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).y_(t)}function CE(r,t){r.H_.Ne(t),fo(r).w_(t)}function Ym(r){r.H_=new yA({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.j_.B_()}function Qm(r){return Zs(r)&&!fo(r).u_()&&r.K_.size>0}function Zs(r){return St(r).W_.size===0}function DE(r){r.H_=void 0}async function S2(r){r.j_.set("Online")}async function A2(r){r.K_.forEach((t,n)=>{Gm(r,t)})}async function R2(r,t){DE(r),Qm(r)?(r.j_.q_(t),Ym(r)):r.j_.set("Unknown")}async function I2(r,t,n){if(r.j_.set("Online"),t instanceof dE&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){st(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Jc(r,s)}else if(t instanceof Vc?r.H_.We(t):t instanceof fE?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Tt.min()))try{const s=await SE(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.K_.get(y);b&&u.K_.set(y,b.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const b=u.K_.get(p);if(!b)return;u.K_.set(p,b.withResumeToken(qe.EMPTY_BYTE_STRING,b.snapshotVersion)),CE(u,p);const I=new qr(b.target,p,y,b.sequenceNumber);Gm(u,I)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){st(Ys,"Failed to raise snapshot:",s),await Jc(r,s)}}async function Jc(r,t,n){if(!ho(t))throw t;r.W_.add(1),await Wl(r),r.j_.set("Offline"),n||(n=()=>SE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Ys,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Eh(r)})}function OE(r,t){return t().catch(n=>Jc(r,n,t))}async function Th(r){const t=St(r),n=Jr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Nm;for(;C2(t);)try{const o=await u2(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,D2(t,o)}catch(o){await Jc(t,o)}NE(t)&&ME(t)}function C2(r){return Zs(r)&&r.U_.length<10}function D2(r,t){r.U_.push(t);const n=Jr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function NE(r){return Zs(r)&&!Jr(r).u_()&&r.U_.length>0}function ME(r){Jr(r).start()}async function O2(r){Jr(r).C_()}async function N2(r){const t=Jr(r);for(const n of r.U_)t.b_(n.mutations)}async function M2(r,t,n){const s=r.U_.shift(),o=Um.from(s,t,n);await OE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Th(r)}async function x2(r,t){t&&Jr(r).S_&&await async function(s,o){if(function(f){return gA(f)&&f!==$.ABORTED}(o.code)){const u=s.U_.shift();Jr(s).h_(),await OE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Th(s)}}(r,t),NE(r)&&ME(r)}async function T0(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),st(Ys,"RemoteStore received new credentials");const s=Zs(n);n.W_.add(3),await Wl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Eh(n)}async function k2(r,t){const n=St(r);t?(n.W_.delete(2),await Eh(n)):t||(n.W_.add(2),await Wl(n),n.j_.set("Unknown"))}function fo(r){return r.J_||(r.J_=function(n,s,o){const u=St(n);return u.M_(),new _2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:S2.bind(null,r),No:A2.bind(null,r),Lo:R2.bind(null,r),p_:I2.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Qm(r)?Ym(r):r.j_.set("Unknown")):(await r.J_.stop(),DE(r))})),r.J_}function Jr(r){return r.Y_||(r.Y_=function(n,s,o){const u=St(n);return u.M_(),new v2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:O2.bind(null,r),Lo:x2.bind(null,r),D_:N2.bind(null,r),v_:M2.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Th(r)):(await r.Y_.stop(),r.U_.length>0&&(st(Ys,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Km(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),ho(r))return new mt($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Cl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.Z_=new se(pt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class ao{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ao(t,n,Wa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class P2{constructor(){this.queries=w0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=w0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new mt($.ABORTED,"Firestore shutting down"))}}function w0(){return new $s(r=>Zv(r),mh)}async function U2(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new V2,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xm(f,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Wm(n)}async function L2(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function z2(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Wm(n)}function j2(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Wm(r){r.ia.forEach(t=>{t.next()})}var pm,S0;(S0=pm||(pm={}))._a="default",S0.Cache="cache";class B2{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this.key=t}}class kE{constructor(t){this.key=t}}class q2{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=Jv(t),this.wa=new Wa(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new b0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((b,I)=>{const O=o.get(b),B=gh(this.query,I)?I:null,H=!!O&&this.mutatedKeys.has(O.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let K=!1;O&&B?O.data.isEqual(B.data)?H!==X&&(s.track({type:3,doc:B}),K=!0):this.va(O,B)||(s.track({type:2,doc:B}),K=!0,(p&&this.ya(B,p)>0||y&&this.ya(B,y)<0)&&(m=!0)):!O&&B?(s.track({type:0,doc:B}),K=!0):O&&!B&&(s.track({type:1,doc:O}),K=!0,(p||y)&&(m=!0)),K&&(B?(f=f.add(B),u=X?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((b,I)=>function(B,H){const X=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return X(B)-X(H)}(b.type,I.type)||this.ya(b.doc,I.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new ao(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new b0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new kE(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new xE(s))}),n}Oa(t){this.fa=t.gs,this.pa=xt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $m="SyncEngine";class H2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class F2{constructor(t){this.key=t,this.Ba=!1}}class G2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new $s(m=>Zv(m),mh),this.qa=new Map,this.Qa=new Set,this.$a=new se(pt.comparator),this.Ua=new Map,this.Ka=new jm,this.Wa={},this.Ga=new Map,this.za=so.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Y2(r,t,n=!0){const s=jE(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await VE(s,t,n,!0),o}async function Q2(r,t){const n=jE(r);await VE(n,t,!0,!1)}async function VE(r,t,n,s){const o=await c2(r.localStore,li(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await K2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&IE(r.remoteStore,o),m}async function K2(r,t,n,s,o){r.Ha=(I,O,B)=>async function(X,K,ft,tt){let at=K.view.ba(ft);at.ls&&(at=await p0(X.localStore,K.query,!1).then(({documents:M})=>K.view.ba(M,at)));const yt=tt&&tt.targetChanges.get(K.targetId),J=tt&&tt.targetMismatches.get(K.targetId)!=null,ot=K.view.applyChanges(at,X.isPrimaryClient,yt,J);return R0(X,K.targetId,ot.Ma),ot.snapshot}(r,I,O,B);const u=await p0(r.localStore,t,!0),f=new q2(t,u.gs),m=f.ba(u.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);R0(r,n,y.Ma);const b=new H2(t,n,f);return r.ka.set(t,b),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function X2(r,t,n){const s=St(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!mh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fm(s.remoteStore,o.targetId),ym(s,o.targetId)}).catch(co)):(ym(s,o.targetId),await mm(s.localStore,o.targetId,!0))}async function W2(r,t){const n=St(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function $2(r,t,n){const s=rR(r);try{const o=await function(f,m){const p=St(f),y=Re.now(),b=m.reduce((B,H)=>B.add(H.key),xt());let I,O;return p.persistence.runTransaction("Locally write mutations","readwrite",B=>{let H=Ki(),X=xt();return p.ds.getEntries(B,b).next(K=>{H=K,H.forEach((ft,tt)=>{tt.isValidDocument()||(X=X.add(ft))})}).next(()=>p.localDocuments.getOverlayedDocuments(B,H)).next(K=>{I=K;const ft=[];for(const tt of m){const at=cA(tt,I.get(tt.key).overlayedDocument);at!=null&&ft.push(new rs(tt.key,at,Fv(at.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,ft,m)}).next(K=>{O=K;const ft=K.applyToLocalDocumentSet(I,X);return p.documentOverlayCache.saveOverlays(B,K.batchId,ft)})}).then(()=>({batchId:O.batchId,changes:eE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new se(Dt)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await $l(s,o.changes),await Th(s.remoteStore)}catch(o){const u=Xm(o,"Failed to persist write");n.reject(u)}}async function PE(r,t){const n=St(r);try{const s=await o2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Yt(f.Ba):o.removedDocuments.size>0&&(Yt(f.Ba),f.Ba=!1))}),await $l(n,s,t)}catch(s){await co(s)}}function A0(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=St(f);p.onlineState=m;let y=!1;p.queries.forEach((b,I)=>{for(const O of I.ta)O.sa(m)&&(y=!0)}),y&&Wm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Z2(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new se(pt.comparator);f=f.insert(u,Ke.newNoDocument(u,Tt.min()));const m=xt().add(u),p=new _h(Tt.min(),new Map,new se(Dt),f,m);await PE(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),Zm(s)}else await mm(s.localStore,t,!1).then(()=>ym(s,t,n)).catch(co)}async function J2(r,t){const n=St(r),s=t.batch.batchId;try{const o=await a2(n.localStore,t);LE(n,s,null),UE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,o)}catch(o){await co(o)}}async function tR(r,t,n){const s=St(r);try{const o=await function(f,m){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,m).next(I=>(Yt(I!==null),b=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(s.localStore,t);LE(s,t,n),UE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $l(s,o)}catch(o){await co(o)}}function UE(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function LE(r,t,n){const s=St(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function ym(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||zE(r,s)})}function zE(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Fm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Zm(r))}function R0(r,t,n){for(const s of n)s instanceof xE?(r.Ka.addReference(s.key,t),eR(r,s)):s instanceof kE?(st($m,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||zE(r,s.key)):Et()}function eR(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(st($m,"New document in limbo: "+n),r.Qa.add(s),Zm(r))}function Zm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new pt(ee.fromString(t)),s=r.za.next();r.Ua.set(s,new F2(n)),r.$a=r.$a.insert(n,s),IE(r.remoteStore,new qr(li($v(n.path)),s,"TargetPurposeLimboResolution",ch.ae))}}async function $l(r,t,n){const s=St(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(y=>{var b;if((y||n)&&s.isPrimaryClient){const I=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=qm.Yi(p.targetId,y);u.push(I)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const b=St(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(y,O=>Q.forEach(O.Hi,B=>b.persistence.referenceDelegate.addReference(I,O.targetId,B)).next(()=>Q.forEach(O.Ji,B=>b.persistence.referenceDelegate.removeReference(I,O.targetId,B)))))}catch(I){if(!ho(I))throw I;st(Hm,"Failed to update sequence numbers: "+I)}for(const I of y){const O=I.targetId;if(!I.fromCache){const B=b.Ts.get(O),H=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(H);b.Ts=b.Ts.insert(O,X)}}}(s.localStore,u))}async function nR(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){st($m,"User change. New user:",t.toKey());const s=await wE(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new mt($.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(n,s.Rs)}}function iR(r,t){const n=St(r),s=n.Ua.get(t);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function jE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z2.bind(null,t),t.La.p_=z2.bind(null,t.eventManager),t.La.Ja=j2.bind(null,t.eventManager),t}function rR(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=J2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return s2(this.persistence,new n2,t.initialUser,this.serializer)}Xa(t){return new bE(Bm.ri,this.serializer)}Za(t){return new f2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class sR extends th{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Yt(this.persistence.referenceDelegate instanceof Zc);const s=this.persistence.referenceDelegate.garbageCollector;return new BA(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new bE(s=>Zc.ri(s,n),this.serializer)}}class _m{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nR.bind(null,this.syncEngine),await k2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new P2}()}createDatastore(t){const n=vh(t.databaseInfo.databaseId),s=function(u){return new y2(u)}(t.databaseInfo);return function(u,f,m,p){return new T2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new w2(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return v0.D()?new v0:new d2}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,b){const I=new G2(o,u,f,m,p,y);return b&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=St(o);st(Ys,"RemoteStore shutting down."),u.W_.add(5),await Wl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class oR{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{st(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(st(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ts,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await wE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function I0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await lR(r);st(ts,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>T0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>T0(t.remoteStore,o)),r._onlineComponents=t}async function lR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ts,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Qd(r,new th)}}else st(ts,"Using default OfflineComponentProvider"),await Qd(r,new sR(void 0));return r._offlineComponents}async function BE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ts,"Using user provided OnlineComponentProvider"),await I0(r,r._uninitializedComponentsProvider._online)):(st(ts,"Using default OnlineComponentProvider"),await I0(r,new _m))),r._onlineComponents}function uR(r){return BE(r).then(t=>t.syncEngine)}async function cR(r){const t=await BE(r),n=t.eventManager;return n.onListen=Y2.bind(null,t.syncEngine),n.onUnlisten=X2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Q2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=W2.bind(null,t.syncEngine),n}function hR(r,t,n={}){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const b=new aR({next:O=>{b.su(),f.enqueueAndForget(()=>L2(u,I)),O.fromCache&&p.source==="server"?y.reject(new mt($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),I=new B2(m,b,{includeMetadataChanges:!0,Ta:!0});return U2(u,I)}(await cR(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r,t,n){if(!n)throw new mt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function fR(r,t,n,s){if(t===!0&&s===!0)throw new mt($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D0(r){if(!pt.isDocumentKey(r))throw new mt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O0(r){if(pt.isDocumentKey(r))throw new mt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function Qs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(r);throw new mt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",N0=!0;class M0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=N0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:N0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zA)throw new mt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new mt($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new mt($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new mt($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mS;switch(s.type){case"firstParty":return new _S(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=C0.get(n);s&&(st("ComponentProvider","Removing Datastore"),C0.delete(n),s.terminate())}(this),Promise.resolve()}}function dR(r,t,n,s={}){var o;const u=(r=Qs(r,bh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==FE&&u.host!==m&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Hs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=Qe.MOCK_USER;else{y=H1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new mt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Qe(I)}r._authCredentials=new gS(new Mv(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class _n{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class Kr extends wh{constructor(t,n,s){super(t,n,$v(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new pt(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function mR(r,t,...n){if(r=nn(r),HE("collection","path",t),r instanceof bh){const s=ee.fromString(t,...n);return O0(s),new Kr(r,null,s)}{if(!(r instanceof _n||r instanceof Kr))throw new mt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return O0(s),new Kr(r.firestore,null,s)}}function es(r,t,...n){if(r=nn(r),arguments.length===1&&(t=kv.newId()),HE("doc","path",t),r instanceof bh){const s=ee.fromString(t,...n);return D0(s),new _n(r,null,new pt(s))}{if(!(r instanceof _n||r instanceof Kr))throw new mt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return D0(s),new _n(r.firestore,r instanceof Kr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="AsyncQueue";class k0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AE(this,"async_queue_retry"),this.Su=()=>{const s=Yd();s&&st(x0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=Yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ho(t))throw t;st(x0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Km.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Sh extends bh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k0(t),this._firestoreClient=void 0,await t}}}function gR(r,t){const n=typeof r=="object"?r:wv(),s=typeof r=="string"?r:Yc,o=Dm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=B1("firestore");u&&dR(o,...u)}return o}function GE(r){if(r._terminated)throw new mt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pR(r),r._firestoreClient}function pR(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,b){return new xS(m,p,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,qE(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new oR(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oo(qe.fromBase64String(t))}catch(n){throw new mt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new oo(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new mt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new mt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^__.*__$/;class _R{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)}}class YE{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function QE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class ng{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return eh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(QE(this.Lu)&&yR.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class vR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||vh(t)}ju(t,n,s,o=!1){return new ng({Lu:t,methodName:n,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KE(r){const t=r._freezeSettings(),n=vh(r._databaseId);return new vR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ER(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);rg("Data must be an object, but it was:",f,s);const m=XE(s,f);let p,y;if(u.merge)p=new yn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const I of u.mergeFields){const O=vm(t,I,n);if(!f.contains(O))throw new mt($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);$E(b,O)||b.push(O)}p=new yn(b),y=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=f.fieldTransforms;return new _R(new un(m),p,y)}class Ih extends Rh{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}class ig extends Rh{_toFieldTransform(t){return new aA(t.path,new jl)}isEqual(t){return t instanceof ig}}function TR(r,t,n,s){const o=r.ju(1,t,n);rg("Data must be an object, but it was:",o,s);const u=[],f=un.empty();is(s,(p,y)=>{const b=sg(t,p,n);y=nn(y);const I=o.Uu(b);if(y instanceof Ih)u.push(b);else{const O=Ch(y,I);O!=null&&(u.push(b),f.set(b,O))}});const m=new yn(u);return new YE(f,m,o.fieldTransforms)}function bR(r,t,n,s,o,u){const f=r.ju(1,t,n),m=[vm(t,s,n)],p=[o];if(u.length%2!=0)throw new mt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<u.length;O+=2)m.push(vm(t,u[O])),p.push(u[O+1]);const y=[],b=un.empty();for(let O=m.length-1;O>=0;--O)if(!$E(y,m[O])){const B=m[O];let H=p[O];H=nn(H);const X=f.Uu(B);if(H instanceof Ih)y.push(B);else{const K=Ch(H,X);K!=null&&(y.push(B),b.set(B,K))}}const I=new yn(y);return new YE(b,I,f.fieldTransforms)}function Ch(r,t){if(WE(r=nn(r)))return rg("Unsupported field value:",t,r),XE(r,t);if(r instanceof Rh)return function(s,o){if(!QE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Ch(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:$c(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(o.serializer,u)}}if(s instanceof tg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:mE(o.serializer,s._byteString)};if(s instanceof _n){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof eg)return function(f,m){return{mapValue:{fields:{[qv]:{stringValue:Hv},[Qc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Pm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jm(s)}`)}(r,t)}function XE(r,t){const n={};return Pv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,(s,o)=>{const u=Ch(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function WE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof tg||r instanceof oo||r instanceof _n||r instanceof Rh||r instanceof eg)}function rg(r,t,n){if(!WE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Jm(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function vm(r,t,n){if((t=nn(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return sg(r,t);throw eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wR=new RegExp("[~\\*/\\[\\]]");function sg(r,t,n){if(t.search(wR)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ah(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function eh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new mt($.INVALID_ARGUMENT,m+r+p)}function $E(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(JE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SR extends ZE{data(){return super.data()}}function JE(r,t){return typeof t=="string"?sg(r,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RR{convertValue(t,n="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return is(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Qc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new eg(u)}convertGeoPoint(t){return new tg(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=fh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Yt(EE(s));const o=new Ll(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class CR extends ZE{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(JE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Pc extends CR{data(t={}){return super.data(t)}}class DR{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Pc(this._firestore,this._userDataWriter,s.key,s,new Cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Pc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Pc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:OR(m.type),doc:p,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class NR extends RR{constructor(t){super(),this.firestore=t}convertBytes(t){return new oo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function MR(r){r=Qs(r,wh);const t=Qs(r.firestore,Sh),n=GE(t),s=new NR(t);return AR(r._query),hR(n,r._query).then(o=>new DR(t,s,r,o))}function xR(r,t,n){r=Qs(r,_n);const s=Qs(r.firestore,Sh),o=IR(r.converter,t);return tT(s,[ER(KE(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ui.none())])}function Ks(r,t,n,...s){r=Qs(r,_n);const o=Qs(r.firestore,Sh),u=KE(o);let f;return f=typeof(t=nn(t))=="string"||t instanceof Ah?bR(u,"updateDoc",r._key,t,n,s):TR(u,"updateDoc",r._key,t),tT(o,[f.toMutation(r._key,ui.exists(!0))])}function tT(r,t){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>$2(await uR(s),o,u)),u.promise}(GE(r),t)}function kR(){return new ig("serverTimestamp")}(function(t,n=!0){(function(o){uo=o})(lo),to(new Fs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Sh(new pS(s.getProvider("auth-internal")),new vS(f,s.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(y.options.projectId,b)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gr(j_,B_,t),Gr(j_,B_,"esm2017")})();var VR="firebase",PR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(VR,PR,"app");function ag(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=eT,nT=new Yl("auth","Firebase",eT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Im("@firebase/auth");function LR(r,...t){nh.logLevel<=Mt.WARN&&nh.warn(`Auth (${lo}): ${r}`,...t)}function Uc(r,...t){nh.logLevel<=Mt.ERROR&&nh.error(`Auth (${lo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...t){throw og(r,...t)}function hi(r,...t){return og(r,...t)}function iT(r,t,n){const s=Object.assign(Object.assign({},UR()),{[t]:n});return new Yl("auth","Firebase",s).create(t,{appName:r.name})}function Gi(r){return iT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return nT.create(r,...t)}function vt(r,t,...n){if(!r)throw og(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function Xi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function zR(){return V0()==="http:"||V0()==="https:"}function V0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||Q1()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xi(n>t,"Short delay should be less than long delay!"),this.isMobile=F1()||K1()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,t){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Zl(3e4,6e4);function ss(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function as(r,t,n,s,o={}){return sT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ql(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return Y1()||(y.referrerPolicy="no-referrer"),rT.fetch()(aT(r,r.config.apiHost,n,m),y)})}async function sT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},qR),t);try{const o=new GR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Dc(r,"user-disabled",f);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw iT(r,b,y);Hn(r,b)}}catch(o){if(o instanceof Zi)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function Jl(r,t,n,s,o={}){const u=await as(r,t,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function aT(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`}function FR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),HR.get())})}}function Dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,t,s);return o.customData._tokenResponse=n,o}function P0(r){return r!==void 0&&r.enterprise!==void 0}class YR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return FR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QR(r,t){return as(r,"GET","/v2/recaptchaConfig",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function oT(r,t){return as(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XR(r,t=!1){const n=nn(r),s=await n.getIdToken(t),o=ug(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:kl(Kd(o.auth_time)),issuedAtTime:kl(Kd(o.iat)),expirationTime:kl(Kd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Kd(r){return Number(r)*1e3}function ug(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=pv(n);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function U0(r){const t=ug(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Zi&&WR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Hl(r,oT(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?lT(u.providerUserInfo):[],m=JR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),b=p?y:!1,I={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(r,I)}async function ZR(r){const t=nn(r);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function lT(r){return r.map(t=>{var{providerId:n}=t,s=ag(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(r,t){const n=await sT(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=aT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",rT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eI(r,t){return as(r,"POST","/v2/accounts:revokeToken",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):U0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=U0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XR(this,t)}reload(){return ZR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Gi(this.auth));const t=await this.getIdToken();return await Hl(this,KR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,b;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,O=(o=n.email)!==null&&o!==void 0?o:void 0,B=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,K=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ft=(y=n.createdAt)!==null&&y!==void 0?y:void 0,tt=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:at,emailVerified:yt,isAnonymous:J,providerData:ot,stsTokenManager:M}=n;vt(at&&M,t,"internal-error");const S=$a.fromJSON(this.name,M);vt(typeof at=="string",t,"internal-error"),Pr(I,t.name),Pr(O,t.name),vt(typeof yt=="boolean",t,"internal-error"),vt(typeof J=="boolean",t,"internal-error"),Pr(B,t.name),Pr(H,t.name),Pr(X,t.name),Pr(K,t.name),Pr(ft,t.name),Pr(tt,t.name);const w=new Hi({uid:at,auth:t,email:O,emailVerified:yt,displayName:I,isAnonymous:J,photoURL:H,phoneNumber:B,tenantId:X,stsTokenManager:S,createdAt:ft,lastLoginAt:tt});return ot&&Array.isArray(ot)&&(w.providerData=ot.map(C=>Object.assign({},C))),K&&(w._redirectEventId=K),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new $a;m.updateFromIdToken(s);const p=new Hi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;function Fi(r){Xi(r instanceof Function,"Expected a class definition");let t=L0.get(r);return t?(Xi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,L0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uT.type="NONE";const z0=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(Fi(z0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(z0);const f=Lc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){const I=Hi._fromJSON(t,b);y!==u&&(m=I),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gT(t))return"Blackberry";if(pT(t))return"Webos";if(hT(t))return"Safari";if((t.includes("chrome/")||fT(t))&&!t.includes("edge/"))return"Chrome";if(mT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cT(r=Xe()){return/firefox\//i.test(r)}function hT(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fT(r=Xe()){return/crios\//i.test(r)}function dT(r=Xe()){return/iemobile/i.test(r)}function mT(r=Xe()){return/android/i.test(r)}function gT(r=Xe()){return/blackberry/i.test(r)}function pT(r=Xe()){return/webos/i.test(r)}function cg(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nI(r=Xe()){var t;return cg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function iI(){return X1()&&document.documentMode===10}function yT(r=Xe()){return cg(r)||mT(r)||pT(r)||gT(r)||/windows phone/i.test(r)||dT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,t=[]){let n;switch(r){case"Browser":n=j0(Xe());break;case"Worker":n=`${j0(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(r,t={}){return as(r,"GET","/v2/passwordPolicy",ss(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=6;class oI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:aI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B0(this),this.idTokenSubscription=new B0(this),this.beforeStateQueue=new rI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await oT(this,{idToken:t}),s=await Hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Gi(this));const n=t?nn(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sI(this),n=new oI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&LR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(r){return nn(r)}class B0{constructor(t){this.auth=t,this.observer=null,this.addObserver=iw(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uI(r){Dh=r}function vT(r){return Dh.loadJS(r)}function cI(){return Dh.recaptchaEnterpriseScript}function hI(){return Dh.gapiScript}function fI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dI{constructor(){this.enterprise=new mI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class mI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const gI="recaptcha-enterprise",ET="NO_RECAPTCHA";class pI{constructor(t){this.type=gI,this.auth=Js(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{QR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new YR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;P0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(ET)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&P0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cI();p.length!==0&&(p+=m),vT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function q0(r,t,n,s=!1,o=!1){const u=new pI(r);let f;if(o)f=ET;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bm(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await q0(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await q0(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r,t){const n=Dm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,t??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:t})}function _I(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function vI(r,t,n){const s=Js(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=TT(t),{host:f,port:m}=EI(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Hs(y,s.config.emulator)&&Hs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,TI()}function TT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function EI(r){const t=TT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:H0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:H0(f)}}}function H0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function TI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}async function bI(r,t){return as(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}async function AI(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends hg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Fl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(t,n,"signInWithPassword",wI);case"emailLink":return SI(t,{email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(t,s,"signUpPassword",bI);case"emailLink":return AI(t,{idToken:n,email:this._email,oobCode:this._password});default:Hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="http://localhost";class Xs extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ag(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ja(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ja(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ja(t,n)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CI(r){const t=Al(Rl(r)).link,n=t?Al(Rl(t)).deep_link_id:null,s=Al(Rl(r)).deep_link_id;return(s?Al(Rl(s)).link:null)||s||n||t||r}class fg{constructor(t){var n,s,o,u,f,m;const p=Al(Rl(t)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,b=(s=p.oobCode)!==null&&s!==void 0?s:null,I=II((o=p.mode)!==null&&o!==void 0?o:null);vt(y&&b&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=b,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=CI(t);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=fg.parseLink(n);return vt(s,"argument-error"),Fl._fromEmailAndCode(t,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends bT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends tu{constructor(){super("facebook.com")}static credential(t){return Xs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends tu{constructor(){super("github.com")}static credential(t){return Xs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends tu{constructor(){super("twitter.com")}static credential(t,n){return Xs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,t){return Jl(r,"POST","/v1/accounts:signUp",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Hi._fromIdTokenResponse(t,s,o),f=F0(s);return new Ws({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=F0(s);return new Ws({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function F0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Zi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new rh(t,n,s,o)}}function wT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,u,t,s):u})}async function OI(r,t,n=!1){const s=await Hl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ws._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(r,t,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Gi(s));const o="reauthenticate";try{const u=await Hl(r,wT(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=ug(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Ws._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(r,t,n=!1){if(Pn(r.app))return Promise.reject(Gi(r));const s="signIn",o=await wT(r,s,t),u=await Ws._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function MI(r,t){return ST(Js(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(r){const t=Js(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xI(r,t,n){if(Pn(r.app))return Promise.reject(Gi(r));const s=Js(r),f=await bm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&AT(r),p}),m=await Ws._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function kI(r,t,n){return Pn(r.app)?Promise.reject(Gi(r)):MI(nn(r),mo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AT(r),s})}function VI(r,t,n,s){return nn(r).onIdTokenChanged(t,n,s)}function PI(r,t,n){return nn(r).beforeAuthStateChanged(t,n)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e3,LI=10;class IT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);iI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,LI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}IT.type="LOCAL";const zI=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CT.type="SESSION";const DT=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await jI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=dg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(I){const O=I;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(O.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function qI(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function HI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GI(){return OT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebaseLocalStorageDb",YI=1,ah="firebaseLocalStorage",MT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(r,t){return r.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function QI(){const r=indexedDB.deleteDatabase(NT);return new eu(r).toPromise()}function wm(){const r=indexedDB.open(NT,YI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:MT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?t(s):(s.close(),await QI(),t(await wm()))})})}async function G0(r,t,n){const s=Nh(r,!0).put({[MT]:t,value:n});return new eu(s).toPromise()}async function KI(r,t){const n=Nh(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function Y0(r,t){const n=Nh(r,!0).delete(t);return new eu(n).toPromise()}const XI=800,WI=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>WI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(GI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await HI(),!this.activeServiceWorker)return;this.sender=new BI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await G0(t,sh,"1"),await Y0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>G0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>KI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Nh(o,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const $I=xT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r,t){return t?Fi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JI(r){return ST(r.auth,new mg(r),r.bypassAuthState)}function tC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),NI(n,new mg(r),r.bypassAuthState)}async function eC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),OI(n,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:Hn(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Zl(2e3,1e4);class Xa extends kT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nC.get())};t()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="pendingRedirect",zc=new Map;class rC extends kT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const s=await sC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(r,t){const n=lC(t),s=oC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function aC(r,t){zc.set(r._key(),t)}function oC(r){return Fi(r._redirectPersistence)}function lC(r){return Lc(iC,r.config.apiKey,r.name)}async function uC(r,t,n=!1){if(Pn(r.app))return Promise.reject(Gi(r));const s=Js(r),o=ZI(s,t),f=await new rC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=10*60*1e3;class hC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!VT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(t))}saveEventToCache(t){this.cachedEventUids.add(Q0(t)),this.lastProcessedEventTime=Date.now()}}function Q0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function VT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(r,t={}){return as(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function pC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await dC(r);for(const n of t)try{if(yC(n))return}catch{}Hn(r,"unauthorized-domain")}function yC(r){const t=Em(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gC.test(n))return!1;if(mC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Zl(3e4,6e4);function K0(){const r=fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function vC(r){return new Promise((t,n)=>{var s,o,u;function f(){K0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K0(),n(hi(r,"network-request-failed"))},timeout:_C.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=fI("iframefcb");return fi()[m]=()=>{gapi.load?f():n(hi(r,"network-request-failed"))},vT(`${hI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw jc=null,t})}let jc=null;function EC(r){return jc=jc||vC(r),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Zl(5e3,15e3),bC="__/auth/iframe",wC="emulator/auth/iframe",SC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?lg(t,wC):`https://${r.config.authDomain}/${bC}`,s={apiKey:t.apiKey,appName:r.name,v:lo},o=AC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function IC(r){const t=await EC(r),n=fi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:RC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},TC.get());function p(){fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,OC=600,NC="_blank",MC="http://localhost";class X0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(r,t,n,s=DC,o=OC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},CC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(m=fT(y)?NC:n),cT(y)&&(t=t||MC,p.scrollbars="yes");const b=Object.entries(p).reduce((O,[B,H])=>`${O}${B}=${H},`,"");if(nI(y)&&m!=="_self")return kC(t||"",m),new X0(null);const I=window.open(t||"",m,b);vt(I,r,"popup-blocked");try{I.focus()}catch{}return new X0(I)}function kC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__/auth/handler",PC="emulator/auth/handler",UC=encodeURIComponent("fac");async function W0(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:lo,eventId:o};if(t instanceof bT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",nw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,I]of Object.entries({}))f[b]=I}if(t instanceof tu){const b=t.getScopes().filter(I=>I!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),y=p?`#${UC}=${encodeURIComponent(p)}`:"";return`${LC(r)}?${Ql(m).slice(1)}${y}`}function LC({config:r}){return r.emulator?lg(r,PC):`https://${r.authDomain}/${VC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=uC,this._overrideRedirectResult=aC}async _openPopup(t,n,s,o){var u;Xi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await W0(t,n,s,Em(),o);return xC(t,f,dg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await W0(t,n,s,Em(),o);return qI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await IC(t),s=new hC(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xd,{type:Xd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Xd];f!==void 0&&n(!!f),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yT()||hT()||cg()}}const jC=zC;var $0="@firebase/auth",Z0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HC(r){to(new Fs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(r)},y=new lI(s,o,u,p);return _I(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),to(new Fs("auth-internal",t=>{const n=Js(t.getProvider("auth").getImmediate());return(s=>new BC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr($0,Z0,qC(r)),Gr($0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=5*60,GC=vv("authIdTokenMaxAge")||FC;let J0=null;const YC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GC)return;const o=n==null?void 0:n.token;J0!==o&&(J0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QC(r=wv()){const t=Dm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yI(r,{popupRedirectResolver:jC,persistence:[$I,zI,DT]}),s=vv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=YC(u.toString());PI(n,f,()=>f(n.currentUser)),VI(n,m=>f(m))}}const o=yv("auth");return o&&vI(n,`http://${o}`),n}function KC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}uI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",KC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HC("Browser");const XC={apiKey:"AIzaSyCwlU9nKgAuWMK2yqn4uUIWoBjvxKRsM7Y",authDomain:"taskerer-f72e3.firebaseapp.com",projectId:"taskerer-f72e3",storageBucket:"taskerer-f72e3.firebasestorage.app",messagingSenderId:"156317212431",appId:"1:156317212431:web:e1507f28984563944d287a",measurementId:"G-4D7WGPQVE1"},WC=bv(XC),Wi=gR(WC),tv=QC(),PT=6048e5,$C=864e5,UT=6e4,LT=36e5,ev=Symbol.for("constructDateFrom");function $i(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&ev in r?r[ev](t):r instanceof Date?new r.constructor(t):new Date(t)}function rn(r,t){return $i(t||r,r)}let ZC={};function Mh(){return ZC}function Gl(r,t){var m,p,y,b;const n=Mh(),s=(t==null?void 0:t.weekStartsOn)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,o=rn(r,t==null?void 0:t.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function oh(r,t){return Gl(r,{...t,weekStartsOn:1})}function zT(r,t){const n=rn(r,t==null?void 0:t.in),s=n.getFullYear(),o=$i(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=oh(o),f=$i(n,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=oh(f);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function nv(r){const t=rn(r),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+r-+n}function JC(r,...t){const n=$i.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function iv(r,t){const n=rn(r,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function tD(r,t,n){const[s,o]=JC(n==null?void 0:n.in,r,t),u=iv(s),f=iv(o),m=+u-nv(u),p=+f-nv(f);return Math.round((m-p)/$C)}function eD(r,t){const n=zT(r,t),s=$i(r,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),oh(s)}function nD(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function iD(r){return!(!nD(r)&&typeof r!="number"||isNaN(+rn(r)))}function rD(r,t){const n=rn(r,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aD=(r,t,n)=>{let s;const o=sD[r];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Wd(r){return(t={})=>{const n=t.width?String(t.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const oD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cD={date:Wd({formats:oD,defaultWidth:"full"}),time:Wd({formats:lD,defaultWidth:"full"}),dateTime:Wd({formats:uD,defaultWidth:"full"})},hD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fD=(r,t,n,s)=>hD[r];function bl(r){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(t):t;return o[u]}}const dD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_D={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vD=(r,t)=>{const n=Number(r),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ED={ordinalNumber:vD,era:bl({values:dD,defaultWidth:"wide"}),quarter:bl({values:mD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:bl({values:gD,defaultWidth:"wide"}),day:bl({values:pD,defaultWidth:"wide"}),dayPeriod:bl({values:yD,defaultWidth:"wide",formattingValues:_D,defaultFormattingWidth:"wide"})};function wl(r){return(t,n={})=>{const s=n.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=t.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?bD(m,I=>I.test(f)):TD(m,I=>I.test(f));let y;y=r.valueCallback?r.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const b=t.slice(f.length);return{value:y,rest:b}}}function TD(r,t){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t(r[n]))return n}function bD(r,t){for(let n=0;n<r.length;n++)if(t(r[n]))return n}function wD(r){return(t,n={})=>{const s=t.match(r.matchPattern);if(!s)return null;const o=s[0],u=t.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}const SD=/^(\d+)(th|st|nd|rd)?/i,AD=/\d+/i,RD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ID={any:[/^b/i,/^(a|c)/i]},CD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DD={any:[/1/i,/2/i,/3/i,/4/i]},OD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ND={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PD={ordinalNumber:wD({matchPattern:SD,parsePattern:AD,valueCallback:r=>parseInt(r,10)}),era:wl({matchPatterns:RD,defaultMatchWidth:"wide",parsePatterns:ID,defaultParseWidth:"any"}),quarter:wl({matchPatterns:CD,defaultMatchWidth:"wide",parsePatterns:DD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:wl({matchPatterns:OD,defaultMatchWidth:"wide",parsePatterns:ND,defaultParseWidth:"any"}),day:wl({matchPatterns:MD,defaultMatchWidth:"wide",parsePatterns:xD,defaultParseWidth:"any"}),dayPeriod:wl({matchPatterns:kD,defaultMatchWidth:"any",parsePatterns:VD,defaultParseWidth:"any"})},UD={code:"en-US",formatDistance:aD,formatLong:cD,formatRelative:fD,localize:ED,match:PD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LD(r,t){const n=rn(r,t==null?void 0:t.in);return tD(n,rD(n))+1}function zD(r,t){const n=rn(r,t==null?void 0:t.in),s=+oh(n)-+eD(n);return Math.round(s/PT)+1}function jT(r,t){var b,I,O,B;const n=rn(r,t==null?void 0:t.in),s=n.getFullYear(),o=Mh(),u=(t==null?void 0:t.firstWeekContainsDate)??((I=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:I.firstWeekContainsDate)??o.firstWeekContainsDate??((B=(O=o.locale)==null?void 0:O.options)==null?void 0:B.firstWeekContainsDate)??1,f=$i((t==null?void 0:t.in)||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=Gl(f,t),p=$i((t==null?void 0:t.in)||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const y=Gl(p,t);return+n>=+m?s+1:+n>=+y?s:s-1}function jD(r,t){var m,p,y,b;const n=Mh(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,o=jT(r,t),u=$i((t==null?void 0:t.in)||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),Gl(u,t)}function BD(r,t){const n=rn(r,t==null?void 0:t.in),s=+Gl(n,t)-+jD(n,t);return Math.round(s/PT)+1}function Xt(r,t){const n=r<0?"-":"",s=Math.abs(r).toString().padStart(t,"0");return n+s}const Ur={y(r,t){const n=r.getFullYear(),s=n>0?n:1-n;return Xt(t==="yy"?s%100:s,t.length)},M(r,t){const n=r.getMonth();return t==="M"?String(n+1):Xt(n+1,2)},d(r,t){return Xt(r.getDate(),t.length)},a(r,t){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,t){return Xt(r.getHours()%12||12,t.length)},H(r,t){return Xt(r.getHours(),t.length)},m(r,t){return Xt(r.getMinutes(),t.length)},s(r,t){return Xt(r.getSeconds(),t.length)},S(r,t){const n=t.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Xt(o,t.length)}},Fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rv={G:function(r,t,n){const s=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(r,t,n){if(t==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Ur.y(r,t)},Y:function(r,t,n,s){const o=jT(r,s),u=o>0?o:1-o;if(t==="YY"){const f=u%100;return Xt(f,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Xt(u,t.length)},R:function(r,t){const n=zT(r);return Xt(n,t.length)},u:function(r,t){const n=r.getFullYear();return Xt(n,t.length)},Q:function(r,t,n){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Xt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,t,n){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Xt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,t,n){const s=r.getMonth();switch(t){case"M":case"MM":return Ur.M(r,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(r,t,n){const s=r.getMonth();switch(t){case"L":return String(s+1);case"LL":return Xt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(r,t,n,s){const o=BD(r,s);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Xt(o,t.length)},I:function(r,t,n){const s=zD(r);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Xt(s,t.length)},d:function(r,t,n){return t==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Ur.d(r,t)},D:function(r,t,n){const s=LD(r);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Xt(s,t.length)},E:function(r,t,n){const s=r.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(r,t,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Xt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,t,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Xt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,t,n){const s=r.getDay(),o=s===0?7:s;switch(t){case"i":return String(o);case"ii":return Xt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(r,t,n){const o=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,t,n){const s=r.getHours();let o;switch(s===12?o=Fa.noon:s===0?o=Fa.midnight:o=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,t,n){const s=r.getHours();let o;switch(s>=17?o=Fa.evening:s>=12?o=Fa.afternoon:s>=4?o=Fa.morning:o=Fa.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,t,n){if(t==="ho"){let s=r.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ur.h(r,t)},H:function(r,t,n){return t==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Ur.H(r,t)},K:function(r,t,n){const s=r.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Xt(s,t.length)},k:function(r,t,n){let s=r.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Xt(s,t.length)},m:function(r,t,n){return t==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ur.m(r,t)},s:function(r,t,n){return t==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Ur.s(r,t)},S:function(r,t){return Ur.S(r,t)},X:function(r,t,n){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return av(s);case"XXXX":case"XX":return js(s);case"XXXXX":case"XXX":default:return js(s,":")}},x:function(r,t,n){const s=r.getTimezoneOffset();switch(t){case"x":return av(s);case"xxxx":case"xx":return js(s);case"xxxxx":case"xxx":default:return js(s,":")}},O:function(r,t,n){const s=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sv(s,":");case"OOOO":default:return"GMT"+js(s,":")}},z:function(r,t,n){const s=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sv(s,":");case"zzzz":default:return"GMT"+js(s,":")}},t:function(r,t,n){const s=Math.trunc(+r/1e3);return Xt(s,t.length)},T:function(r,t,n){return Xt(+r,t.length)}};function sv(r,t=""){const n=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+t+Xt(u,2)}function av(r,t){return r%60===0?(r>0?"-":"+")+Xt(Math.abs(r)/60,2):js(r,t)}function js(r,t=""){const n=r>0?"-":"+",s=Math.abs(r),o=Xt(Math.trunc(s/60),2),u=Xt(s%60,2);return n+o+t+u}const ov=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},BT=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qD=(r,t)=>{const n=r.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return ov(r,t);let u;switch(s){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",ov(s,t)).replace("{{time}}",BT(o,t))},HD={p:BT,P:qD},FD=/^D+$/,GD=/^Y+$/,YD=["D","DD","YY","YYYY"];function QD(r){return FD.test(r)}function KD(r){return GD.test(r)}function XD(r,t,n){const s=WD(r,t,n);if(console.warn(s),YD.includes(r))throw new RangeError(s)}function WD(r,t,n){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JD=/^'([^]*?)'?$/,tO=/''/g,eO=/[a-zA-Z]/;function lh(r,t,n){var b,I,O,B;const s=Mh(),o=s.locale??UD,u=s.firstWeekContainsDate??((I=(b=s.locale)==null?void 0:b.options)==null?void 0:I.firstWeekContainsDate)??1,f=s.weekStartsOn??((B=(O=s.locale)==null?void 0:O.options)==null?void 0:B.weekStartsOn)??0,m=rn(r,n==null?void 0:n.in);if(!iD(m))throw new RangeError("Invalid time value");let p=t.match(ZD).map(H=>{const X=H[0];if(X==="p"||X==="P"){const K=HD[X];return K(H,o.formatLong)}return H}).join("").match($D).map(H=>{if(H==="''")return{isToken:!1,value:"'"};const X=H[0];if(X==="'")return{isToken:!1,value:nO(H)};if(rv[X])return{isToken:!0,value:H};if(X.match(eO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return{isToken:!1,value:H}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(H=>{if(!H.isToken)return H.value;const X=H.value;(KD(X)||QD(X))&&XD(X,t,String(r));const K=rv[X[0]];return K(m,X,o.localize,y)}).join("")}function nO(r){const t=r.match(JD);return t?t[1].replace(tO,"'"):r}function iO(r,t){return+rn(r)<+rn(t)}function Sm(r,t){const n=()=>$i(t==null?void 0:t.in,NaN),o=oO(r);let u;if(o.date){const y=lO(o.date,2);u=uO(y.restDateString,y.year)}if(!u||isNaN(+u))return n();const f=+u;let m=0,p;if(o.time&&(m=cO(o.time),isNaN(m)))return n();if(o.timezone){if(p=hO(o.timezone),isNaN(p))return n()}else{const y=new Date(f+m),b=rn(0,t==null?void 0:t.in);return b.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),b.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),b}return rn(f+m+p,t==null?void 0:t.in)}const Oc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,aO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oO(r){const t={},n=r.split(Oc.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Oc.timeZoneDelimiter.test(t.date)&&(t.date=r.split(Oc.timeZoneDelimiter)[0],s=r.substr(t.date.length,r.length))),s){const o=Oc.timezone.exec(s);o?(t.time=s.replace(o[1],""),t.timezone=o[1]):t.time=s}return t}function lO(r,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=r.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?o:u*100,restDateString:r.slice((s[1]||s[2]).length)}}function uO(r,t){if(t===null)return new Date(NaN);const n=r.match(rO);if(!n)return new Date(NaN);const s=!!n[4],o=Sl(n[1]),u=Sl(n[2])-1,f=Sl(n[3]),m=Sl(n[4]),p=Sl(n[5])-1;if(s)return pO(t,m,p)?fO(t,m,p):new Date(NaN);{const y=new Date(0);return!mO(t,u,f)||!gO(t,o)?new Date(NaN):(y.setUTCFullYear(t,u,Math.max(o,f)),y)}}function Sl(r){return r?parseInt(r):1}function cO(r){const t=r.match(sO);if(!t)return NaN;const n=$d(t[1]),s=$d(t[2]),o=$d(t[3]);return yO(n,s,o)?n*LT+s*UT+o*1e3:NaN}function $d(r){return r&&parseFloat(r.replace(",","."))||0}function hO(r){if(r==="Z")return 0;const t=r.match(aO);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return _O(s,o)?n*(s*LT+o*UT):NaN}function fO(r,t,n){const s=new Date(0);s.setUTCFullYear(r,0,4);const o=s.getUTCDay()||7,u=(t-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+u),s}const dO=[31,null,31,30,31,30,31,31,30,31,30,31];function qT(r){return r%400===0||r%4===0&&r%100!==0}function mO(r,t,n){return t>=0&&t<=11&&n>=1&&n<=(dO[t]||(qT(r)?29:28))}function gO(r,t){return t>=1&&t<=(qT(r)?366:365)}function pO(r,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function yO(r,t,n){return r===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&r>=0&&r<25}function _O(r,t){return t>=0&&t<=59}const vO="/assets/unknown-user-image-aYidAGiN.png",EO="/assets/sleeping-face-BM1PUuL9.png";function xh(){return z.jsx("div",{id:"loading"})}function gg({error:r}){const t={"auth/email-already-in-use":"Email already in use.","auth/invalid-email":"Invalid Email.","auth/missing-password":"Missing Password.","auth/missing-email":"Missing Email.","auth/weak-password":"Weak Password.","auth/invalid-credential":"Invalid Account.","invalid-argument":"Invalid Input(s).","Duplicate task name.":"There is already a task with this name.","Found input fields empty.":"Please, fill all the inputs.","Found white-spaces before any word.":"Please, erase any spaces before your inputs."};return z.jsx(z.Fragment,{children:t[r]&&z.jsx("div",{className:"rounded-sm bg-red-300 text-gray-700 text-base my-2 w-auto px-6 text-center mr-1",children:t[r]})})}function TO({sign:r}){return z.jsx(z.Fragment,{children:r&&z.jsx("div",{className:"rounded-sm bg-green-300 text-gray-700 text-base my-2 w-auto px-6 text-center mr-1",children:"Successfully signed up. Now you can log in!"})})}function bO({signed:r,setLogged:t,setSigned:n}){const{userData:s,dispatchUserData:o,dispatchCurrentUser:u}=wt.useContext(ns),[f,m]=wt.useState(!1),[p,y]=wt.useState(!1),[b,I]=wt.useState(""),[O,B]=wt.useState({emailVal:"",passVal:""});function H(J){B(ot=>({...ot,emailVal:J.target.value}))}function X(J){B(ot=>({...ot,passVal:J.target.value}))}async function K(J,ot,M){try{await kI(J,ot,M)}catch(S){throw I(S.code),new Error(`Couldn't log in, user not found within Firestore. ${S.message}`)}}async function ft(){y(!0);try{await K(tv,O.emailVal,O.passVal);const J=s.find(ot=>ot.email===O.emailVal);u({type:"set_current_user",payload:{user:J}}),t(!0),I(""),m(!1)}catch(J){throw m(!0),new Error(J.message)}finally{y(!1)}}async function tt(J,ot,M){try{return(await xI(J,ot,M)).user}catch(S){throw I(S.code),new Error(`User creation failed! ${S.message}`)}}async function at(J){try{const ot=es(Wi,"users",J.uid);await xR(ot,{...J})}catch(ot){throw new Error(`Failed to store user data in Firestore. ${ot.message}`)}}async function yt(){y(!0);try{const J=await tt(tv,O.emailVal,O.passVal),ot={email:J.email,createdAt:kR(),tasks:[],phoneNumber:"",uid:J.uid,username:"Empty"};await at(ot),o({type:"add_user",payload:ot}),n(!0),I(""),m(!1)}catch(J){throw m(!0),n(!1),new Error(`Sign up error. ${J.message}`)}finally{y(!1)}}return z.jsxs("form",{onSubmit:J=>J.preventDefault(),className:"bg-gray-200 rounded-sm p-4 w-11/12 m-auto mt-10 flex flex-col justify-center items-center","aria-label":"signupform",children:[z.jsx("h1",{className:"text-xl text-blue-500 font-bold mb-4",children:"Sign Up/In"}),z.jsxs("label",{children:["Email",z.jsx("input",{className:`${f?"bg-red-400":"bg-blue-200"} ${r&&"bg-green-400"} flex rounded-sm text-base p-1 pl-3 w-auto mb-4 duration-150 shadow-sm`,type:"email",value:O.emailVal,onChange:J=>H(J),onKeyDown:J=>J.key==="Enter"&&ft(),disabled:!!p,autoFocus:!0})]}),z.jsxs("label",{children:["Password",z.jsx("input",{className:`${f?"bg-red-400":"bg-blue-200"} ${r&&"bg-green-400"} flex rounded-sm text-base p-1 pl-3 w-auto duration-150 shadow-sm`,type:"password",value:O.passVal,onChange:J=>X(J),onKeyDown:J=>J.key==="Enter"&&ft(),disabled:!!p})]}),z.jsx(TO,{sign:r}),z.jsx(gg,{error:b}),p&&z.jsx(xh,{}),z.jsx("button",{onClick:()=>yt(),className:"flex justify-center items-center rounded-sm text-lg bg-blue-500 px-5 py-1 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 mt-4",disabled:!!p,type:"button",children:"Sign Up"}),z.jsx("p",{className:"text-lg my-4",children:"Or"}),z.jsx("button",{onClick:()=>ft(),className:"flex justify-center items-center rounded-sm text-lg bg-blue-500 px-5 py-1 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150",disabled:!!p,type:"button",children:"Log In"})]})}function wO(){const{currentUserLoggedIn:r,dispatchCurrentUser:t,dispatchUserData:n}=wt.useContext(ns),[s,o]=wt.useState(!1),[u,f]=wt.useState(r.username),[m,p]=wt.useState(r.phoneNumber||"Empty");async function y(){try{o(!s);const O={username:u,phoneNumber:m},B={...r,...O};t({type:"set_current_user",payload:{user:B}});const H=es(Wi,"users",r.uid);await Ks(H,{...O}),n({type:"update_profile_details",payload:{username:u,phoneNumber:m}})}catch(O){throw new Error(`Couldn't update user data. ${O.message}`)}}function b(O){O.target.value.length<=11&&f(O.target.value)}function I(O){O.target.value.length<=10&&p(O.target.value)}return z.jsx(z.Fragment,{children:z.jsxs("form",{className:"bg-blue-200 border-2 border-blue-300 border-solid p-2 flex flex-col",children:[z.jsx("h3",{className:"text-center font-bold text-lg text-gray-800 underline mb-2",children:"Profile Details"}),z.jsxs("label",{htmlFor:"username",className:`flex ${s?"flex-col":"flex-row"}`,children:["Username:",s?z.jsx("input",{className:"text-sm rounded-sm bg-blue-50 shadow-sm p-1 px-2 mb-2",type:"text",value:u,onChange:O=>b(O)}):z.jsx("p",{className:"text-blue-600 ml-2 truncate",children:u})]}),z.jsxs("label",{htmlFor:"username",className:`flex ${s?"flex-col":"flex-row"}`,children:["Phone Number:",s?z.jsx("input",{className:"text-sm rounded-sm bg-blue-50 shadow-sm p-1 px-2 mb-2",type:"number",value:m,onChange:O=>I(O)}):z.jsx("p",{className:"text-blue-600 ml-2 truncate",children:m})]}),z.jsx("button",{className:"flex justify-center items-center rounded-sm text-md bg-blue-500 px-3 py-1 text-white hover:bg-blue-400 hover:text-black hover:cursor-pointer transition-colors mt-4",onClick:()=>y(),type:"button",children:s?"Save":"Edit"})]})})}function Am({yesFunction:r,noFunction:t,text:n,className:s,yesText:o,noText:u}){return z.jsxs("div",{className:s,children:[z.jsx("h1",{className:"mb-2 text-center",children:n}),z.jsxs("div",{className:"flex justify-center items-center",children:[z.jsx("button",{className:"rounded-sm mr-2 bg-blue-800 px-2 py-1 text-white hover:bg-blue-300 hover:text-black hover:cursor-pointer duration-150 transition-all",onClick:r,children:o}),z.jsx("button",{className:"rounded-sm bg-blue-800 px-2 py-1 text-white hover:bg-blue-300 hover:text-black hover:cursor-pointer duration-150 transition-all",onClick:t,children:u})]})]})}class SO extends wt.Component{constructor(t){super(t),this.state={id:this.props.uniqueId(),taskName:"",dueDate:"",desc:"",subTasks:[],selected:!1},this.addTaskToUserObject=this.addTaskToUserObject.bind(this),this.handleDate=this.handleDate.bind(this),this.handleTaskName=this.handleTaskName.bind(this),this.handleDesc=this.handleDesc.bind(this)}handleTaskName(t){t.target.value.length<=20&&this.setState({taskName:t.target.value})}handleDate(t){this.setState({dueDate:t.target.value})}handleDesc(t){this.setState({desc:t.target.value})}async addTaskToUserObject(){const{taskName:t,dueDate:n,desc:s,selected:o,id:u}=this.state,{currentUserLoggedIn:f,dispatchCurrentUser:m,dispatchUserData:p,setLoading:y,setOpenTaskForm:b,setErrorCode:I}=this.props;y(!0);try{if(f.tasks.some(at=>at.taskName===t)){I("Duplicate task name.");return}if(t===""||n===""||s===""){I("Found input fields empty.");return}if(/^\s+/.test(t)===!0||/^\s+/.test(s)){I("Found white-spaces before any word.");return}const X={taskName:t,dueDate:n,desc:s,subTasks:[],selected:o,id:u};this.setState(X);const K=[...f.tasks,this.state],ft={...f,tasks:K};m({type:"set_current_user",payload:{user:ft}});const tt=es(Wi,"users",f.uid);await Ks(tt,{tasks:K}),p({type:"update_tasks_array",payload:{uid:f.uid,tasks:K}}),b(!1)}catch(O){throw I(O.code),new Error(`Unable to save task in the cloud. ${O.message}`)}finally{y(!1)}}render(){return z.jsx(z.Fragment,{children:this.props.loading?z.jsx("div",{className:"flex justify-center items-center",children:z.jsx(xh,{})}):z.jsx(z.Fragment,{children:z.jsxs("form",{onSubmit:t=>{t.preventDefault()},className:"bg-blue-200 border-2 border-blue-300 border-solid p-2 flex flex-col mt-4",children:[z.jsxs("label",{className:"task-name flex flex-col",children:["Task Name",z.jsx("input",{autoFocus:!0,placeholder:"Study...",type:"text",className:`text-sm rounded-sm ${this.props.errorCode===""?"bg-blue-50":"bg-red-400"} shadow-sm p-1 px-2 mb-2`,value:this.state.taskName,onChange:t=>this.handleTaskName(t)})]}),z.jsxs("label",{className:"flex flex-col",children:["Due date",z.jsx("input",{type:"date",className:`text-sm rounded-sm ${this.props.errorCode===""?"bg-blue-50":"bg-red-400"} shadow-sm p-1 px-2 mb-2`,onChange:t=>this.handleDate(t)})]}),z.jsxs("label",{className:"desc flex flex-col",children:["Description",z.jsx("textarea",{placeholder:"From 7-9pm...",name:"desc",id:"add-task-desc",rows:6,className:`text-sm rounded-sm ${this.props.errorCode===""?"bg-blue-50":"bg-red-400"} shadow-sm p-1 px-2 mb-2`,onChange:t=>this.handleDesc(t)})]}),z.jsx(gg,{error:this.props.errorCode}),z.jsx("button",{onClick:()=>{this.addTaskToUserObject()},className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-300 hover:text-black hover:cursor-pointer duration-150 mt-2",children:"Create Task"})]})})})}}function AO(){const{userLogged:r,setUserLogged:t,dispatchUserData:n,dispatchCurrentUser:s,currentUserLoggedIn:o,setCurrentSelectedTask:u,setLoadingSelection:f,isPastDue:m,isTaskConcluded:p}=wt.useContext(ns),[y,b]=wt.useState(!1),[I,O]=wt.useState(!1),[B,H]=wt.useState(!1),[X,K]=wt.useState(""),[ft,tt]=wt.useState(!1),[at,yt]=wt.useState(!1),[J,ot]=wt.useState(!1),[M,S]=wt.useState("");function w(){b(!y)}function C(){localStorage.clear(),window.location.reload()}async function D(R){const Vt=o.tasks.filter(gt=>gt.id!==R.id),Qt={...o,tasks:Vt};s({type:"set_current_user",payload:{user:Qt}});const nt=es(Wi,"users",o.uid);await Ks(nt,{tasks:Vt}),n({type:"update_tasks_array",payload:{uid:o.uid,tasks:Vt}}),S(!1),R.selected&&u("")}async function V(R){f(!0);try{const Vt=o.tasks.map(ut=>ut===R?{...ut,selected:!ut.selected}:{...ut,selected:!1}),Qt={...o,tasks:Vt};s({type:"set_current_user",payload:{user:Qt}});const nt=Vt.find(ut=>ut.selected);u(nt);const gt=es(Wi,"users",o.uid);await Ks(gt,{tasks:Vt}),n({type:"update_tasks_array",payload:{uid:o.uid,tasks:Vt}})}catch(Vt){throw new Error(`Couldn't select task. ${Vt.message}`)}finally{f(!1)}}return wt.useEffect(()=>{b(!1),r&&o.username==="Empty"&&tt(!0)},[r,o]),wt.useEffect(()=>{K("")},[I]),z.jsxs("nav",{className:"h-screen overflow-auto bg-blue-50 w-2/10 py-4",id:"navbar",children:[z.jsxs("section",{className:"flex justify-between px-4 relative border-b-1 border-gray-300 pb-5",children:[z.jsxs("div",{className:`flex ${r?"hover:cursor-pointer":"hover:cursor-not-allowed"} hover:opacity-75 transition-opacity`,onClick:r?()=>tt(!ft):()=>{},children:[z.jsx("img",{src:vO,alt:"user-image",className:"w-9 z-20"}),z.jsx("p",{className:"bg-blue-200 text-gray-800 h-6 w-auto max-w-30 truncate justify-center flex rounded-sm pl-5 pr-3 absolute z-10 left-11 top-1 font-bold",children:r?o.username:"User"}),r&&z.jsx("p",{className:"absolute bg-gray-200 left-12 text-sm rounded-sm w-18 text-center top-6 z-0",children:ft?"Collapse":"Expand"})]}),r?z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150",onClick:()=>{ot(!J)},children:"Log Out"}):z.jsx("button",{onClick:w,className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150",children:"Sign Up/In"})]}),z.jsxs("section",{children:[J&&z.jsx(Am,{yesFunction:()=>C(),noFunction:()=>ot(!1),text:"Are you sure you want to Log Out?",yesText:"Yes",noText:"No",className:"bg-blue-200 p-2"}),y&&z.jsx(bO,{logged:r,signed:at,setLogged:t,setSigned:yt}),ft&&z.jsx(wO,{}),r?z.jsxs("div",{className:"p-2",children:[z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all",onClick:()=>{O(!I)},children:I?"Go Back":"Add Header Task"}),I&&z.jsx(ns.Consumer,{children:({dispatchUserData:R,dispatchCurrentUser:Vt,currentUserLoggedIn:Qt,uniqueId:nt})=>z.jsx(SO,{currentUserLoggedIn:Qt,dispatchUserData:R,dispatchCurrentUser:Vt,uniqueId:nt,errorCode:X,setErrorCode:K,setOpenTaskForm:O,loading:B,setLoading:H})}),z.jsx("div",{className:"flex flex-col mt-4",children:o.tasks.length===0?z.jsxs(z.Fragment,{children:[z.jsx("p",{className:"text-center text-xl mt-20 mb-4 w-11/12 opacity-50",children:"No Tasks to be shown."}),z.jsx(N1,{className:"opacity-50 text-4xl m-auto"})]}):o.tasks.map(R=>z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:`bg-blue-100 rounded-sm px-2 py-1 flex justify-between items-center mb-2 hover:bg-blue-200 transition-colors hover:cursor-pointer ${R.selected&&"bg-blue-500"}`,onClick:()=>V(R),children:z.jsxs("h4",{className:"flex justify-center items-center",children:[m(lh(Sm(R.dueDate),"MM/dd/yyyy"))&&!p(R)&&z.jsx(M1,{className:"text-red-500 mr-2 font-bold"}),p(R)&&z.jsx(fv,{className:"text-green-400 mr-2"}),R.taskName]})}),M!==R.id?z.jsx("button",{onClick:()=>S(R.id),className:"hover:cursor-pointer hover:text-red-500 transition-colors text-2xl text-blue-300 absolute right-1 top-1 z-10",children:z.jsx(cv,{})}):z.jsx(Am,{noFunction:()=>S(""),yesFunction:()=>D(R),yesText:z.jsx(dv,{}),noText:z.jsx(hv,{}),className:"absolute -top-1 right-2"})]},R.id))})]}):z.jsxs("div",{className:"flex flex-col items-center",children:[z.jsx("p",{className:"text-center text-xl mt-20 w-11/12 opacity-50",children:"Please, Log In to see your tasks."}),!y&&z.jsx("img",{src:EO,alt:"sleeping-face",className:"w-16 opacity-50 mt-8"})]})]})]})}function RO(r){return Fn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"},child:[]}]})(r)}function IO(r){return Fn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},child:[]}]})(r)}function CO(){const{currentSelectedTask:r}=wt.useContext(ns),t=110,n=2*Math.PI*t;function s(){const m=r.subTasks.filter(b=>b.completed).length,p=r.subTasks.length;return Math.floor(parseInt(m)*100/parseInt(p))}function o(){const m=n-s()/100*n;return isNaN(m)?0:m}function u(){return s()===100?"#94c4f4":"#BFDCFF"}function f(){return r.subTasks.length<1?"1.5rem":"2.5rem"}return z.jsxs(z.Fragment,{children:[z.jsx("h1",{className:"font-bold text-2xl underline mb-4 text-black",children:"Progress Wheel"}),z.jsxs("div",{className:"relative shadow-2xl rounded-b-full",children:[z.jsxs("svg",{className:"flex items-center justify-center",width:250,height:250,children:[z.jsx("circle",{cx:t+15,cy:t+15,strokeWidth:"12px",r:t,stroke:"#398dfa",style:{fill:u(),strokeDasharray:n,strokeDashoffset:o(),transition:"fill 0.8s ease, stroke-dashoffset 0.8s ease"}}),z.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",style:{fontSize:f(),fontFamily:"Tahoma, system-ui"},children:r.subTasks.length<1?"No sub-tasks yet":s()+"%"})]}),r.subTasks.length>=1&&z.jsx("p",{className:`absolute top-32 right-10 transition-colors duration-800 ${s()===100?"text-black":"text-blue-200"}`,children:"Header task completed"})]})]})}const DO="/assets/taskerer-bg-C4sKUafh.png";function OO(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(r)}function NO(r){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 320l128-128 128 128z"},child:[]}]})(r)}function MO(r){return Fn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 8V2H20C20.5523 2 21 2.44772 21 3V7C21 7.55228 20.5523 8 20 8H17ZM15 22C15 22.5523 14.5523 23 14 23H10C9.44772 23 9 22.5523 9 22V8H2.5V6.07437C2.5 5.7187 2.68891 5.3898 2.99613 5.21059L8.5 2H15V22Z"},child:[]}]})(r)}function xO(){const{setCurrentSelectedTask:r,currentSelectedTask:t,currentUserLoggedIn:n,dispatchCurrentUser:s,dispatchUserData:o,uniqueId:u}=wt.useContext(ns),[f,m]=wt.useState(!1),[p,y]=wt.useState(""),[b,I]=wt.useState(""),[O,B]=wt.useState(!1);async function H(tt,at){try{s({type:"set_current_user",payload:{user:at}});const yt=tt.find(ot=>ot.selected);r(yt);const J=es(Wi,"users",n.uid);await Ks(J,{tasks:tt}),o({type:"update_tasks_array",payload:{uid:n.uid,tasks:tt}})}catch(yt){throw new Error(`Couldn't update the root. ${yt.message}`)}}async function X(){B(!0);try{const tt={desc:p,id:u(),completed:!1},at=n.tasks.map(J=>J.id===t.id?{...t,subTasks:[...t.subTasks,tt]}:J),yt={...n,tasks:at};await H(at,yt),m(!1),y("")}catch(tt){throw new Error(`Couldn't create a sub-task. ${tt.message}`)}finally{B(!1)}}async function K(tt){try{const at=tt.completed?{...tt,completed:!1}:{...tt,completed:!0},yt=t.subTasks.map(M=>M.id===tt.id?{...at}:M),J=n.tasks.map(M=>M.id===t.id?{...t,subTasks:[...yt]}:M),ot={...n,tasks:J};await H(J,ot)}catch(at){throw new Error(`Couldn't mark the sub-task as completed. ${at.message}`)}}async function ft(tt){B(!0);try{const at=t.subTasks.filter(S=>S.id!==tt.id),yt=n.tasks.map(S=>S.id===t.id?{...t,subTasks:[...at]}:S),J={...n,tasks:yt};s({type:"set_current_user",payload:{user:J}});const ot=yt.find(S=>S.selected);r(ot);const M=es(Wi,"users",n.uid);await Ks(M,{tasks:yt}),o({type:"update_tasks_array",payload:{uid:n.uid,tasks:yt}}),I(!1)}catch(at){throw new Error(`Couldn't delete the sub-task. ${at.message}`)}finally{B(!1)}}return z.jsxs(z.Fragment,{children:[z.jsxs("nav",{className:"flex flex-col bg-blue-50 w-full rounded-t-sm mb-4",children:[z.jsxs("div",{className:`flex justify-between w-full p-2 ${f&&"border-b-2 border-blue-400"}`,children:[z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all shadow",onClick:()=>m(!f),children:f?"Go back":"Add sub-task"}),z.jsx("span",{className:"text-3xl text-blue-500",children:f?z.jsx(NO,{}):z.jsx(OO,{})})]}),z.jsx("form",{onSubmit:tt=>tt.preventDefault(),className:`${f&&"border-b-2 border-blue-400 p-2"}`,children:f&&z.jsxs(z.Fragment,{children:[z.jsx("h3",{className:"font-bold",children:"Sub-task description"}),z.jsxs("label",{className:"flex justify-between",children:[z.jsx("input",{autoFocus:!0,className:"text-sm rounded-sm bg-blue-200 shadow-sm p-1 px-2 py-2 my-2 w-3/4",placeholder:"Description...",type:"text",value:p,onChange:tt=>{if(tt.target.value.length<=55)return y(tt.target.value)},onKeyDown:tt=>tt.key==="Enter"&&X()}),z.jsx("button",{type:"button",onClick:()=>X(),className:"rounded-sm bg-blue-500 px-2 h-9 my-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all shadow",children:"Create"})]})]})})]}),z.jsx("div",{className:"flex justify-center flex-col items-center p-2 w-full",children:t.subTasks.length>0?z.jsx(z.Fragment,{children:O?z.jsx(xh,{}):t.subTasks.map(tt=>z.jsxs("div",{className:"flex justify-between p-2 w-full bg-blue-50 rounded-sm mb-2",children:[z.jsxs("span",{className:"flex items-center w-auto",children:[z.jsx("input",{className:"shadow size-3.5",type:"checkbox",onChange:()=>K(tt),checked:tt.completed}),z.jsx("p",{className:"ml-2",children:tt.desc})]}),b!==tt.id?z.jsx("button",{onClick:()=>I(tt.id),className:"hover:cursor-pointer hover:text-red-500 transition-colors text-2xl text-blue-300 right-1 top-1 z-10",children:z.jsx(cv,{})}):z.jsx(Am,{noFunction:()=>{I("")},yesFunction:()=>ft(tt),yesText:z.jsx(dv,{}),noText:z.jsx(hv,{}),className:"flex items-center"})]},tt.id))}):z.jsxs(z.Fragment,{children:[z.jsx(MO,{className:"text-3xl opacity-70 text-blue-500"}),z.jsx("p",{className:"text-xl opacity-70 text-blue-500 text-center",children:"Add sub-tasks so you can complete your header task"})]})})]})}function kO(){const{userData:r,dispatchCurrentUser:t,dispatchUserData:n,currentSelectedTask:s,currentUserLoggedIn:o,userLogged:u,loadingSelection:f,setCurrentSelectedTask:m,isPastDue:p,isTaskConcluded:y}=wt.useContext(ns),[b,I]=wt.useState(""),[O,B]=wt.useState(!1),[H,X]=wt.useState(s&&s.taskName),[K,ft]=wt.useState(s&&s.dueDate),[tt,at]=wt.useState(s&&s.desc),yt=s?lh(Sm(s.dueDate),"MM/dd/yyyy"):"";function J(){B(!O),X(s.taskName),ft(s.dueDate),at(s.desc)}function ot(D){D.target.value.length<=20&&X(D.target.value)}function M(D){return D===""?D="":lh(new Date(Sm(D)),"MM/dd/yyyy")}function S(D){ft(D.target.value)}function w(D){at(D.target.value)}async function C(){try{const D={taskName:H,dueDate:K,desc:tt,subTasks:[...s.subTasks],selected:!0,id:s.id},V=o.tasks.map(Qt=>Qt.id===s.id?{...D}:Qt),R={...o,tasks:V};t({type:"set_current_user",payload:{user:R}});const Vt=es(Wi,"users",o.uid);await Ks(Vt,{tasks:V}),n({type:"update_tasks_array",payload:{uid:o.uid,tasks:V}}),B(!1)}catch(D){throw new Error(`Unable to edit task. ${D.message}`)}}return wt.useEffect(()=>{B(!1)},[s]),wt.useEffect(()=>{const D=JSON.parse(localStorage.getItem("current-user"));t({type:"set_current_user",payload:{user:D}},[r]),o!==null&&m(o.tasks.find(V=>V.selected))},[r,u]),z.jsx("div",{id:"right-panel",className:"flex justify-center items-center w-3/4 h-11/12 m-auto my-shadow rounded-sm relative",children:f?z.jsx(xh,{}):s?z.jsxs(z.Fragment,{children:[z.jsx("button",{onClick:()=>{J()},className:"hover:bg-blue-400 rounded-sm p-1 text-2xl ml-4 hover:cursor-pointer hover:text-black transition-colors absolute top-1 right-1",children:z.jsx(RO,{})}),z.jsxs("div",{className:"w-10/12 h-10/12 overflow-auto px-2",id:"right-panel-content",children:[z.jsxs("nav",{className:"flex justify-between border-b-blue-200 border-b-2",children:[O?z.jsxs(z.Fragment,{children:[z.jsx("input",{type:"text",value:H,className:"bg-blue-200 rounded-sm shadow-sm mb-2 px-2 text-lg",placeholder:"New Task Name...",onKeyDown:D=>D.key==="Enter"&&C(),onChange:D=>ot(D)}),z.jsx(gg,{error:b})]}):z.jsxs("h1",{className:"text-4xl tracking-widest font-bold pb-2 flex justify-center items-center text-gray-800",children:[y(s)&&z.jsx(fv,{className:"text-green-400 mr-2"}),s.taskName]}),O?z.jsx("input",{type:"date",value:K,className:"bg-blue-200 rounded-sm p-2 mb-2",onChange:D=>S(D),onKeyDown:D=>D.key==="Enter"&&C()}):z.jsxs("span",{className:`${p(yt)&&!y(s)?"bg-red-400":"bg-blue-200"} rounded-sm h-10 font-bold flex justify-center items-center px-2 text-sm text-center`,children:[p(yt)&&!y(s)&&z.jsx(IO,{className:"mr-2 text-xl"}),p(yt)&&!y(s)?"Past due":"Due in"," ",M(s.dueDate)]})]}),O?z.jsxs("label",{className:"flex flex-col text-lg font-bold mt-4",children:["Edit your Description:",z.jsx("textarea",{className:"rounded-sm bg-blue-200 p-2 text-md font-normal",rows:8,placeholder:"New Task Description...",value:tt,onChange:D=>w(D),onKeyDown:D=>D.key==="Enter"&&C()})]}):z.jsx("p",{id:"task-desc",className:"bg-gray-200 rounded-sm p-2 mt-4 text-md text-gray-800 max-h-50 overflow-y-auto overflow-x-hidden break-words",children:s.desc}),O&&z.jsx("button",{className:"rounded-sm bg-blue-500 px-2 text-white hover:bg-blue-200 hover:text-black hover:cursor-pointer duration-150 transition-all mt-4 text-xl py-2",onClick:()=>C(),children:"Save Changes"}),z.jsxs("div",{id:"subtasks-and-progress-container",className:"flex justify-between my-10",children:[z.jsx("div",{id:"subtask-container",className:"flex flex-col items-center bg-blue-200 rounded-sm w-3/6 h-70 border-2 border-blue-400 overflow-auto shadow-xl",children:z.jsx(xO,{})}),z.jsx("div",{className:"flex flex-col justify-center items-center px-20",children:z.jsx(CO,{})})]})]})]}):z.jsx("img",{src:DO,alt:"taskerer-logo",className:"w-lg opacity-50"})})}async function VO(){try{return(await MR(mR(Wi,"users"))).docs.map(n=>n.data())}catch(r){throw new Error(`User data fetch failure. ${r.message}`)}}const ns=wt.createContext(null);function PO(r,t){switch(t.type){case"initialize_data":return t.payload;case"update_tasks_array":return r.map(n=>n.uid===t.payload.uid?{...n,tasks:t.payload.tasks}:n);case"update_profile_details":return r.map(n=>n.uid===t.payload.uid?{...n,username:t.payload.username,phoneNumber:t.payload.phoneNumber}:n);case"add_user":return[...r,t.payload];default:return r}}function UO(r,t){switch(t.type){case"set_current_user":return localStorage.setItem("current-user",JSON.stringify(t.payload.user)),t.payload.user;default:return r}}function LO(){const[r,t]=wt.useReducer(PO,[]),[n,s]=wt.useReducer(UO,JSON.parse(localStorage.getItem("current-user"))),o=JSON.parse(localStorage.getItem("current-user"))||"",[u,f]=wt.useState(o!==""&&o.tasks.find(H=>H.selected)),[m,p]=wt.useState(!1),[y,b]=wt.useState(JSON.parse(localStorage.getItem("current-user"))||"");wt.useEffect(()=>{(async()=>{const X=await VO();t({type:"initialize_data",payload:X})})()},[]);function I(H){return H!==""?iO(H,lh(new Date,"MM/dd/yyyy")):!1}function O(H){return!!(H.subTasks.every(X=>X.completed===!0)&&H.subTasks.length>=1)}function B(){let H=[],X=0;for(let K=0;K<20;K++)X%2===0?(H.push(Math.floor(Math.random()*10)),X++):(H.push(String.fromCharCode(Math.floor(Math.random()*26)+97)),X++);return H.join("")}return z.jsx("main",{className:"flex h-screen",children:z.jsxs(ns.Provider,{value:{userData:r,dispatchUserData:t,currentUserLoggedIn:n,dispatchCurrentUser:s,currentSelectedTask:u,setCurrentSelectedTask:f,userLogged:y,setUserLogged:b,loadingSelection:m,setLoadingSelection:p,isPastDue:I,isTaskConcluded:O,uniqueId:B},children:[z.jsx(AO,{}),z.jsx(kO,{})]})})}w1.createRoot(document.getElementById("root")).render(z.jsx(wt.StrictMode,{children:z.jsx(LO,{})}));
